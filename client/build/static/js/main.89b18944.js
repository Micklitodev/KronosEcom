/*! For license information please see main.89b18944.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var s=l(t),v=l(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{u(t,g,y)}catch(b){}}}}return t}},390:function(e){function t(e){this.message=e}t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,a=0,o=0,s="";i=n.charAt(o++);~i&&(r=a%4?64*r+i:i,a++%4)?s+=String.fromCharCode(255&r>>(-2*a&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s}},180:function(e,t,n){var r=n(390);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return r(t)}}},513:function(e,t,n){"use strict";var r=n(180);function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!==typeof e)throw new i("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(a){throw new i("Invalid token specified: "+a.message)}},e.exports.InvalidTokenError=i},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))n.call(a,u)&&(s[u]=a[u]);if(t){o=t(a);for(var c=0;c<o.length;c++)r.call(a,o[c])&&(s[o[c]]=a[o[c]])}}return s}},907:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case h:case v:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===a}},186:function(e,t,n){"use strict";e.exports=n(907)},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,h=null,d={onError:function(e){l=!0,u=e}};function f(e,t,n,r,i,a,o,c,h){l=!1,u=null,s.apply(d,arguments)}var p=null,v=null,m=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,s,d,p){if(f.apply(this,arguments),l){if(!l)throw Error(o(198));var v=u;l=!1,u=null,c||(c=!0,h=v)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function x(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!w[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(o(99,l));E[l]=a;var u=a.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&_(u[i],s,l);i=!0}else a.registrationName?(_(a.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function _(e,t,n){if(S[e])throw Error(o(100,e));S[e]=t,T[e]=t.eventTypes[n].dependencies}var w=[],E={},S={},T={};function M(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&x()}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,R=null,C=null;function O(e){if(e=v(e)){if("function"!==typeof A)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),A(e.stateNode,e.type,t))}}function I(e){R?C?C.push(e):C=[e]:R=e}function P(){if(R){var e=R,t=C;if(C=R=null,O(e),t)for(e=0;e<t.length;e++)O(t[e])}}function N(e,t){return e(t)}function D(e,t,n,r,i){return e(t,n,r,i)}function L(){}var U=N,F=!1,j=!1;function B(){null===R&&null===C||(L(),P())}function z(e,t,n){if(j)return e(t,n);j=!0;try{return U(e,t,n)}finally{j=!1,B()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,W={},G={};function q(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var X={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){X[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];X[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){X[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){X[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){X[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){X[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){X[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){X[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){X[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,Q);X[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,Q);X[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,Q);X[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){X[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),X.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){X[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=X.hasOwnProperty(t)?X[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!H.call(G,e)||!H.call(W,e)&&(V.test(e)?G[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ue=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,he=Z?Symbol.for("react.memo"):60115,de=Z?Symbol.for("react.lazy"):60116,fe=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return me(e.type);case fe:return me(e.render);case de:if(e=1===e._status?e._result:null)return me(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Te(e,t){Se(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ke(e,t.type,n):t.hasOwnProperty("defaultValue")&&ke(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Me(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ke(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Ie(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Pe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ne="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,je,Be=(je=function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return je(e,t)}))}:je);function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var He={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},We={},Ge={};function qe(e){if(We[e])return We[e];if(!He[e])return e;var t,n=He[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return We[e]=n[t];return e}k&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);var Xe=qe("animationend"),Ye=qe("animationiteration"),Qe=qe("animationstart"),Ke=qe("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,st),ot)throw Error(o(95));if(c)throw e=h,c=!1,h=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!k)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ht=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ht.length&&ht.push(e)}function ft(e,t,n,r){if(ht.length){var i=ht.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Pn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,l=0;l<w.length;l++){var u=w[l];u&&(u=u.extractEvents(r,t,a,i,o))&&(s=it(s,u))}lt(s)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Qt(t,"scroll",!0);break;case"focus":case"blur":Qt(t,"focus",!0),Qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Yt(e,t)}n.set(e,null)}}var mt,gt,yt,bt=!1,xt=[],_t=null,wt=null,Et=null,St=new Map,Tt=new Map,Mt=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),At="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Rt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ct(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Rt(t,n,r,i,a),null!==t&&(null!==(t=Nn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function It(e){var t=Pn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Nt(e,t,n){Pt(e)&&n.delete(t)}function Dt(){for(bt=!1;0<xt.length;){var e=xt[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:xt.shift()}null!==_t&&Pt(_t)&&(_t=null),null!==wt&&Pt(wt)&&(wt=null),null!==Et&&Pt(Et)&&(Et=null),St.forEach(Nt),Tt.forEach(Nt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Dt)))}function Ut(e){function t(t){return Lt(t,e)}if(0<xt.length){Lt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Lt(_t,e),null!==wt&&Lt(wt,e),null!==Et&&Lt(Et,e),St.forEach(t),Tt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)It(n),null===n.blockedOn&&Mt.shift()}var Ft={},jt=new Map,Bt=new Map,zt=["abort","abort",Xe,"animationEnd",Ye,"animationIteration",Qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),jt.set(r,a),Ft[i]=a}}Vt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(zt,2);for(var Ht="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<Ht.length;Wt++)Bt.set(Ht[Wt],0);var Gt=a.unstable_UserBlockingPriority,qt=a.unstable_runWithPriority,Xt=!0;function Yt(e,t){Qt(t,e,!1)}function Qt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Kt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Kt(e,t,n,r){F||L();var i=Jt,a=F;F=!0;try{D(i,e,t,n,r)}finally{(F=a)||B()}}function $t(e,t,n,r){qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Xt)if(0<xt.length&&-1<kt.indexOf(e))e=Rt(null,e,t,n,r),xt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Ct(e,r);else if(-1<kt.indexOf(e))e=Rt(i,e,t,n,r),xt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Ot(_t,e,t,n,r,i),!0;case"dragenter":return wt=Ot(wt,e,t,n,r,i),!0;case"mouseover":return Et=Ot(Et,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return St.set(a,Ot(St.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Tt.set(a,Ot(Tt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ct(e,r),e=ft(e,r,null,t);try{z(pt,e)}finally{dt(e)}}}}function Zt(e,t,n,r){if(null!==(n=Pn(n=ut(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ft(e,r,n,t);try{z(pt,e)}finally{dt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=Ne;function un(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function cn(){}function hn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=hn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=hn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn="$",yn="/$",bn="$?",xn="$!",_n=null,wn=null;function En(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Sn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Tn="function"===typeof setTimeout?setTimeout:void 0,Mn="function"===typeof clearTimeout?clearTimeout:void 0;function kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function An(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===gn||n===xn||n===bn){if(0===t)return e;t--}else n===yn&&t++}e=e.previousSibling}return null}var Rn=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+Rn,On="__reactEventHandlers$"+Rn,In="__reactContainere$"+Rn;function Pn(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[Cn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=An(e);null!==e;){if(n=e[Cn])return n;e=An(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[Cn]||e[In])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ln(e){return e[On]||null}function Un(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Fn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function jn(e,t,n){(t=Fn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Un(t);for(t=n.length;0<t--;)jn(n[t],"captured",e);for(t=0;t<n.length;t++)jn(n[t],"bubbled",e)}}function zn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Fn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){e&&e.dispatchConfig.registrationName&&zn(e._targetInst,null,e)}function Hn(e){at(e,Bn)}var Wn=null,Gn=null,qn=null;function Xn(){if(qn)return qn;var e,t,n=Gn,r=n.length,i="value"in Wn?Wn.value:Wn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return qn=i.slice(e,1<t?1-t:void 0)}function Yn(){return!0}function Qn(){return!1}function Kn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Yn:Qn,this.isPropagationStopped=Qn,this}function $n(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=$n,e.release=Jn}i(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){this.isPersistent=Yn},isPersistent:Qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Qn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Kn);var er=Kn.extend({data:null}),tr=Kn.extend({data:null}),nr=[9,13,27,32],rr=k&&"CompositionEvent"in window,ir=null;k&&"documentMode"in document&&(ir=document.documentMode);var ar=k&&"TextEvent"in window&&!ir,or=k&&(!rr||ir&&8<ir&&11>=ir),sr=String.fromCharCode(32),lr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ur=!1;function cr(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function hr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var dr=!1;var fr={eventTypes:lr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var a=lr.compositionStart;break e;case"compositionend":a=lr.compositionEnd;break e;case"compositionupdate":a=lr.compositionUpdate;break e}a=void 0}else dr?cr(e,n)&&(a=lr.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=lr.compositionStart);return a?(or&&"ko"!==n.locale&&(dr||a!==lr.compositionStart?a===lr.compositionEnd&&dr&&(i=Xn()):(Gn="value"in(Wn=r)?Wn.value:Wn.textContent,dr=!0)),a=er.getPooled(a,t,n,r),i?a.data=i:null!==(i=hr(n))&&(a.data=i),Hn(a),i=a):i=null,(e=ar?function(e,t){switch(e){case"compositionend":return hr(t);case"keypress":return 32!==t.which?null:(ur=!0,sr);case"textInput":return(e=t.data)===sr&&ur?null:e;default:return null}}(e,n):function(e,t){if(dr)return"compositionend"===e||!rr&&cr(e,t)?(e=Xn(),qn=Gn=Wn=null,dr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return or&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(lr.beforeInput,t,n,r)).data=e,Hn(t)):t=null,null===i?t:null===t?i:[i,t]}},pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!pr[e.type]:"textarea"===t}var mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function gr(e,t,n){return(e=Kn.getPooled(mr.change,e,t,n)).type="change",I(n),Hn(e),e}var yr=null,br=null;function xr(e){lt(e)}function _r(e){if(_e(Dn(e)))return e}function wr(e,t){if("change"===e)return t}var Er=!1;function Sr(){yr&&(yr.detachEvent("onpropertychange",Tr),br=yr=null)}function Tr(e){if("value"===e.propertyName&&_r(br))if(e=gr(br,e,ut(e)),F)lt(e);else{F=!0;try{N(xr,e)}finally{F=!1,B()}}}function Mr(e,t,n){"focus"===e?(Sr(),br=n,(yr=t).attachEvent("onpropertychange",Tr)):"blur"===e&&Sr()}function kr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _r(br)}function Ar(e,t){if("click"===e)return _r(t)}function Rr(e,t){if("input"===e||"change"===e)return _r(t)}k&&(Er=ct("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:mr,_isInputEventSupported:Er,extractEvents:function(e,t,n,r){var i=t?Dn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=wr;else if(vr(i))if(Er)o=Rr;else{o=kr;var s=Mr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ar);if(o&&(o=o(e,t)))return gr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&ke(i,"number",i.value)}},Or=Kn.extend({view:null,detail:null}),Ir={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ir[e])&&!!t[e]}function Nr(){return Pr}var Dr=0,Lr=0,Ur=!1,Fr=!1,jr=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Dr;return Dr=e.screenX,Ur?"mousemove"===e.type?e.screenX-t:0:(Ur=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Lr;return Lr=e.screenY,Fr?"mousemove"===e.type?e.screenY-t:0:(Fr=!0,0)}}),Br=jr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vr={eventTypes:zr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Pn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=jr,l=zr.mouseLeave,u=zr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Br,l=zr.pointerLeave,u=zr.pointerEnter,c="pointer");if(e=null==o?a:Dn(o),a=null==t?a:Dn(t),(l=s.getPooled(l,o,n,r)).type=c+"leave",l.target=e,l.relatedTarget=a,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=a,n.relatedTarget=e,c=t,(r=o)&&c)e:{for(u=c,o=0,e=s=r;e;e=Un(e))o++;for(e=0,t=u;t;t=Un(t))e++;for(;0<o-e;)s=Un(s),o--;for(;0<e-o;)u=Un(u),e--;for(;o--;){if(s===u||s===u.alternate)break e;s=Un(s),u=Un(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(o=r.alternate)||o!==u);)s.push(r),r=Un(r);for(r=[];c&&c!==u&&(null===(o=c.alternate)||o!==u);)r.push(c),c=Un(c);for(c=0;c<s.length;c++)zn(s[c],"bubbled",l);for(c=r.length;0<c--;)zn(r[c],"captured",n);return 0===(64&i)?[l]:[l,n]}};var Hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Wr=Object.prototype.hasOwnProperty;function Gr(e,t){if(Hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Wr.call(t,n[r])||!Hr(e[n[r]],t[n[r]]))return!1;return!0}var qr=k&&"documentMode"in document&&11>=document.documentMode,Xr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Yr=null,Qr=null,Kr=null,$r=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $r||null==Yr||Yr!==hn(n)?null:("selectionStart"in(n=Yr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kr&&Gr(Kr,n)?null:(Kr=n,(e=Kn.getPooled(Xr.select,Qr,e,t)).type="select",e.target=Yr,Hn(e),e))}var Zr={eventTypes:Xr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),a=T.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Dn(t):window,e){case"focus":(vr(i)||"true"===i.contentEditable)&&(Yr=i,Qr=t,Kr=null);break;case"blur":Kr=Qr=Yr=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":return $r=!1,Jr(n,r);case"selectionchange":if(qr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},ei=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Kn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Or.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oi=Or.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ai[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),si=jr.extend({dataTransfer:null}),li=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),ui=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ci=jr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),hi={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=jt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=oi;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=si;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=li;break;case Xe:case Ye:case Qe:e=ei;break;case Ke:e=ui;break;case"scroll":e=Or;break;case"wheel":e=ci;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Br;break;default:e=Kn}return Hn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),p=Ln,v=Nn,m=Dn,M({SimpleEventPlugin:hi,EnterLeaveEventPlugin:Vr,ChangeEventPlugin:Cr,SelectEventPlugin:Zr,BeforeInputEventPlugin:fr});var di=[],fi=-1;function pi(e){0>fi||(e.current=di[fi],di[fi]=null,fi--)}function vi(e,t){fi++,di[fi]=e.current,e.current=t}var mi={},gi={current:mi},yi={current:!1},bi=mi;function xi(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wi(){pi(yi),pi(gi)}function Ei(e,t,n){if(gi.current!==mi)throw Error(o(168));vi(gi,t),vi(yi,n)}function Si(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mi,bi=gi.current,vi(gi,e),vi(yi,yi.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Si(e,t,bi),r.__reactInternalMemoizedMergedChildContext=e,pi(yi),pi(gi),vi(gi,e)):pi(yi),vi(yi,n)}var ki=a.unstable_runWithPriority,Ai=a.unstable_scheduleCallback,Ri=a.unstable_cancelCallback,Ci=a.unstable_requestPaint,Oi=a.unstable_now,Ii=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ni=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Ui=a.unstable_IdlePriority,Fi={},ji=a.unstable_shouldYield,Bi=void 0!==Ci?Ci:function(){},zi=null,Vi=null,Hi=!1,Wi=Oi(),Gi=1e4>Wi?Oi:function(){return Oi()-Wi};function qi(){switch(Ii()){case Pi:return 99;case Ni:return 98;case Di:return 97;case Li:return 96;case Ui:return 95;default:throw Error(o(332))}}function Xi(e){switch(e){case 99:return Pi;case 98:return Ni;case 97:return Di;case 96:return Li;case 95:return Ui;default:throw Error(o(332))}}function Yi(e,t){return e=Xi(e),ki(e,t)}function Qi(e,t,n){return e=Xi(e),Ai(e,t,n)}function Ki(e){return null===zi?(zi=[e],Vi=Ai(Pi,Ji)):zi.push(e),Fi}function $i(){if(null!==Vi){var e=Vi;Vi=null,Ri(e)}Ji()}function Ji(){if(!Hi&&null!==zi){Hi=!0;var e=0;try{var t=zi;Yi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Ai(Pi,$i),n}finally{Hi=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function ea(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ta={current:null},na=null,ra=null,ia=null;function aa(){ia=ra=na=null}function oa(e){var t=ta.current;pi(ta),e.type._context._currentValue=t}function sa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function la(e,t){na=e,ia=ra=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Lo=!0),e.firstContext=null)}function ua(e,t){if(ia!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ia=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ra){if(null===na)throw Error(o(308));ra=t,na.dependencies={expirationTime:0,firstContext:t,responders:null}}else ra=ra.next=t;return e._currentValue}var ca=!1;function ha(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function pa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function va(e,t){var n=e.alternate;null!==n&&da(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ma(e,t,n,r){var a=e.updateQueue;ca=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var l=o.next;o.next=s.next,s.next=l}o=s,a.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==o){l=o.next;var u=a.baseState,c=0,h=null,d=null,f=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(d=f=v,h=u):f=f.next=v,s>c&&(c=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),wl(s,p.suspenseConfig);e:{var m=e,g=p;switch(s=t,v=n,g.tag){case 1:if("function"===typeof(m=g.payload)){u=m.call(v,u,s);break e}u=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=g.payload)?m.call(v,u,s):m)||void 0===s)break e;u=i({},u,s);break e;case 2:ca=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=l,a.baseQueue=o=s,a.shared.pending=null}}null===f?h=u:f.next=d,a.baseState=h,a.baseQueue=f,El(c),e.expirationTime=c,e.memoizedState=u}}function ga(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ya=K.ReactCurrentBatchConfig,ba=(new r.Component).refs;function xa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var _a={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ul(),i=ya.suspense;(i=fa(r=cl(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),hl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ul(),i=ya.suspense;(i=fa(r=cl(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),pa(e,i),hl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ul(),r=ya.suspense;(r=fa(n=cl(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),pa(e,r),hl(e,n)}};function wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(i,a))}function Ea(e,t,n){var r=!1,i=mi,a=t.contextType;return"object"===typeof a&&null!==a?a=ua(a):(i=_i(t)?bi:gi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?xi(e,i):mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=_a,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Sa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_a.enqueueReplaceState(t,t.state,null)}function Ta(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ba,ha(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ua(a):(a=_i(t)?bi:gi.current,i.context=xi(e,a)),ma(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(xa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&_a.enqueueReplaceState(i,i.state,null),ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ma=Array.isArray;function ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ba&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Aa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ra(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ka(e,t,n),r.return=e,r):((r=Wl(n.type,n.key,n.props,null,e.mode,r)).ref=ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Gl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Wl(t.type,t.key,t.props,null,e.mode,n)).ref=ka(e,null,t),n.return=e,n;case te:return(t=Xl(t,e.mode,n)).return=e,t}if(Ma(t)||ve(t))return(t=Gl(t,e.mode,n,null)).return=e,t;Aa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(Ma(n)||ve(n))return null!==i?null:h(e,t,n,r,null);Aa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ma(r)||ve(r))return h(t,e=e.get(n)||null,r,i,null);Aa(t,r)}return null}function v(i,o,s,l){for(var u=null,c=null,h=o,v=o=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=f(i,h,s[v],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,v),null===c?u=g:c.sibling=g,c=g,h=m}if(v===s.length)return n(i,h),u;if(null===h){for(;v<s.length;v++)null!==(h=d(i,s[v],l))&&(o=a(h,o,v),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),u}function m(i,s,l,u){var c=ve(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,v=s,m=s=0,g=null,y=l.next();null!==v&&!y.done;m++,y=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=f(i,v,y.value,u);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===h?c=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,u))&&(s=a(y,s,m),null===h?c=y:h.sibling=y,h=y);return c}for(v=r(i,v);!y.done;m++,y=l.next())null!==(y=p(v,i,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,a,l){var u="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;u&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ee:e:{for(c=a.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(a.type===ne){n(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}}else if(u.elementType===a.type){n(e,u.sibling),(r=i(u,a.props)).ref=ka(e,u,a),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}a.type===ne?((r=Gl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Wl(a.type,a.key,a.props,null,e.mode,l)).ref=ka(e,r,a),l.return=e,e=l)}return s(e);case te:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xl(a,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=ql(a,e.mode,l)).return=e,e=r),s(e);if(Ma(a))return v(e,r,a,l);if(ve(a))return m(e,r,a,l);if(c&&Aa(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ca=Ra(!0),Oa=Ra(!1),Ia={},Pa={current:Ia},Na={current:Ia},Da={current:Ia};function La(e){if(e===Ia)throw Error(o(174));return e}function Ua(e,t){switch(vi(Da,t),vi(Na,e),vi(Pa,Ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:t=Ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}pi(Pa),vi(Pa,t)}function Fa(){pi(Pa),pi(Na),pi(Da)}function ja(e){La(Da.current);var t=La(Pa.current),n=Ue(t,e.type);t!==n&&(vi(Na,e),vi(Pa,n))}function Ba(e){Na.current===e&&(pi(Pa),pi(Na))}var za={current:0};function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===bn||n.data===xn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ha(e,t){return{responder:e,props:t}}var Wa=K.ReactCurrentDispatcher,Ga=K.ReactCurrentBatchConfig,qa=0,Xa=null,Ya=null,Qa=null,Ka=!1;function $a(){throw Error(o(321))}function Ja(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function Za(e,t,n,r,i,a){if(qa=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Wa.current=null===e||null===e.memoizedState?Eo:So,e=n(r,i),t.expirationTime===qa){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Qa=Ya=null,t.updateQueue=null,Wa.current=To,e=n(r,i)}while(t.expirationTime===qa)}if(Wa.current=wo,t=null!==Ya&&null!==Ya.next,qa=0,Qa=Ya=Xa=null,Ka=!1,t)throw Error(o(300));return e}function eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qa?Xa.memoizedState=Qa=e:Qa=Qa.next=e,Qa}function to(){if(null===Ya){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=Ya.next;var t=null===Qa?Xa.memoizedState:Qa.next;if(null!==t)Qa=t,Ya=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ya=e).memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},null===Qa?Xa.memoizedState=Qa=e:Qa=Qa.next=e}return Qa}function no(e,t){return"function"===typeof t?t(e):t}function ro(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ya,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=a=null,u=i;do{var c=u.expirationTime;if(c<qa){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,a=r):l=l.next=h,c>Xa.expirationTime&&(Xa.expirationTime=c,El(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),wl(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?a=r:l.next=s,Hr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function io(e){var t=to(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Hr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ao(e){var t=eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:e}).dispatch=_o.bind(null,Xa,e),[t.memoizedState,e]}function oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function so(){return to().memoizedState}function lo(e,t,n,r){var i=eo();Xa.effectTag|=e,i.memoizedState=oo(1|t,n,void 0,void 0===r?null:r)}function uo(e,t,n,r){var i=to();r=void 0===r?null:r;var a=void 0;if(null!==Ya){var o=Ya.memoizedState;if(a=o.destroy,null!==r&&Ja(r,o.deps))return void oo(t,n,a,r)}Xa.effectTag|=e,i.memoizedState=oo(1|t,n,a,r)}function co(e,t){return lo(516,4,e,t)}function ho(e,t){return uo(516,4,e,t)}function fo(e,t){return uo(4,2,e,t)}function po(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,uo(4,2,po.bind(null,t,e),n)}function mo(){}function go(e,t){return eo().memoizedState=[e,void 0===t?null:t],e}function yo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bo(e,t){var n=to();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ja(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xo(e,t,n){var r=qi();Yi(98>r?98:r,(function(){e(!0)})),Yi(97<r?97:r,(function(){var r=Ga.suspense;Ga.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ga.suspense=r}}))}function _o(e,t,n){var r=ul(),i=ya.suspense;i={expirationTime:r=cl(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Xa||null!==a&&a===Xa)Ka=!0,i.expirationTime=qa,Xa.expirationTime=qa;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,Hr(s,o))return}catch(l){}hl(e,r)}}var wo={readContext:ua,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useResponder:$a,useDeferredValue:$a,useTransition:$a},Eo={readContext:ua,useCallback:go,useContext:ua,useEffect:co,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,lo(4,2,po.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lo(4,2,e,t)},useMemo:function(e,t){var n=eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=_o.bind(null,Xa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},eo().memoizedState=e},useState:ao,useDebugValue:mo,useResponder:Ha,useDeferredValue:function(e,t){var n=ao(e),r=n[0],i=n[1];return co((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ao(!1),n=t[0];return t=t[1],[go(xo.bind(null,t,e),[t,e]),n]}},So={readContext:ua,useCallback:yo,useContext:ua,useEffect:ho,useImperativeHandle:vo,useLayoutEffect:fo,useMemo:bo,useReducer:ro,useRef:so,useState:function(){return ro(no)},useDebugValue:mo,useResponder:Ha,useDeferredValue:function(e,t){var n=ro(no),r=n[0],i=n[1];return ho((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(no),n=t[0];return t=t[1],[yo(xo.bind(null,t,e),[t,e]),n]}},To={readContext:ua,useCallback:yo,useContext:ua,useEffect:ho,useImperativeHandle:vo,useLayoutEffect:fo,useMemo:bo,useReducer:io,useRef:so,useState:function(){return io(no)},useDebugValue:mo,useResponder:Ha,useDeferredValue:function(e,t){var n=io(no),r=n[0],i=n[1];return ho((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=io(no),n=t[0];return t=t[1],[yo(xo.bind(null,t,e),[t,e]),n]}},Mo=null,ko=null,Ao=!1;function Ro(e,t){var n=zl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Co(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Oo(e){if(Ao){var t=ko;if(t){var n=t;if(!Co(e,t)){if(!(t=kn(n.nextSibling))||!Co(e,t))return e.effectTag=-1025&e.effectTag|2,Ao=!1,void(Mo=e);Ro(Mo,n)}Mo=e,ko=kn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ao=!1,Mo=e}}function Io(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function Po(e){if(e!==Mo)return!1;if(!Ao)return Io(e),Ao=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Sn(t,e.memoizedProps))for(t=ko;t;)Ro(e,t),t=kn(t.nextSibling);if(Io(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===yn){if(0===t){ko=kn(e.nextSibling);break e}t--}else n!==gn&&n!==xn&&n!==bn||t++}e=e.nextSibling}ko=null}}else ko=Mo?kn(e.stateNode.nextSibling):null;return!0}function No(){ko=Mo=null,Ao=!1}var Do=K.ReactCurrentOwner,Lo=!1;function Uo(e,t,n,r){t.child=null===e?Oa(t,null,n,r):Ca(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return la(t,i),r=Za(e,t,n,r,a,i),null===e||Lo?(t.effectTag|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Vl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wl(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?ts(e,t,a):(t.effectTag|=1,(e=Hl(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){return null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref&&(Lo=!1,i<a)?(t.expirationTime=e.expirationTime,ts(e,t,a)):Vo(e,t,n,r,a)}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Vo(e,t,n,r,i){var a=_i(n)?bi:gi.current;return a=xi(t,a),la(t,i),n=Za(e,t,n,r,a,i),null===e||Lo?(t.effectTag|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function Ho(e,t,n,r,i){if(_i(n)){var a=!0;Ti(t)}else a=!1;if(la(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ea(t,n,r),Ta(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=ua(u):u=xi(t,u=_i(n)?bi:gi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Sa(t,o,r,u),ca=!1;var d=t.memoizedState;o.state=d,ma(t,r,o,i),l=t.memoizedState,s!==r||d!==l||yi.current||ca?("function"===typeof c&&(xa(t,n,c,r),l=t.memoizedState),(s=ca||wa(t,n,s,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,da(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:ea(t.type,s),l=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=ua(u):u=xi(t,u=_i(n)?bi:gi.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Sa(t,o,r,u),ca=!1,l=t.memoizedState,o.state=l,ma(t,r,o,i),d=t.memoizedState,s!==r||l!==d||yi.current||ca?("function"===typeof c&&(xa(t,n,c,r),d=t.memoizedState),(c=ca||wa(t,n,s,r,l,d,u))?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,d,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Mi(t,n,!1),ts(e,t,a);r=t.stateNode,Do.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),Ua(e,t.containerInfo)}var qo,Xo,Yo,Qo,Ko={dehydrated:null,retryTime:0};function $o(e,t,n){var r,i=t.mode,a=t.pendingProps,o=za.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),vi(za,1&o),null===e){if(void 0!==a.fallback&&Oo(t),s){if(s=a.fallback,(a=Gl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Gl(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Ko,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Oa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Hl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Hl(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Ko,t.child=n,i}return n=Ca(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Gl(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Gl(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Ko,t.child=a,n}return t.memoizedState=null,t.child=Ca(t,e,a.children,n)}function Jo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),sa(e.return,t)}function Zo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function es(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=za.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n);else if(19===e.tag)Jo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(vi(za,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,a,t.lastEffect);break;case"together":Zo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ts(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&El(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ns(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(t.type)&&wi(),null;case 3:return Fa(),pi(yi),pi(gi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Po(t)||(t.effectTag|=4),Xo(t),null;case 5:Ba(t),n=La(Da.current);var a=t.type;if(null!==e&&null!=t.stateNode)Yo(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=La(Pa.current),Po(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[Cn]=t,r[On]=s,a){case"iframe":case"object":case"embed":Yt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Yt($e[e],r);break;case"source":Yt("error",r);break;case"img":case"image":case"link":Yt("error",r),Yt("load",r);break;case"form":Yt("reset",r),Yt("submit",r);break;case"details":Yt("toggle",r);break;case"input":Ee(r,s),Yt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",r),un(n,"onChange");break;case"textarea":Oe(r,s),Yt("invalid",r),un(n,"onChange")}for(var l in on(a,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(e=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(e=["children",""+u]):S.hasOwnProperty(l)&&null!=u&&un(n,l)}switch(a){case"input":xe(r),Me(r,s,!0);break;case"textarea":xe(r),Pe(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===ln&&(e=Le(a)),e===ln?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(a,{is:r.is}):(e=l.createElement(a),"select"===a&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,a),e[Cn]=t,e[On]=r,qo(e,t,!1,!1),t.stateNode=e,l=sn(a,r),a){case"iframe":case"object":case"embed":Yt("load",e),u=r;break;case"video":case"audio":for(u=0;u<$e.length;u++)Yt($e[u],e);u=r;break;case"source":Yt("error",e),u=r;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),u=r;break;case"form":Yt("reset",e),Yt("submit",e),u=r;break;case"details":Yt("toggle",e),u=r;break;case"input":Ee(e,r),u=we(e,r),Yt("invalid",e),un(n,"onChange");break;case"option":u=Ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Yt("invalid",e),un(n,"onChange");break;case"textarea":Oe(e,r),u=Ce(e,r),Yt("invalid",e),un(n,"onChange");break;default:u=r}on(a,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?rn(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Be(e,h):"children"===s?"string"===typeof h?("textarea"!==a||""!==h)&&ze(e,h):"number"===typeof h&&ze(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=h&&un(n,s):null!=h&&$(e,s,h,l))}switch(a){case"input":xe(e),Me(e,r,!1);break;case"textarea":xe(e),Pe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Re(e,!!r.multiple,n,!1):null!=r.defaultValue&&Re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=cn)}En(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=La(Da.current),La(Pa.current),Po(t)?(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=t,t.stateNode=n)}return null;case 13:return pi(za),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Po(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&za.current)?Hs===Ps&&(Hs=Ls):(Hs!==Ps&&Hs!==Ls||(Hs=Us),0!==Ys&&null!==Bs&&(Kl(Bs,Vs),$l(Bs,Ys)))),(n||r)&&(t.effectTag|=4),null);case 4:return Fa(),Xo(t),null;case 10:return oa(t),null;case 19:if(pi(za),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)ns(r,!1);else if(Hs!==Ps||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Va(s))){for(t.effectTag|=64,ns(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return vi(za,1&za.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Va(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),ns(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,ns(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Gi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=za.current,vi(za,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function is(e){switch(e.tag){case 1:_i(e.type)&&wi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fa(),pi(yi),pi(gi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ba(e),null;case 13:return pi(za),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return pi(za),null;case 4:return Fa(),null;case 10:return oa(e),null;default:return null}}function as(e,t){return{value:e,source:t,stack:ge(t)}}qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(){},Yo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,l,u=t.stateNode;switch(La(Pa.current),e=null,n){case"input":o=we(u,o),r=we(u,r),e=[];break;case"option":o=Ae(u,o),r=Ae(u,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ce(u,o),r=Ce(u,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(u.onclick=cn)}for(s in on(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(l in u=o[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=c&&un(a,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Qo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var os="function"===typeof WeakSet?WeakSet:Set;function ss(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ls(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Dl(e,n)}else t.current=null}function us(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ea(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function cs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function hs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ds(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void hs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:ea(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ga(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ga(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&En(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ut(n)))))}throw Error(o(163))}function fs(e,t,n){switch("function"===typeof jl&&jl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Yi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Dl(i,a)}}e=e.next}while(e!==r)}))}break;case 1:ls(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Dl(e,n)}}(t,n);break;case 5:ls(t);break;case 4:bs(e,t,n)}}function ps(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ps(t)}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ms(e){e:{for(var t=e.return;null!==t;){if(vs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?gs(e,n,t):ys(e,n,t)}function gs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=cn));else if(4!==r&&null!==(e=e.child))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var l=e,u=a,c=n,h=u;;)if(fs(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break e;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=r,u=a.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(fs(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function xs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void cs(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[On]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),sn(e,i),t=sn(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?rn(n,l):"dangerouslySetInnerHTML"===s?Be(n,l):"children"===s?ze(n,l):$(n,s,l,t)}switch(e){case"input":Te(n,r);break;case"textarea":Ie(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Re(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Re(n,!!r.multiple,r.defaultValue,!0):Re(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ut(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ks=Gi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void _s(t);case 19:return void _s(t)}throw Error(o(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new os),t.forEach((function(t){var r=Ul.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ws="function"===typeof WeakMap?WeakMap:Map;function Es(e,t,n){(n=fa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,el=r),ss(e,t)},n}function Ss(e,t,n){(n=fa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tl?tl=new Set([this]):tl.add(this),ss(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ts,Ms=Math.ceil,ks=K.ReactCurrentDispatcher,As=K.ReactCurrentOwner,Rs=0,Cs=8,Os=16,Is=32,Ps=0,Ns=1,Ds=2,Ls=3,Us=4,Fs=5,js=Rs,Bs=null,zs=null,Vs=0,Hs=Ps,Ws=null,Gs=1073741823,qs=1073741823,Xs=null,Ys=0,Qs=!1,Ks=0,$s=500,Js=null,Zs=!1,el=null,tl=null,nl=!1,rl=null,il=90,al=null,ol=0,sl=null,ll=0;function ul(){return(js&(Os|Is))!==Rs?1073741821-(Gi()/10|0):0!==ll?ll:ll=1073741821-(Gi()/10|0)}function cl(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=qi();if(0===(4&t))return 99===r?1073741823:1073741822;if((js&Os)!==Rs)return Vs;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Bs&&e===Vs&&--e,e}function hl(e,t){if(50<ol)throw ol=0,sl=null,Error(o(185));if(null!==(e=dl(e,t))){var n=qi();1073741823===t?(js&Cs)!==Rs&&(js&(Os|Is))===Rs?ml(e):(pl(e),js===Rs&&$i()):pl(e),(4&js)===Rs||98!==n&&99!==n||(null===al?al=new Map([[e,t]]):(void 0===(n=al.get(e))||n>t)&&al.set(e,t))}}function dl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Bs===i&&(El(t),Hs===Us&&Kl(i,Vs)),$l(i,t)),i}function fl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ql(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function pl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ki(ml.bind(null,e));else{var t=fl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=ul();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Fi&&Ri(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ki(ml.bind(null,e)):Qi(r,vl.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function vl(e,t){if(ll=0,t)return Jl(e,t=ul()),pl(e),null;var n=fl(e);if(0!==n){if(t=e.callbackNode,(js&(Os|Is))!==Rs)throw Error(o(327));if(Il(),e===Bs&&n===Vs||bl(e,n),null!==zs){var r=js;js|=Os;for(var i=_l();;)try{Tl();break}catch(l){xl(e,l)}if(aa(),js=r,ks.current=i,Hs===Ns)throw t=Ws,bl(e,n),Kl(e,n),pl(e),t;if(null===zs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Hs,Bs=null,r){case Ps:case Ns:throw Error(o(345));case Ds:Jl(e,2<n?2:n);break;case Ls:if(Kl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Al(i)),1073741823===Gs&&10<(i=Ks+$s-Gi())){if(Qs){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,bl(e,n);break}}if(0!==(a=fl(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Tn(Rl.bind(null,e),i);break}Rl(e);break;case Us:if(Kl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Al(i)),Qs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,bl(e,n);break}if(0!==(i=fl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==qs?r=10*(1073741821-qs)-Gi():1073741823===Gs?r=0:(r=10*(1073741821-Gs)-5e3,0>(r=(i=Gi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ms(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Tn(Rl.bind(null,e),r);break}Rl(e);break;case Fs:if(1073741823!==Gs&&null!==Xs){a=Gs;var s=Xs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Gi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Kl(e,n),e.timeoutHandle=Tn(Rl.bind(null,e),r);break}}Rl(e);break;default:throw Error(o(329))}if(pl(e),e.callbackNode===t)return vl.bind(null,e)}}return null}function ml(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(js&(Os|Is))!==Rs)throw Error(o(327));if(Il(),e===Bs&&t===Vs||bl(e,t),null!==zs){var n=js;js|=Os;for(var r=_l();;)try{Sl();break}catch(i){xl(e,i)}if(aa(),js=n,ks.current=r,Hs===Ns)throw n=Ws,bl(e,t),Kl(e,t),pl(e),n;if(null!==zs)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Bs=null,Rl(e),pl(e)}return null}function gl(e,t){var n=js;js|=1;try{return e(t)}finally{(js=n)===Rs&&$i()}}function yl(e,t){var n=js;js&=-2,js|=Cs;try{return e(t)}finally{(js=n)===Rs&&$i()}}function bl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Mn(n)),null!==zs)for(n=zs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wi();break;case 3:Fa(),pi(yi),pi(gi);break;case 5:Ba(r);break;case 4:Fa();break;case 13:case 19:pi(za);break;case 10:oa(r)}n=n.return}Bs=e,zs=Hl(e.current,null),Vs=t,Hs=Ps,Ws=null,qs=Gs=1073741823,Xs=null,Ys=0,Qs=!1}function xl(e,t){for(;;){try{if(aa(),Wa.current=wo,Ka)for(var n=Xa.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(qa=0,Qa=Ya=Xa=null,Ka=!1,null===zs||null===zs.return)return Hs=Ns,Ws=t,zs=null;e:{var i=e,a=zs.return,o=zs,s=t;if(t=Vs,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&o.mode)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.expirationTime=u.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&za.current),h=a;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var v=h.updateQueue;if(null===v){var m=new Set;m.add(l),h.updateQueue=m}else v.add(l);if(0===(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=fa(1073741823,null);g.tag=2,pa(o,g)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ws,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(o)){s.add(o);var b=Ll.bind(null,i,l,o);l.then(b,b)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(o))}Hs!==Fs&&(Hs=Ds),s=as(s,o),h=a;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=t,va(h,Es(h,l,t));break e;case 1:l=s;var x=h.type,_=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===tl||!tl.has(_)))){h.effectTag|=4096,h.expirationTime=t,va(h,Ss(h,l,t));break e}}h=h.return}while(null!==h)}zs=kl(zs)}catch(w){t=w;continue}break}}function _l(){var e=ks.current;return ks.current=wo,null===e?wo:e}function wl(e,t){e<Gs&&2<e&&(Gs=e),null!==t&&e<qs&&2<e&&(qs=e,Xs=t)}function El(e){e>Ys&&(Ys=e)}function Sl(){for(;null!==zs;)zs=Ml(zs)}function Tl(){for(;null!==zs&&!ji();)zs=Ml(zs)}function Ml(e){var t=Ts(e.alternate,e,Vs);return e.memoizedProps=e.pendingProps,null===t&&(t=kl(e)),As.current=null,t}function kl(e){zs=e;do{var t=zs.alternate;if(e=zs.return,0===(2048&zs.effectTag)){if(t=rs(t,zs,Vs),1===Vs||1!==zs.childExpirationTime){for(var n=0,r=zs.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}zs.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=zs.firstEffect),null!==zs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=zs.firstEffect),e.lastEffect=zs.lastEffect),1<zs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=zs:e.firstEffect=zs,e.lastEffect=zs))}else{if(null!==(t=is(zs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=zs.sibling))return t;zs=e}while(null!==zs);return Hs===Ps&&(Hs=Fs),null}function Al(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Rl(e){var t=qi();return Yi(99,Cl.bind(null,e,t)),null}function Cl(e,t){do{Il()}while(null!==rl);if((js&(Os|Is))!==Rs)throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Al(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Bs&&(zs=Bs=null,Vs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=js;js|=Is,As.current=null,_n=Xt;var s=vn();if(mn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(M){l=null;break e}var d=0,f=-1,p=-1,v=0,m=0,g=s,y=null;t:for(;;){for(var b;g!==l||0!==c&&3!==g.nodeType||(f=d+c),g!==h||0!==u&&3!==g.nodeType||(p=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===l&&++v===c&&(f=d),y===h&&++m===u&&(p=d),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;wn={activeElementDetached:null,focusedElem:s,selectionRange:l},Xt=!1,Js=i;do{try{Ol()}catch(M){if(null===Js)throw Error(o(330));Dl(Js,M),Js=Js.nextEffect}}while(null!==Js);Js=i;do{try{for(s=e,l=t;null!==Js;){var x=Js.effectTag;if(16&x&&ze(Js.stateNode,""),128&x){var _=Js.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&x){case 2:ms(Js),Js.effectTag&=-3;break;case 6:ms(Js),Js.effectTag&=-3,xs(Js.alternate,Js);break;case 1024:Js.effectTag&=-1025;break;case 1028:Js.effectTag&=-1025,xs(Js.alternate,Js);break;case 4:xs(Js.alternate,Js);break;case 8:bs(s,c=Js,l),ps(c)}Js=Js.nextEffect}}catch(M){if(null===Js)throw Error(o(330));Dl(Js,M),Js=Js.nextEffect}}while(null!==Js);if(w=wn,_=vn(),x=w.focusedElem,l=w.selectionRange,_!==x&&x&&x.ownerDocument&&pn(x.ownerDocument.documentElement,x)){null!==l&&mn(x)&&(_=l.start,void 0===(w=l.end)&&(w=_),"selectionStart"in x?(x.selectionStart=_,x.selectionEnd=Math.min(w,x.value.length)):(w=(_=x.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),c=x.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!w.extend&&s>l&&(c=l,l=s,s=c),c=fn(x,s),h=fn(x,l),c&&h&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((_=_.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),s>l?(w.addRange(_),w.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),w.addRange(_))))),_=[];for(w=x;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<_.length;x++)(w=_[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Xt=!!_n,wn=_n=null,e.current=n,Js=i;do{try{for(x=e;null!==Js;){var E=Js.effectTag;if(36&E&&ds(x,Js.alternate,Js),128&E){_=void 0;var S=Js.ref;if(null!==S){var T=Js.stateNode;Js.tag,_=T,"function"===typeof S?S(_):S.current=_}}Js=Js.nextEffect}}catch(M){if(null===Js)throw Error(o(330));Dl(Js,M),Js=Js.nextEffect}}while(null!==Js);Js=null,Bi(),js=a}else e.current=n;if(nl)nl=!1,rl=e,il=t;else for(Js=i;null!==Js;)t=Js.nextEffect,Js.nextEffect=null,Js=t;if(0===(t=e.firstPendingTime)&&(tl=null),1073741823===t?e===sl?ol++:(ol=0,sl=e):ol=0,"function"===typeof Fl&&Fl(n.stateNode,r),pl(e),Zs)throw Zs=!1,e=el,el=null,e;return(js&Cs)!==Rs||$i(),null}function Ol(){for(;null!==Js;){var e=Js.effectTag;0!==(256&e)&&us(Js.alternate,Js),0===(512&e)||nl||(nl=!0,Qi(97,(function(){return Il(),null}))),Js=Js.nextEffect}}function Il(){if(90!==il){var e=97<il?97:il;return il=90,Yi(e,Pl)}}function Pl(){if(null===rl)return!1;var e=rl;if(rl=null,(js&(Os|Is))!==Rs)throw Error(o(331));var t=js;for(js|=Is,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:cs(5,n),hs(5,n)}}catch(r){if(null===e)throw Error(o(330));Dl(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return js=t,$i(),!0}function Nl(e,t,n){pa(e,t=Es(e,t=as(n,t),1073741823)),null!==(e=dl(e,1073741823))&&pl(e)}function Dl(e,t){if(3===e.tag)Nl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Nl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tl||!tl.has(r))){pa(n,e=Ss(n,e=as(t,e),1073741823)),null!==(n=dl(n,1073741823))&&pl(n);break}}n=n.return}}function Ll(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Bs===e&&Vs===n?Hs===Us||Hs===Ls&&1073741823===Gs&&Gi()-Ks<$s?bl(e,Vs):Qs=!0:Ql(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,pl(e)))}function Ul(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=cl(t=ul(),e,null)),null!==(e=dl(e,t))&&pl(e)}Ts=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||yi.current)Lo=!0;else{if(r<n){switch(Lo=!1,t.tag){case 3:Go(t),No();break;case 5:if(ja(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:_i(t.type)&&Ti(t);break;case 4:Ua(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,vi(ta,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?$o(e,t,n):(vi(za,1&za.current),null!==(t=ts(e,t,n))?t.sibling:null);vi(za,1&za.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return es(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),vi(za,za.current),!r)return null}return ts(e,t,n)}Lo=!1}}else Lo=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=xi(t,gi.current),la(t,n),i=Za(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)){var a=!0;Ti(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ha(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&xa(t,r,s,e),i.updater=_a,t.stateNode=i,i._reactInternalFiber=t,Ta(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Vl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===he)return 14}return 2}(i),e=ea(i,e),a){case 0:t=Vo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,ea(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,da(e,t),ma(t,r,null,n),(r=t.memoizedState.element)===i)No(),t=ts(e,t,n);else{if((i=t.stateNode.hydrate)&&(ko=kn(t.stateNode.containerInfo.firstChild),Mo=t,i=Ao=!0),i)for(n=Oa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Uo(e,t,r,n),No();t=t.child}return t;case 5:return ja(t),null===e&&Oo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Sn(r,i)?s=null:null!==a&&Sn(r,a)&&(t.effectTag|=16),zo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Uo(e,t,s,n),t=t.child),t;case 6:return null===e&&Oo(t),null;case 13:return $o(e,t,n);case 4:return Ua(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:ea(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(vi(ta,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=Hr(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!yi.current){t=ts(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===l.tag&&((c=fa(n,null)).tag=2,pa(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),sa(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,la(t,n),r=r(i=ua(i,a.unstable_observedBits)),t.effectTag|=1,Uo(e,t,r,n),t.child;case 14:return a=ea(i=t.type,t.pendingProps),jo(e,t,i,a=ea(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ea(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,_i(r)?(e=!0,Ti(t)):e=!1,la(t,n),Ea(t,r,i),Ta(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return es(e,t,n)}throw Error(o(156,t.tag))};var Fl=null,jl=null;function Bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function zl(e,t,n,r){return new Bl(e,t,n,r)}function Vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hl(e,t){var n=e.alternate;return null===n?((n=zl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Vl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Gl(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=zl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ue:return(e=zl(13,n,t,i)).type=ue,e.elementType=ue,e.expirationTime=a,e;case ce:return(e=zl(19,n,t,i)).elementType=ce,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case le:s=11;break e;case he:s=14;break e;case de:s=16,r=null;break e;case fe:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Gl(e,t,n,r){return(e=zl(7,e,r,t)).expirationTime=n,e}function ql(e,t,n){return(e=zl(6,e,null,t)).expirationTime=n,e}function Xl(e,t,n){return(t=zl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ql(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Kl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function $l(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Jl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Zl(e,t,n,r){var i=t.current,a=ul(),s=ya.suspense;a=cl(a,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(_i(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(_i(u)){n=Si(n,u,l);break e}}n=l}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),pa(i,t),hl(i,a),a}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function ru(e,t,n){var r=new Yl(e,t,n=null!=n&&!0===n.hydrate),i=zl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ha(i),e[In]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);kt.forEach((function(e){vt(e,t,n)})),At.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function au(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=eu(o);s.call(e)}}Zl(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ru(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=eu(o);l.call(e)}}yl((function(){Zl(t,o,e,i)}))}return eu(o)}function ou(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ru.prototype.render=function(e){Zl(e,this._internalRoot,null,null)},ru.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zl(null,e,null,(function(){t[In]=null}))},mt=function(e){if(13===e.tag){var t=Zi(ul(),150,100);hl(e,t),nu(e,t)}},gt=function(e){13===e.tag&&(hl(e,3),nu(e,3))},yt=function(e){if(13===e.tag){var t=ul();hl(e,t=cl(t,e,null)),nu(e,t)}},A=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ln(r);if(!i)throw Error(o(90));_e(r),Te(r,i)}}}break;case"textarea":Ie(e,n);break;case"select":null!=(t=n.value)&&Re(e,!!n.multiple,t,!1)}},N=gl,D=function(e,t,n,r,i){var a=js;js|=4;try{return Yi(98,e.bind(null,t,n,r,i))}finally{(js=a)===Rs&&$i()}},L=function(){(js&(1|Os|Is))===Rs&&(function(){if(null!==al){var e=al;al=null,e.forEach((function(e,t){Jl(t,e),pl(t)})),$i()}}(),Il())},U=function(e,t){var n=js;js|=2;try{return e(t)}finally{(js=n)===Rs&&$i()}};var su={Events:[Nn,Dn,Ln,M,E,Hn,function(e){at(e,Vn)},I,P,Jt,lt,Il,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Fl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},jl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Pn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=ou,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((js&(Os|Is))!==Rs)throw Error(o(187));var n=js;js|=1;try{return Yi(99,e.bind(null,t))}finally{js=n,$i()}},t.hydrate=function(e,t,n){if(!iu(t))throw Error(o(200));return au(null,e,t,!0,n)},t.render=function(e,t,n){if(!iu(t))throw Error(o(200));return au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!iu(e))throw Error(o(40));return!!e._reactRootContainer&&(yl((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[In]=null}))})),!0)},t.unstable_batchedUpdates=gl,t.unstable_createPortal=function(e,t){return ou(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!iu(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return au(e,t,n,!1,r)},t.version="16.14.0"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case m:case v:case l:return e;default:return t}}case i:return t}}}function w(e){return _(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||_(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=_},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:o.current}}t.jsx=u,t.jsxs=u},117:function(e,t,n){"use strict";var r=n(725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function _(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=x.prototype;var E=w.prototype=new _;E.constructor=w,r(E,x.prototype),E.isPureReactComponent=!0;var S={current:null},T=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!M.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:S.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var R=/\/+/g,C=[];function O(e,t,n,r){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function P(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+D(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=t+D(i=e[l],l);s+=P(i,u,n,r)}else if(null===e||"object"!==typeof e?u=null:u="function"===typeof(u=m&&e[m]||e["@@iterator"])?u:null,"function"===typeof u)for(e=u.call(e),l=0;!(i=e.next()).done;)s+=P(i=i.value,u=t+D(i,l++),n,r);else if("object"===i)throw n=""+e,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function N(e,t,n){return null==e?0:P(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(R,"$&/")+"/"),N(e,U,t=O(t,a,r,i)),I(t)}var j={current:null};function B(){var e=j.current;if(null===e)throw Error(g(321));return e}var z={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;N(e,L,t=O(null,null,t,n)),I(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(g(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=u,t.PureComponent=w,t.StrictMode=l,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var i=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)T.call(t,c)&&!M.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,l=null,u=function e(){if(null!==s)try{var n=t.unstable_now();s(!0,n),s=null}catch(r){throw setTimeout(e,0),r}},c=Date.now();t.unstable_now=function(){return Date.now()-c},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(u,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var m=d.now();t.unstable_now=function(){return d.now()-m}}var g=!1,y=null,b=-1,x=5,_=0;a=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+x;try{y(!0,e)?E.postMessage(null):(g=!1,y=null)}catch(n){throw E.postMessage(null),n}}else g=!1},n=function(e){y=e,g||(g=!0,E.postMessage(null))},r=function(e,n){b=f((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>k(o,n))void 0!==l&&0>k(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],R=[],C=1,O=null,I=3,P=!1,N=!1,D=!1;function L(e){for(var t=T(R);null!==t;){if(null===t.callback)M(R);else{if(!(t.startTime<=e))break;M(R),t.sortIndex=t.expirationTime,S(A,t)}t=T(R)}}function U(e){if(D=!1,L(e),!N)if(null!==T(A))N=!0,n(F);else{var t=T(R);null!==t&&r(U,t.startTime-e)}}function F(e,n){N=!1,D&&(D=!1,i()),P=!0;var o=I;try{for(L(n),O=T(A);null!==O&&(!(O.expirationTime>n)||e&&!a());){var s=O.callback;if(null!==s){O.callback=null,I=O.priorityLevel;var l=s(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?O.callback=l:O===T(A)&&M(A),L(n)}else M(A);O=T(A)}if(null!==O)var u=!0;else{var c=T(R);null!==c&&r(U,c.startTime-n),u=!1}return u}finally{O=null,I=o,P=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||P||(N=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return T(A)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var l=o.delay;l="number"===typeof l&&0<l?s+l:s,o="number"===typeof o.timeout?o.timeout:j(e)}else o=j(e),l=s;return e={id:C++,callback:a,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>s?(e.sortIndex=l,S(R,e),null===T(A)&&e===T(R)&&(D?i():D=!0,r(U,l-s))):(e.sortIndex=o,S(A,e),N||P||(N=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=T(A);return n!==O&&null!==O&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<O.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e,t=n(791),r=n.t(t,2),i=n(164);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){if(Array.isArray(e))return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||d(e,t)||f()}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return h(e)}(e)||v(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){var t=E();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}(this,n)}}function M(e,t,n){return M=E()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&x(i,n.prototype),i},M.apply(null,arguments)}function k(e){var t="function"===typeof Map?new Map:void 0;return k=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return M(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),x(r,e)},k(e)}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var C,O="popstate";function I(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),R({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?U(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function U(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function F(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,l=a.v5Compat,u=void 0!==l&&l,c=s.history,h=e.Pop,d=null,f=p();function p(){return(c.state||{idx:null}).idx}function v(){h=e.Pop;var t=p(),n=null==t?null:t-f;f=t,d&&d({action:h,location:g.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:L(e);return I(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(R({},c.state,{idx:f}),""));var g={get action(){return h},get location(){return t(s,c)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(O,v),d=e,function(){s.removeEventListener(O,v),d=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){h=e.Push;var i=D(g.location,t,n);r&&r(i,t);var a=N(i,f=p()+1),o=g.createHref(i);try{c.pushState(a,"",o)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(o)}u&&d&&d({action:h,location:g.location,delta:1})},replace:function(t,n){h=e.Replace;var i=D(g.location,t,n);r&&r(i,t);var a=N(i,f=p()),o=g.createHref(i);c.replaceState(a,"",o),u&&d&&d({action:h,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function j(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?U(t):t).pathname||"/",n);if(null==r)return null;var i=B(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=K(i[o],J(r));return a}function B(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(I(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=re([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(I(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),B(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=A(z(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n,r=c(n=t)||v(n)||d(n)||f(),i=r[0],a=r.slice(1),o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];var l=z(a.join("/")),u=[];return u.push.apply(u,m(l.map((function(e){return""===e?s:[s,e].join("/")})))),o&&u.push.apply(u,m(l)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,H=3,W=2,G=1,q=10,X=-2,Y=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(Y)&&(r+=X),t&&(r+=W),n.filter((function(e){return!Y(e)})).reduce((function(e,t){return e+(V.test(t)?H:""===t?G:q)}),r)}function K(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var h=s.route;a.push({params:r,pathname:re([i,c.pathname]),pathnameBase:ie(re([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=re([i,c.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=p(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),u=o.slice(1),c=a.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(u[n]||"",t),e}),{});return{params:c,pathname:s,pathnameBase:l,pattern:e}}function J(e){try{return decodeURI(e)}catch(t){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=U(e):(I(!(i=R({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),I(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),I(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var l=t.length-1;if(s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;i.pathname=u.join("/")}a=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?U(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:ae(a),hash:oe(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),d=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ae=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},se=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n)}(k(Error));function le(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}var de=t.createContext(null);var fe=t.createContext(null);var pe=t.createContext(null);var ve=t.createContext(null);var me=t.createContext(null);var ge=t.createContext({outlet:null,matches:[],isDataRoute:!1});var ye=t.createContext(null);function be(){return null!=t.useContext(me)}function xe(){return be()||I(!1),t.useContext(me).location}function _e(e){t.useContext(ve).static||t.useLayoutEffect(e)}function we(){return t.useContext(ge).isDataRoute?function(){var e=Ie(Me.UseNavigateStable).router,n=Ne(ke.UseNavigateStable),r=t.useRef(!1);_e((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,he({fromRouteId:n},i)))}),[e,n]);return i}():function(){be()||I(!1);var e=t.useContext(de),n=t.useContext(ve),r=n.basename,i=n.navigator,a=t.useContext(ge).matches,o=xe().pathname,s=JSON.stringify(te(a).map((function(e){return e.pathnameBase}))),l=t.useRef(!1);_e((function(){l.current=!0}));var u=t.useCallback((function(t,n){if(void 0===n&&(n={}),l.current)if("number"!==typeof t){var a=ne(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:re([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e]);return u}()}function Ee(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ge).matches,a=xe().pathname,o=JSON.stringify(te(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ne(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Se(n,r,i){be()||I(!1);var a,o=t.useContext(ve).navigator,s=t.useContext(ge).matches,l=s[s.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/"),h=(l&&l.route,xe());if(r){var d,f="string"===typeof r?U(r):r;"/"===c||(null==(d=f.pathname)?void 0:d.startsWith(c))||I(!1),a=f}else a=h;var p=a.pathname||"/",v=j(n,{pathname:"/"===c?p:p.slice(c.length)||"/"});var m=Oe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:re([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:re([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return r&&m?t.createElement(me.Provider,{value:{location:he({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:e.Pop}},m):m}function Te(){var e=function(){var e,n=t.useContext(ye),r=Pe(ke.UseRouteError),i=Ne(ke.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=le(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Me,ke,Ae=t.createElement(Te,null),Re=function(e){_(r,e);var n=T(r);function r(e){var t;return g(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return b(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ge.Provider,{value:this.props.routeContext},t.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Ce(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(de);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ge.Provider,{value:n},i)}function Oe(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var l=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));l>=0||I(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((function(e,i,a){var l=i.route.id?null==s?void 0:s[i.route.id]:null,u=null;r&&(u=i.route.errorElement||Ae);var c=n.concat(o.slice(0,a+1)),h=function(){var n;return n=l?u:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ce,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Re,{location:r.location,revalidation:r.revalidation,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):h()}),null)}function Ie(e){var n=t.useContext(de);return n||I(!1),n}function Pe(e){var n=t.useContext(fe);return n||I(!1),n}function Ne(e){var n=function(e){var n=t.useContext(ge);return n||I(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||I(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Me||(Me={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(ke||(ke={}));var De;r.startTransition;function Le(e){I(!1)}function Ue(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,l=n.navigationType,u=void 0===l?e.Pop:l,c=n.navigator,h=n.static,d=void 0!==h&&h;be()&&I(!1);var f=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:f,navigator:c,static:d}}),[f,c,d]);"string"===typeof s&&(s=U(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,b=void 0===y?"":y,x=v.hash,_=void 0===x?"":x,w=v.state,E=void 0===w?null:w,S=v.key,T=void 0===S?"default":S,M=t.useMemo((function(){var e=Z(g,f);return null==e?null:{location:{pathname:e,search:b,hash:_,state:E,key:T},navigationType:u}}),[f,g,b,_,E,T,u]);return null==M?null:t.createElement(ve.Provider,{value:p},t.createElement(me.Provider,{children:o,value:M}))}function Fe(e){var t=e.children,n=e.location;return Se(Be(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(De||(De={}));var je=new Promise((function(){}));t.Component;function Be(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(m(n),[i]);if(e.type!==t.Fragment){e.type!==Le&&I(!1),e.props.index&&e.props.children&&I(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),r.push(o)}else r.push.apply(r,Be(e.props.children,a))}})),r}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Ve(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var We=r.startTransition;function Ge(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),F((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,n)));var l=s.current,u=p(t.useState({action:l.action,location:l.location}),2),c=u[0],h=u[1],d=(a||{}).v7_startTransition,f=t.useCallback((function(e){d&&We?We((function(){return h(e)})):h(e)}),[h,d]);return t.useLayoutEffect((function(){return l.listen(f)}),[l,f]),t.createElement(Ue,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:l})}var qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,l=e.state,u=e.target,c=e.to,h=e.preventScrollReset,d=Ve(e,He),f=t.useContext(ve).basename,p=!1;if("string"===typeof c&&Xe.test(c)&&(r=c,qe))try{var v=new URL(window.location.href),m=c.startsWith("//")?new URL(v.protocol+c):new URL(c),g=Z(m.pathname,f);m.origin===v.origin&&null!=g?c=g+m.search+m.hash:p=!0}catch(x){}var y=function(e,n){var r=(void 0===n?{}:n).relative;be()||I(!1);var i=t.useContext(ve),a=i.basename,o=i.navigator,s=Ee(e,{relative:r}),l=s.hash,u=s.pathname,c=s.search,h=u;return"/"!==a&&(h="/"===u?a:re([a,u])),o.createHref({pathname:h,search:c,hash:l})}(c,{relative:a}),b=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,l=r.relative,u=we(),c=xe(),h=Ee(e,{relative:l});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(c)===L(h);u(e,{replace:n,state:o,preventScrollReset:s,relative:l})}}),[c,u,h,a,o,i,e,s,l])}(c,{replace:s,state:l,target:u,preventScrollReset:h,relative:a});return t.createElement("a",ze({},d,{href:r||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))}));var Qe,Ke;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Qe||(Qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ke||(Ke={}));var $e=function(e,t){return $e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},$e(e,t)};function Je(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}$e(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ze=function(){return Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ze.apply(this,arguments)};function et(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function tt(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}function nt(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function rt(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var it="Invariant Violation",at=Object.setPrototypeOf,ot=void 0===at?function(e,t){return e.__proto__=t,e}:at,st=function(e){function t(n){void 0===n&&(n=it);var r=e.call(this,"number"===typeof n?it+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=it,ot(r,t.prototype),r}return Je(t,e),t}(Error);function lt(e,t){if(!e)throw new st(t)}var ut=["debug","log","warn","error","silent"],ct=ut.indexOf("log");function ht(e){return function(){if(ut.indexOf(e)>=ct)return(console[e]||console.log).apply(console,arguments)}}!function(e){e.debug=ht("debug"),e.log=ht("log"),e.warn=ht("warn"),e.error=ht("error")}(lt||(lt={}));function dt(e){try{return e()}catch(at){}}var ft=dt((function(){return globalThis}))||dt((function(){return window}))||dt((function(){return self}))||dt((function(){return global}))||dt((function(){return dt.constructor("return this")()})),pt="__",vt=[pt,pt].join("DEV");var mt=function(){try{return Boolean(__DEV__)}catch(at){return Object.defineProperty(ft,vt,{value:"production"!==dt((function(){return"production"})),enumerable:!1,configurable:!0,writable:!0}),ft[vt]}}();function gt(e){try{return e()}catch(t){}}var yt=gt((function(){return globalThis}))||gt((function(){return window}))||gt((function(){return self}))||gt((function(){return global}))||gt((function(){return gt.constructor("return this")()})),bt=!1;function xt(){bt&&(delete yt.process,bt=!1)}function _t(e,t){if(!Boolean(e))throw new Error(t)}!yt||gt((function(){return"production"}))||gt((function(){return process}))||(Object.defineProperty(yt,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),bt=!0);var wt=10,Et=2;function St(e){return Tt(e,[])}function Tt(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";var n=[].concat(m(t),[e]);if(function(e){return"function"===typeof e.toJSON}(e)){var r=e.toJSON();if(r!==e)return"string"===typeof r?r:Tt(r,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>Et)return"[Array]";for(var n=Math.min(wt,e.length),r=e.length-n,i=[],a=0;a<n;++a)i.push(Tt(e[a],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.entries(e);if(0===n.length)return"{}";if(t.length>Et)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){var n=e.constructor.name;if("string"===typeof n&&""!==n)return n}return t}(e)+"]";var r=n.map((function(e){var n=p(e,2);return n[0]+": "+Tt(n[1],t)}));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}var Mt=globalThis.process&&"production"===globalThis.process.env.NODE_ENV?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"===typeof e&&null!==e){var n,r=t.prototype[Symbol.toStringTag];if(r===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){var i=St(e);throw new Error("Cannot use ".concat(r,' "').concat(i,'" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.'))}}return!1},kt=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};g(this,t),"string"===typeof e||_t(!1,"Body must be a string. Received: ".concat(St(e),".")),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||_t(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||_t(!1,"column in locationOffset is 1-indexed and must be positive.")}return b(t,[{key:Symbol.toStringTag,get:function(){return"Source"}}]),t}();xt(),__DEV__?lt("boolean"===typeof mt,mt):lt("boolean"===typeof mt,39);var At,Rt,Ct=function(e){function t(e,n,r){g(this,t),this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}return b(t,[{key:Symbol.toStringTag,get:function(){return"Location"}},{key:"toJSON",value:function(){return{start:this.start,end:this.end}}}]),t}(),Ot=function(e){function t(e,n,r,i,a,o){g(this,t),this.kind=e,this.start=n,this.end=r,this.line=i,this.column=a,this.value=o,this.prev=null,this.next=null}return b(t,[{key:Symbol.toStringTag,get:function(){return"Token"}},{key:"toJSON",value:function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}]),t}(),It={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Pt=new Set(Object.keys(It));function Nt(e){var t=null===e||void 0===e?void 0:e.kind;return"string"===typeof t&&Pt.has(t)}!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(At||(At={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(Rt||(Rt={}));var Dt=Object.freeze({});function Lt(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:It,r=new Map,i=0,a=Object.values(Rt);i<a.length;i++){var o=a[i];r.set(o,Ut(t,o))}var s=void 0,l=Array.isArray(e),u=[e],c=-1,h=[],d=e,f=void 0,v=void 0,m=[],g=[];do{var y=++c===u.length,b=y&&0!==h.length;if(y){if(f=0===g.length?void 0:m[m.length-1],d=v,v=g.pop(),b)if(l){d=d.slice();var x,_=0,w=A(h);try{for(w.s();!(x=w.n()).done;){var E=p(x.value,2),S=E[0],T=E[1],M=S-_;null===T?(d.splice(M,1),_++):d[M]=T}}catch(F){w.e(F)}finally{w.f()}}else{d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d));var k,R=A(h);try{for(R.s();!(k=R.n()).done;){var C=p(k.value,2),O=C[0],I=C[1];d[O]=I}}catch(F){R.e(F)}finally{R.f()}}c=s.index,u=s.keys,h=s.edits,l=s.inArray,s=s.prev}else if(v){if(null===(d=v[f=l?c:u[c]])||void 0===d)continue;m.push(f)}var P,N=void 0;if(!Array.isArray(d)){var D,L;Nt(d)||_t(!1,"Invalid AST Node: ".concat(St(d),"."));var U=y?null===(D=r.get(d.kind))||void 0===D?void 0:D.leave:null===(L=r.get(d.kind))||void 0===L?void 0:L.enter;if((N=null===U||void 0===U?void 0:U.call(t,d,f,v,m,g))===Dt)break;if(!1===N){if(!y){m.pop();continue}}else if(void 0!==N&&(h.push([f,N]),!y)){if(!Nt(N)){m.pop();continue}d=N}}if(void 0===N&&b&&h.push([f,d]),y)m.pop();else s={inArray:l,index:c,keys:u,edits:h,prev:s},u=(l=Array.isArray(d))?d:null!==(P=n[d.kind])&&void 0!==P?P:[],c=-1,h=[],v&&g.push(v),v=d}while(void 0!==s);return 0!==h.length?h[h.length-1][1]:e}function Ut(e,t){var n=e[t];return"object"===typeof n?n:"function"===typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function Ft(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t&&Bt(e.prototype,t),n&&Bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vt=function(){return"function"===typeof Symbol},Ht=function(e){return Vt()&&Boolean(Symbol[e])},Wt=function(e){return Ht(e)?Symbol[e]:"@@"+e};Vt()&&!Ht("observable")&&(Symbol.observable=Symbol("observable"));var Gt=Wt("iterator"),qt=Wt("observable"),Xt=Wt("species");function Yt(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function Qt(e){var t=e.constructor;return void 0!==t&&null===(t=t[Xt])&&(t=void 0),void 0!==t?t:on}function Kt(e){return e instanceof on}function $t(e){$t.log?$t.log(e):setTimeout((function(){throw e}))}function Jt(e){Promise.resolve().then((function(){try{e()}catch(t){$t(t)}}))}function Zt(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=Yt(t,"unsubscribe");n&&n.call(t)}}catch(r){$t(r)}}function en(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function tn(e,t,n){e._state="running";var r=e._observer;try{var i=Yt(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(en(e),!i)throw n;i.call(r,n);break;case"complete":en(e),i&&i.call(r)}}catch(a){$t(a)}"closed"===e._state?Zt(e):"running"===e._state&&(e._state="ready")}function nn(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void Jt((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(tn(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void tn(e,t,n);e._queue.push({type:t,value:n})}}var rn=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new an(this);try{this._cleanup=t.call(void 0,n)}catch(r){n.error(r)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(en(this),Zt(this))},zt(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),an=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){nn(this._subscription,"next",e)},t.error=function(e){nn(this._subscription,"error",e)},t.complete=function(){nn(this._subscription,"complete")},zt(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),on=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new rn(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var i=t.subscribe({next:function(t){try{e(t,a)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function a(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(Qt(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(Qt(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(r){return n.error(r)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=Qt(this),r=arguments.length>1,i=!1,a=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(s){return n.error(s)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Qt(this);return new i((function(t){var r,a=0;return function e(o){r=o.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){a===n.length?(r=void 0,t.complete()):e(i.from(n[a++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=Qt(this);return new n((function(r){var i=[],a=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(s){return r.error(s)}var a=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(a);e>=0&&i.splice(e,1),o()}});i.push(a)},error:function(e){r.error(e)},complete:function(){o()}});function o(){a.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),a.unsubscribe()}}))},t[qt]=function(){return this},e.from=function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=Yt(t,qt);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return Kt(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(Ht("iterator")&&(r=Yt(t,Gt)))return new n((function(e){Jt((function(){if(!e.closed){for(var n,i=Ft(r.call(t));!(n=i()).done;){var a=n.value;if(e.next(a),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){Jt((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"===typeof this?this:e)((function(e){Jt((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},zt(e,null,[{key:Xt,get:function(){return this}}]),e}();function sn(e){return null!==e&&"object"===typeof e}function ln(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw __DEV__?new st("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new st(44);"FragmentDefinition"===e.kind&&r.push(e)})),"undefined"===typeof n&&(__DEV__?lt(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):lt(1===r.length,45),n=r[0].name.value),Ze(Ze({},e),{definitions:rt([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function un(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function cn(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=e.name.value;if("function"===typeof t)return t(n);var r=t&&t[n];return __DEV__?lt(r,"No fragment named ".concat(n)):lt(r,46),r||null;default:return null}}function hn(e){return{__ref:String(e)}}function dn(e){return Boolean(e&&"object"===typeof e&&"string"===typeof e.__ref)}function fn(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return fn(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var a=(r||{})[n.name.value];e[t.value]=a}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return fn(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new st('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new st(55);e[t.value]=null}}Vt()&&Object.defineProperty(on,Symbol("extensions"),{value:{symbol:qt,hostReportError:$t},configurable:!0});var pn=["connection","include","skip","client","rest","export"],vn=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),"".concat(n.connection.key,"(").concat(mn(i),")")}return n.connection.key}var a=e;if(t){var o=mn(t);a+="(".concat(o,")")}return n&&Object.keys(n).forEach((function(e){-1===pn.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?a+="@".concat(e,"(").concat(mn(n[e]),")"):a+="@".concat(e))})),a}),{setStringify:function(e){var t=mn;return mn=e,t}}),mn=function(e){return JSON.stringify(e,gn)};function gn(e,t){return sn(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function yn(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return fn(n,r,i,t)})),n}return null}function bn(e){return e.alias?e.alias.value:e.name.value}function xn(e,t,n){for(var r,i=0,a=t.selections;i<a.length;i++){if(_n(l=a[i])){if("__typename"===l.name.value)return e[bn(l)]}else r?r.push(l):r=[l]}if("string"===typeof e.__typename)return e.__typename;if(r)for(var o=0,s=r;o<s.length;o++){var l,u=xn(e,cn(l=s[o],n).selectionSet,n);if("string"===typeof u)return u}}function _n(e){return"Field"===e.kind}function wn(e){__DEV__?lt(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):lt(e&&"Document"===e.kind,47);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new st('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new st(48);return e}));return __DEV__?lt(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):lt(t.length<=1,49),e}function En(e){return wn(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function Sn(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function Tn(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function Mn(e){var t=En(e);return __DEV__?lt(t&&"query"===t.operation,"Must contain a query definition."):lt(t&&"query"===t.operation,50),t}function kn(e){var t;wn(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var a=i.operation;if("query"===a||"mutation"===a||"subscription"===a)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw __DEV__?new st("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new st(54)}function An(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&fn(t,e.variable.name,e.defaultValue)})),t}function Rn(e,t){return t?t(e):on.of()}function Cn(e){return"function"===typeof e?new Pn(e):e}function On(e){return e.request.length<=1}var In=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return Je(t,e),t}(Error),Pn=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return on.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(Cn).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=Cn(n),a=Cn(r||new e(Rn));return On(i)&&On(a)?new e((function(e){return t(e)?i.request(e)||on.of():a.request(e)||on.of()})):new e((function(e,n){return t(e)?i.request(e,n)||on.of():a.request(e,n)||on.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=Ze({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=Ze(Ze({},n),"function"===typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Ze({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?Sn(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw __DEV__?new st("illegal argument: ".concat(i)):new st(27)}return e}(t))))||on.of()},e.concat=function(t,n){var r=Cn(t);if(On(r))return __DEV__&&lt.warn(new In("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Cn(n);return On(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||on.of()}))||on.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||on.of()}))||on.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(Rn)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new st("request is not implemented"):new st(22)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}();function Nn(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?lt(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):lt(n&&1===n.length,41);var i=n[0];__DEV__?lt(i.name&&"if"===i.name.value,"Invalid argument for the @".concat(r," directive.")):lt(i.name&&"if"===i.name.value,42);var a=i.value;__DEV__?lt(a&&("Variable"===a.kind||"BooleanValue"===a.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):lt(a&&("Variable"===a.kind||"BooleanValue"===a.kind),43),t.push({directive:e,ifArgument:i})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t&&t[r.value.name.value],__DEV__?lt(void 0!==i,"Invalid variable referenced in @".concat(n.name.value," directive.")):lt(void 0!==i,40)):i=r.value.value,"skip"===n.name.value?!i:i}))}function Dn(e,t,n){var r=new Set(e),i=r.size;return Lt(t,{Directive:function(e){if(r.delete(e.name.value)&&(!n||!r.size))return Dt}}),n?!r.size:r.size<i}function Ln(e){return e&&Dn(["client","export"],e,!0)}var Un=function(e,t){var n;try{n=JSON.stringify(e)}catch(i){var r=__DEV__?new st("Network request failed. ".concat(t," is not serializable: ").concat(i.message)):new st(24);throw r.parseError=i,r}return n},Fn="function"===typeof WeakMap&&"ReactNative"!==dt((function(){return navigator.product})),jn="function"===typeof WeakSet,Bn="function"===typeof Symbol&&"function"===typeof Symbol.for,zn=Bn&&Symbol.asyncIterator,Vn="function"===typeof dt((function(){return window.document.createElement})),Hn=dt((function(){return navigator.userAgent.indexOf("jsdom")>=0}))||!1,Wn=Vn&&!Hn;function Gn(e){var t=null,n=null,r=!1,i=[],a=[];function o(e){if(!n){if(a.length){var t=a.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}i.push(e)}}function s(e){n=e,a.slice().forEach((function(t){t[1](e)})),!t||t()}function l(){r=!0,a.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",o),e.removeListener("error",s),e.removeListener("end",l),e.removeListener("finish",l),e.removeListener("close",l)},e.on("data",o),e.on("error",s),e.on("end",l),e.on("finish",l),e.on("close",l);var u={next:function(){return new Promise((function(e,t){return n?t(n):i.length?e({value:i.shift(),done:!1}):r?e({value:void 0,done:!0}):void a.push([e,t])}))}};return zn&&(u[Symbol.asyncIterator]=function(){return this}),u}function qn(e){var t={next:function(){return e.read()}};return zn&&(t[Symbol.asyncIterator]=function(){return this}),t}function Xn(e){var t=e;if(e.body&&(t=e.body),function(e){return!(!zn||!e[Symbol.asyncIterator])}(t))return function(e){var t,n=e[Symbol.asyncIterator]();return(t={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},t}(t);if(function(e){return!!e.getReader}(t))return qn(t.getReader());if(function(e){return!!e.stream}(t))return qn(t.stream().getReader());if(function(e){return!!e.arrayBuffer}(t))return function(e){var t=!1,n={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise((function(t,n){e.then((function(e){t({value:e,done:!1})})).catch(n)})))}};return zn&&(n[Symbol.asyncIterator]=function(){return this}),n}(t.arrayBuffer());if(function(e){return!!e.pipe}(t))return Gn(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Yn=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},Qn=Symbol();var Kn=function(e){function t(n){var r=n.graphQLErrors,i=n.protocolErrors,a=n.clientErrors,o=n.networkError,s=n.errorMessage,l=n.extraInfo,u=e.call(this,s)||this;return u.name="ApolloError",u.graphQLErrors=r||[],u.protocolErrors=i||[],u.clientErrors=a||[],u.networkError=o||null,u.message=s||function(e){var t=rt(rt(rt([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map((function(e){return sn(e)&&e.message||"Error message not found."})).join("\n")}(u),u.extraInfo=l,u.__proto__=t.prototype,u}return Je(t,e),t}(Error),$n=Array.isArray;function Jn(e){return Array.isArray(e)&&e.length>0}var Zn=Object.prototype.hasOwnProperty;function er(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tr(e)}function tr(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new rr,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var nr=function(e,t,n){return this.merge(e[n],t[n])},rr=function(){function e(e){void 0===e&&(e=nr),this.reconciler=e,this.isObject=sn,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return sn(t)&&sn(e)?(Object.keys(t).forEach((function(i){if(Zn.call(e,i)){var a=e[i];if(t[i]!==a){var o=n.reconciler.apply(n,rt([e,t,i],r,!1));o!==a&&((e=n.shallowCopyForMerge(e))[i]=o)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){return sn(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):Ze({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}();function ir(e){return"incremental"in e}function ar(e){return sn(e)&&"payload"in e}function or(e,t){var n=e,r=new rr;return ir(t)&&Jn(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,i=e.path,a=i.length-1;a>=0;--a){var o=i[a],s=!isNaN(+o)?[]:{};s[o]=t,t=s}n=r.merge(n,t)})),n}var sr=Object.prototype.hasOwnProperty;function lr(e){var t={};return e.split("\n").forEach((function(e){var n=e.indexOf(":");if(n>-1){var r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();t[r]=i}})),t}function ur(e,t){if(e.status>=300){Yn(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}function cr(e,t){var n,r;"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&(null===(n=t.next)||void 0===n||n.call(t,e.result)),null===(r=t.error)||void 0===r||r.call(t,e))}function hr(e,t,n){var r;(r=t,function(e){return e.text().then((function(t){return ur(e,t)})).then((function(t){return e.status>=300&&Yn(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||sr.call(t,"data")||sr.call(t,"errors")||Yn(e,t,"Server response was missing for query '".concat(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName,"'.")),t}))})(e).then((function(e){var t,r;null===(t=n.next)||void 0===t||t.call(n,e),null===(r=n.complete)||void 0===r||r.call(n)})).catch((function(e){return cr(e,n)}))}function dr(e){return 9===e||32===e}function fr(e){return e>=48&&e<=57}function pr(e){return e>=97&&e<=122||e>=65&&e<=90}function vr(e){return pr(e)||95===e}function mr(e){return pr(e)||fr(e)||95===e}function gr(e){for(var t,n=Number.MAX_SAFE_INTEGER,r=null,i=-1,a=0;a<e.length;++a){var o,s=e[a],l=yr(s);l!==s.length&&(r=null!==(o=r)&&void 0!==o?o:a,i=a,0!==a&&l<n&&(n=l))}return e.map((function(e,t){return 0===t?e:e.slice(n)})).slice(null!==(t=r)&&void 0!==t?t:0,i+1)}function yr(e){for(var t=0;t<e.length&&dr(e.charCodeAt(t));)++t;return t}var br=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function xr(e){return _r[e.charCodeAt(0)]}var _r=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function wr(e){return Lt(e,Er)}var Er={Name:{leave:function(e){return e.value}},Variable:{leave:function(e){return"$"+e.name}},Document:{leave:function(e){return Sr(e.definitions,"\n\n")}},OperationDefinition:{leave:function(e){var t=Mr("(",Sr(e.variableDefinitions,", "),")"),n=Sr([e.operation,Sr([e.name,t]),Sr(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+Mr(" = ",r)+Mr(" ",Sr(i," "))}},SelectionSet:{leave:function(e){return Tr(e.selections)}},Field:{leave:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,a=e.selectionSet,o=Mr("",t,": ")+n,s=o+Mr("(",Sr(r,", "),")");return s.length>80&&(s=o+Mr("(\n",kr(Sr(r,"\n")),"\n)")),Sr([s,Sr(i," "),a]," ")}},Argument:{leave:function(e){return e.name+": "+e.value}},FragmentSpread:{leave:function(e){return"..."+e.name+Mr(" ",Sr(e.directives," "))}},InlineFragment:{leave:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return Sr(["...",Mr("on ",t),Sr(n," "),r]," ")}},FragmentDefinition:{leave:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,a=e.selectionSet;return"fragment ".concat(t).concat(Mr("(",Sr(r,", "),")")," ")+"on ".concat(n," ").concat(Mr("",Sr(i," ")," "))+a}},IntValue:{leave:function(e){return e.value}},FloatValue:{leave:function(e){return e.value}},StringValue:{leave:function(e){var t=e.value;return e.block?function(e,t){var n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=1===r.length,a=r.length>1&&r.slice(1).every((function(e){return 0===e.length||dr(e.charCodeAt(0))})),o=n.endsWith('\\"""'),s=e.endsWith('"')&&!o,l=e.endsWith("\\"),u=s||l,c=!(null!==t&&void 0!==t&&t.minimize)&&(!i||e.length>70||u||a||o),h="",d=i&&dr(e.charCodeAt(0));return(c&&!d||a)&&(h+="\n"),h+=n,(c||u)&&(h+="\n"),'"""'+h+'"""'}(t):'"'.concat(t.replace(br,xr),'"')}},BooleanValue:{leave:function(e){return e.value?"true":"false"}},NullValue:{leave:function(){return"null"}},EnumValue:{leave:function(e){return e.value}},ListValue:{leave:function(e){return"["+Sr(e.values,", ")+"]"}},ObjectValue:{leave:function(e){return"{"+Sr(e.fields,", ")+"}"}},ObjectField:{leave:function(e){return e.name+": "+e.value}},Directive:{leave:function(e){return"@"+e.name+Mr("(",Sr(e.arguments,", "),")")}},NamedType:{leave:function(e){return e.name}},ListType:{leave:function(e){return"["+e.type+"]"}},NonNullType:{leave:function(e){return e.type+"!"}},SchemaDefinition:{leave:function(e){var t=e.description,n=e.directives,r=e.operationTypes;return Mr("",t,"\n")+Sr(["schema",Sr(n," "),Tr(r)]," ")}},OperationTypeDefinition:{leave:function(e){return e.operation+": "+e.type}},ScalarTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives;return Mr("",t,"\n")+Sr(["scalar",n,Sr(r," ")]," ")}},ObjectTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.interfaces,i=e.directives,a=e.fields;return Mr("",t,"\n")+Sr(["type",n,Mr("implements ",Sr(r," & ")),Sr(i," "),Tr(a)]," ")}},FieldDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.arguments,i=e.type,a=e.directives;return Mr("",t,"\n")+n+(Ar(r)?Mr("(\n",kr(Sr(r,"\n")),"\n)"):Mr("(",Sr(r,", "),")"))+": "+i+Mr(" ",Sr(a," "))}},InputValueDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.type,i=e.defaultValue,a=e.directives;return Mr("",t,"\n")+Sr([n+": "+r,Mr("= ",i),Sr(a," ")]," ")}},InterfaceTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.interfaces,i=e.directives,a=e.fields;return Mr("",t,"\n")+Sr(["interface",n,Mr("implements ",Sr(r," & ")),Sr(i," "),Tr(a)]," ")}},UnionTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives,i=e.types;return Mr("",t,"\n")+Sr(["union",n,Sr(r," "),Mr("= ",Sr(i," | "))]," ")}},EnumTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives,i=e.values;return Mr("",t,"\n")+Sr(["enum",n,Sr(r," "),Tr(i)]," ")}},EnumValueDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives;return Mr("",t,"\n")+Sr([n,Sr(r," ")]," ")}},InputObjectTypeDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.directives,i=e.fields;return Mr("",t,"\n")+Sr(["input",n,Sr(r," "),Tr(i)]," ")}},DirectiveDefinition:{leave:function(e){var t=e.description,n=e.name,r=e.arguments,i=e.repeatable,a=e.locations;return Mr("",t,"\n")+"directive @"+n+(Ar(r)?Mr("(\n",kr(Sr(r,"\n")),"\n)"):Mr("(",Sr(r,", "),")"))+(i?" repeatable":"")+" on "+Sr(a," | ")}},SchemaExtension:{leave:function(e){var t=e.directives,n=e.operationTypes;return Sr(["extend schema",Sr(t," "),Tr(n)]," ")}},ScalarTypeExtension:{leave:function(e){return Sr(["extend scalar",e.name,Sr(e.directives," ")]," ")}},ObjectTypeExtension:{leave:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Sr(["extend type",t,Mr("implements ",Sr(n," & ")),Sr(r," "),Tr(i)]," ")}},InterfaceTypeExtension:{leave:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return Sr(["extend interface",t,Mr("implements ",Sr(n," & ")),Sr(r," "),Tr(i)]," ")}},UnionTypeExtension:{leave:function(e){var t=e.name,n=e.directives,r=e.types;return Sr(["extend union",t,Sr(n," "),Mr("= ",Sr(r," | "))]," ")}},EnumTypeExtension:{leave:function(e){var t=e.name,n=e.directives,r=e.values;return Sr(["extend enum",t,Sr(n," "),Tr(r)]," ")}},InputObjectTypeExtension:{leave:function(e){var t=e.name,n=e.directives,r=e.fields;return Sr(["extend input",t,Sr(n," "),Tr(r)]," ")}}};function Sr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null===e||void 0===e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function Tr(e){return Mr("{\n",kr(Sr(e,"\n")),"\n}")}function Mr(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function kr(e){return Mr("  ",e.replace(/\n/g,"\n  "))}function Ar(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((function(e){return e.includes("\n")})))&&void 0!==t&&t}var Rr={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Cr=function(e,t){return t(e)};function Or(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},a={};n.forEach((function(e){i=Ze(Ze(Ze({},i),e.options),{headers:Ze(Ze({},i.headers),e.headers)}),e.credentials&&(i.credentials=e.credentials),a=Ze(Ze({},a),e.http)})),i.headers&&(i.headers=function(e,t){if(!t){var n=Object.create(null);return Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]=e[t]})),n}var r=Object.create(null);Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]={originalName:t,value:e[t]}}));var i=Object.create(null);return Object.keys(r).forEach((function(e){i[r[e].originalName]=r[e].value})),i}(i.headers,a.preserveHeaderCase));var o=e.operationName,s=e.extensions,l=e.variables,u=e.query,c={operationName:o,variables:l};return a.includeExtensions&&(c.extensions=s),a.includeQuery&&(c.query=t(u,wr)),{options:i,body:c}}function Ir(e){return new on((function(t){t.error(e)}))}var Pr=dt((function(){return fetch})),Nr=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.print,a=void 0===i?Cr:i,o=e.includeExtensions,s=e.preserveHeaderCase,l=e.useGETForQueries,u=e.includeUnusedVariables,c=void 0!==u&&u,h=et(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"===typeof fetch)throw __DEV__?new st("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new st(23)}(r||Pr);var d={http:{includeExtensions:o,preserveHeaderCase:s},options:h.fetchOptions,credentials:h.credentials,headers:h.headers};return new Pn((function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"===typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),o={};if(i.clientAwareness){var s=i.clientAwareness,u=s.name,h=s.version;u&&(o["apollographql-client-name"]=u),h&&(o["apollographql-client-version"]=h)}var f,p=Ze(Ze({},o),i.headers),v={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:p},m=Or(e,a,Rr,d,v),g=m.options,y=m.body;if(y.variables&&!c){var b=new Set(Object.keys(y.variables));Lt(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&b.delete(e.name.value)}}),b.size&&(y.variables=Ze({},y.variables),b.forEach((function(e){delete y.variables[e]})))}if(!g.signal){var x=function(){if("undefined"===typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),_=x.controller,w=x.signal;(f=_)&&(g.signal=w)}var E,S="OperationDefinition"===(E=kn(e.query)).kind&&"subscription"===E.operation,T=Dn(["defer"],e.query);if(l&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(g.method="GET"),T||S){g.headers=g.headers||{};var M="multipart/mixed;";S&&T&&__DEV__&&lt.warn("Multipart-subscriptions do not support @defer"),S?M+="boundary=graphql;subscriptionSpec=1.0,application/json":T&&(M+="deferSpec=20220824,application/json"),g.headers.accept=M}if("GET"===g.method){var k=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=Un(t.variables,"Variables map")}catch(R){return{parseError:R}}r("variables",i)}if(t.extensions){var a=void 0;try{a=Un(t.extensions,"Extensions map")}catch(R){return{parseError:R}}r("extensions",a)}var o="",s=e,l=e.indexOf("#");-1!==l&&(o=e.substr(l),s=e.substr(0,l));var u=-1===s.indexOf("?")?"?":"&";return{newURI:s+u+n.join("&")+o}}(t,y),A=k.newURI,R=k.parseError;if(R)return Ir(R);t=A}else try{g.body=Un(y,"Payload")}catch(R){return Ir(R)}return new on((function(n){return(r||dt((function(){return fetch}))||Pr)(t,g).then((function(t){var r;e.setContext({response:t});var i=null===(r=t.headers)||void 0===r?void 0:r.get("content-type");return null!==i&&/^multipart\/mixed/i.test(i)?function(e,t){var n,r,i,a,o;return tt(this,void 0,void 0,(function(){var s,l,u,c,h,d,f,p,v,m,g,y,b,x,_,w,E,S,T,M,k,A,R;return nt(this,(function(C){switch(C.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");s=new TextDecoder("utf-8"),l=null===(n=e.headers)||void 0===n?void 0:n.get("content-type"),u="boundary=",c=(null===l||void 0===l?void 0:l.includes(u))?null===l||void 0===l?void 0:l.substring((null===l||void 0===l?void 0:l.indexOf(u))+9).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",h="\r\n--".concat(c),d="",f=Xn(e),p=!0,C.label=1;case 1:return p?[4,f.next()]:[3,3];case 2:for(v=C.sent(),m=v.value,g=v.done,y="string"===typeof m?m:s.decode(m),b=d.length-h.length+1,p=!g,x=(d+=y).indexOf(h,b);x>-1;){if(_=void 0,A=[d.slice(0,x),d.slice(x+h.length)],d=A[1],w=(_=A[0]).indexOf("\r\n\r\n"),E=lr(_.slice(0,w)),(S=E["content-type"])&&-1===S.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(T=_.slice(w))try{M=ur(e,T),Object.keys(M).length>1||"data"in M||"incremental"in M||"errors"in M||"payload"in M?ar(M)?(k={},"payload"in M&&(k=Ze({},M.payload)),"errors"in M&&(k=Ze(Ze({},k),{extensions:Ze(Ze({},"extensions"in k?k.extensions:null),(R={},R[Qn]=M.errors,R))})),null===(r=t.next)||void 0===r||r.call(t,k)):null===(i=t.next)||void 0===i||i.call(t,M):1===Object.keys(M).length&&"hasNext"in M&&!M.hasNext&&(null===(a=t.complete)||void 0===a||a.call(t))}catch(O){cr(O,t)}x=d.indexOf(h)}return[3,1];case 3:return null===(o=t.complete)||void 0===o||o.call(t),[2]}}))}))}(t,n):hr(t,e,n)})).catch((function(e){return cr(e,n)})),function(){f&&f.abort()}}))}))},Dr=Pn.execute,Lr=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,Nr(t).request)||this;return n.options=t,n}return Je(t,e),t}(Pn),Ur=Object.prototype,Fr=Ur.toString,jr=Ur.hasOwnProperty,Br=Function.prototype.toString,zr=new Map;function Vr(e,t){try{return Hr(e,t)}finally{zr.clear()}}function Hr(e,t){if(e===t)return!0;var n=Fr.call(e);if(n!==Fr.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(Xr(e,t))return!0;var r=Wr(e),i=Wr(t),a=r.length;if(a!==i.length)return!1;for(var o=0;o<a;++o)if(!jr.call(t,r[o]))return!1;for(var s=0;s<a;++s){var l=r[s];if(!Hr(e[l],t[l]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e===+t;case"[object RegExp]":case"[object String]":return e=="".concat(t);case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(Xr(e,t))return!0;for(var u=e.entries(),c="[object Map]"===n;;){var h=u.next();if(h.done)break;var d=p(h.value,2),f=d[0],v=d[1];if(!t.has(f))return!1;if(c&&!Hr(v,t.get(f)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var m=e.byteLength;if(m===t.byteLength)for(;m--&&e[m]===t[m];);return-1===m;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var g=Br.call(e);return g===Br.call(t)&&!function(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(g,qr)}return!1}function Wr(e){return Object.keys(e).filter(Gr,e)}function Gr(e){return void 0!==this[e]}var qr="{ [native code] }";function Xr(e,t){var n=zr.get(e);if(n){if(n.has(t))return!0}else zr.set(e,n=new Set);return n.add(t),!1}var Yr=function(){return Object.create(null)},Qr=Array.prototype,Kr=Qr.forEach,$r=Qr.slice,Jr=Object.prototype.hasOwnProperty,Zr=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yr;g(this,e),this.weakness=t,this.makeData=n}return b(e,[{key:"lookup",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.lookupArray(t)}},{key:"lookupArray",value:function(e){var t=this;return Kr.call(e,(function(e){return t=t.getChildTrie(e)})),Jr.call(t,"data")?t.data:t.data=this.makeData($r.call(e))}},{key:"peek",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.peekArray(t)}},{key:"peekArray",value:function(e){for(var t=this,n=0,r=e.length;t&&n<r;++n){var i=this.weakness&&ei(e[n])?t.weak:t.strong;t=i&&i.get(e[n])}return t&&t.data}},{key:"getChildTrie",value:function(t){var n=this.weakness&&ei(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r}}]),e}();function ei(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}var ti,ni,ri=function(){function e(){this.known=new(jn?WeakSet:Set),this.pool=new Zr(Fn),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return sn(e)&&this.known.has(e)},e.prototype.pass=function(e){if(sn(e)){var t=function(e){return sn(e)?$n(e)?e.slice(0):Ze({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(sn(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(s=this.pool.lookupArray(r)).array||(this.known.add(s.array=r),__DEV__&&Object.freeze(r)),s.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),a=[i],o=this.sortedKeys(e);a.push(o.json);var s,l=a.length;if(o.sorted.forEach((function(n){a.push(t.admit(e[n]))})),!(s=this.pool.lookupArray(a)).object){var u=s.object=Object.create(i);this.known.add(u),o.sorted.forEach((function(e,t){u[e]=a[l+t]})),__DEV__&&Object.freeze(u)}return s.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),ii=Object.assign((function(e){if(sn(e)){void 0===ti&&ai();var t=ti.admit(e),n=ni.get(t);return void 0===n&&ni.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:ai});function ai(){ti=new ri,ni=new(Fn?WeakMap:Map)}function oi(e,t,n){return new on((function(r){var i=r.next,a=r.error,o=r.complete,s=0,l=!1,u={then:function(e){return new Promise((function(t){return t(e())}))}};function c(e,t){return e?function(t){++s;var n=function(){return e(t)};u=u.then(n,n).then((function(e){--s,i&&i.call(r,e),l&&h.complete()}),(function(e){throw--s,e})).catch((function(e){a&&a.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var h={next:c(t,i),error:c(n,a),complete:function(){l=!0,s||o&&o.call(r)}},d=e.subscribe(h);return function(){return d.unsubscribe()}}))}function si(e){return Jn(li(e))}function li(e){var t=Jn(e.errors)?e.errors.slice(0):[];return ir(e)&&Jn(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}var ui={kind:Rt.FIELD,name:{kind:Rt.NAME,value:"__typename"}};function ci(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===Rt.FRAGMENT_SPREAD&&ci(t[e.name.value],t)}))}function hi(e){return ci(En(e)||function(e){__DEV__?lt("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):lt("Document"===e.kind,51),__DEV__?lt(e.definitions.length<=1,"Fragment must have exactly one definition."):lt(e.definitions.length<=1,52);var t=e.definitions[0];return __DEV__?lt("FragmentDefinition"===t.kind,"Must be a fragment definition."):lt("FragmentDefinition"===t.kind,53),t}(e),un(Tn(e)))?null:e}function di(e){var t=new Set,n=[];return e.forEach((function(e){e.name?t.add(e.name):e.test&&n.push(e.test)})),function(e){return t.has(e.name.value)||n.some((function(t){return t(e)}))}}function fi(e){var t=new Map;return function(n){void 0===n&&(n=e);var r=t.get(n);return r||t.set(n,r={variables:new Set,fragmentSpreads:new Set}),r}}function pi(e,t){for(var n=fi(""),r=fi(""),i=function(e){for(var t=0,i=void 0;t<e.length&&(i=e[t]);++t)if(!$n(i)){if(i.kind===Rt.OPERATION_DEFINITION)return n(i.name&&i.name.value);if(i.kind===Rt.FRAGMENT_DEFINITION)return r(i.name.value)}return __DEV__&&lt.error("Could not find operation or fragment"),null},a=0,o=t.definitions.length-1;o>=0;--o)t.definitions[o].kind===Rt.OPERATION_DEFINITION&&++a;var s=di(e),l=e.some((function(e){return e.remove})),u=function(e){return l&&e&&e.some(s)},c=new Map,h=!1,d={enter:function(e){if(u(e.directives))return h=!0,null}},f=Lt(t,{Field:d,InlineFragment:d,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,n,r,a){var o=i(a);o&&o.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,n,r,a){if(u(e.directives))return h=!0,null;var o=i(a);o&&o.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,n,r){c.set(JSON.stringify(r),e)},leave:function(e,t,n,i){return e===c.get(JSON.stringify(i))?e:a>0&&e.selectionSet.selections.every((function(e){return e.kind===Rt.FIELD&&"__typename"===e.name.value}))?(r(e.name.value).removed=!0,h=!0,null):void 0}},Directive:{leave:function(e){if(s(e))return h=!0,null}}});if(!h)return t;var p=function e(t){return t.transitiveVars||(t.transitiveVars=new Set(t.variables),t.removed||t.fragmentSpreads.forEach((function(n){e(r(n)).transitiveVars.forEach((function(e){t.transitiveVars.add(e)}))}))),t},v=new Set;f.definitions.forEach((function(e){e.kind===Rt.OPERATION_DEFINITION?p(n(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){v.add(e)})):e.kind!==Rt.FRAGMENT_DEFINITION||0!==a||r(e.name.value).removed||v.add(e.name.value)})),v.forEach((function(e){p(r(e)).fragmentSpreads.forEach((function(e){v.add(e)}))}));var m={enter:function(e){if(t=e.name.value,!v.has(t)||r(t).removed)return null;var t}};return hi(Lt(f,{FragmentSpread:m,FragmentDefinition:m,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=p(n(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return Ze(Ze({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}var vi=Object.assign((function(e){return Lt(e,{SelectionSet:{enter:function(e,t,n){if(!n||n.kind!==Rt.OPERATION_DEFINITION){var r=e.selections;if(r)if(!r.some((function(e){return _n(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(_n(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return Ze(Ze({},e),{selections:rt(rt([],r,!0),[ui],!1)})}}}}})}),{added:function(e){return e===ui}}),mi={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&lt.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function gi(e){if("query"===kn(e).operation)return e;var t=Lt(e,{OperationDefinition:{enter:function(e){return Ze(Ze({},e),{operation:"query"})}}});return t}var yi=new Map;function bi(e){var t=yi.get(e)||1;return yi.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function xi(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function _i(e){function t(t){Object.defineProperty(e,t,{value:on})}return Bn&&Symbol.species&&t(Symbol.species),t("@@species"),e}function wi(e){return e&&"function"===typeof e.then}var Ei,Si=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],n.notify("next",e),xi(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),n.notify("error",e),xi(n.observers,"error",e))},complete:function(){var e=n,t=e.sub,r=e.sources;if(null!==t){var i=(void 0===r?[]:r).shift();i?wi(i)?i.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=i.subscribe(n.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),xi(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"===typeof t&&(t=[new on(t)]),wi(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return Je(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach((function(n){return n(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(n,r){t||(t=!0,e(n,r))}))},t}(on);function Ti(e){return!!e&&e<7}_i(Si),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Ei||(Ei={}));var Mi=Object.prototype.toString;function ki(e){return Ai(e)}function Ai(e,t){switch(Mi.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=Ai(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=Ai(e[n],t)})),r;default:return e}}function Ri(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}var Ci=Object.assign,Oi=Object.hasOwnProperty,Ii=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,i=t.options,a=e.call(this,(function(e){try{var n=e._subscription._observer;n&&!n.error&&(n.error=Ni)}catch(t){}var r=!a.observers.size;a.observers.add(e);var i=a.last;return i&&i.error?e.error&&e.error(i.error):i&&i.result&&e.next&&e.next(i.result),r&&a.reobserve().catch((function(){})),function(){a.observers.delete(e)&&!a.observers.size&&a.tearDownQuery()}}))||this;a.observers=new Set,a.subscriptions=new Set,a.queryInfo=r,a.queryManager=n,a.isTornDown=!1;var o=n.defaultOptions.watchQuery,s=(void 0===o?{}:o).fetchPolicy,l=void 0===s?"cache-first":s,u=i.fetchPolicy,c=void 0===u?l:u,h=i.initialFetchPolicy,d=void 0===h?"standby"===c?l:c:h;a.options=Ze(Ze({},i),{initialFetchPolicy:d,fetchPolicy:c}),a.queryId=r.queryId||n.generateQueryId();var f=En(a.query);return a.queryName=f&&f.name&&f.name.value,a}return Je(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||Ei.ready,r=Ze(Ze({},t),{loading:Ti(n),networkStatus:n}),i=this.options.fetchPolicy,a=void 0===i?"cache-first":i;if("network-only"===a||"no-cache"===a||"standby"===a||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var o=this.queryInfo.getDiff();(o.complete||this.options.returnPartialData)&&(r.data=o.result),Vr(r.data,{})&&(r.data=void 0),o.complete?(delete r.partial,!o.complete||r.networkStatus!==Ei.loading||"cache-first"!==a&&"cache-only"!==a||(r.networkStatus=Ei.ready,r.loading=!1)):r.partial=!0,!__DEV__||o.complete||this.options.partialRefetch||r.loading||r.data||r.error||Di(o.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e,t){return!this.last||!Vr(this.last.result,e)||t&&!Vr(this.last.variables,t)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||Vr(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&Oi.call(e,"variables")){var i=Mn(this.query),a=i.variableDefinitions;a&&a.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&lt.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=i.name)||void 0===t?void 0:t.value)||JSON.stringify(i),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!Vr(this.options.variables,e)&&(n.variables=this.options.variables=Ze(Ze({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,Ei.refetch)},t.prototype.fetchMore=function(e){var t=this,n=Ze(Ze({},e.query?e:Ze(Ze(Ze(Ze({},this.options),{query:this.query}),e),{variables:Ze(Ze({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId(),i=this.queryInfo,a=i.networkStatus;i.networkStatus=Ei.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var o=new Set;return this.queryManager.fetchQuery(r,n,Ei.fetchMore).then((function(s){return t.queryManager.removeQuery(r),i.networkStatus===Ei.fetchMore&&(i.networkStatus=a),t.queryManager.cache.batch({update:function(r){var i=e.updateQuery;i?r.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return i(e,{fetchMoreResult:s.data,variables:n.variables})})):r.writeQuery({query:n.query,variables:n.variables,data:s.data})},onWatchUpdated:function(e){o.add(e.query)}}),s})).finally((function(){o.has(t.query)||Pi(t)}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):__DEV__&&lt.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return Vr(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},Ei.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var n=t.fetchPolicy,r=void 0===n?"cache-first":n,i=t.initialFetchPolicy,a=void 0===i?r:i;"standby"===r||("function"===typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(r,{reason:e,options:t,observable:this,initialFetchPolicy:a}):t.fetchPolicy="variables-changed"===e?a:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?lt(n,"Attempted to start a polling query without a polling interval."):lt(n,13),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(Ti(e.queryInfo.networkStatus)?i():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},Ei.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=Ze(Ze({},this.last),{result:this.queryManager.assumeImmutableResults?e:ki(e),variables:t}),Jn(e.errors)||delete this.last.error,this.last},t.prototype.reobserveAsConcast=function(e,t){var n=this;this.isTornDown=!1;var r=t===Ei.refetch||t===Ei.fetchMore||t===Ei.poll,i=this.options.variables,a=this.options.fetchPolicy,o=Ri(this.options,e||{}),s=r?o:Ci(this.options,o);r||(this.updatePolling(),e&&e.variables&&!Vr(e.variables,i)&&"standby"!==s.fetchPolicy&&s.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",s),void 0===t&&(t=Ei.setVariables)));var l=s.variables&&Ze({},s.variables),u=this.fetch(s,t),c=u.concast,h=u.fromLink,d={next:function(e){n.reportResult(e,l)},error:function(e){n.reportError(e,l)}};return!r&&h&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=c,this.observer=d),c.addObserver(d),c},t.prototype.reobserve=function(e,t){return this.reobserveAsConcast(e,t).promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this.getLastError();(n||this.isDifferentFromLastResult(e,t))&&((n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),xi(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=Ze(Ze({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Ei.error,loading:!1});this.updateLastResult(n,t),xi(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(on);function Pi(e){var t=e.options,n=t.fetchPolicy,r=t.nextFetchPolicy;return"cache-and-network"===n||"network-only"===n?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,"function"===typeof r?r.apply(this,arguments):n}}):e.reobserve()}function Ni(e){__DEV__&&lt.error("Unhandled error",e.message,e.stack)}function Di(e){__DEV__&&e&&__DEV__&&lt.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}function Li(e){return e.kind===Rt.FIELD||e.kind===Rt.FRAGMENT_SPREAD||e.kind===Rt.INLINE_FRAGMENT}_i(Ii);var Ui=function(){return Object.create(null)},Fi=Array.prototype,ji=Fi.forEach,Bi=Fi.slice,zi=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=Ui),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return ji.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(Bi.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}();var Vi=null,Hi={},Wi=1;function Gi(e){try{return e()}catch(t){}}var qi="@wry/context:Slot",Xi=Gi((function(){return globalThis}))||Gi((function(){return global}))||Object.create(null),Yi=Xi[qi]||Array[qi]||function(e){try{Object.defineProperty(Xi,qi,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(function(){function e(){g(this,e),this.id=["slot",Wi++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return b(e,[{key:"hasValue",value:function(){for(var e=Vi;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Hi)break;return e!==Vi&&(Vi.slots[this.id]=t),!0}return Vi&&(Vi.slots[this.id]=Hi),!1}},{key:"getValue",value:function(){if(this.hasValue())return Vi.slots[this.id]}},{key:"withValue",value:function(e,t,n,r){var i=s({__proto__:null},this.id,e),a=Vi;Vi={parent:a,slots:i};try{return t.apply(r,n)}finally{Vi=a}}}],[{key:"bind",value:function(e){var t=Vi;return function(){var n=Vi;try{return Vi=t,e.apply(this,arguments)}finally{Vi=n}}}},{key:"noContext",value:function(e,t,n){if(!Vi)return e.apply(n,t);var r=Vi;try{return Vi=null,e.apply(n,t)}finally{Vi=r}}}]),e}());Yi.bind,Yi.noContext;function Qi(){}var Ki,$i=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=Qi),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Ji=new Yi,Zi=Object.prototype.hasOwnProperty,ea=void 0===(Ki=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:Ki;function ta(e){var t=e.unsubscribe;"function"===typeof t&&(e.unsubscribe=void 0,t())}var na=[],ra=100;function ia(e,t){if(!e)throw new Error(t||"assertion failure")}function aa(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var oa=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!ua(this))return sa(this),this.value[0]},e.prototype.recompute=function(e){return ia(!this.recomputing,"already recomputing"),sa(this),ua(this)?function(e,t){ma(e),Ji.withValue(e,la,[e,t]),function(e,t){if("function"===typeof e.subscribe)try{ta(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(n){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,ua(e))return;ha(e)}(e);return aa(e.value)}(this,e):aa(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ca(this),ta(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),ma(this),da(this,(function(t,n){t.setDirty(),ga(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=na.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(ea(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),na.push(this.deps),this.deps=null)},e.count=0,e}();function sa(e){var t=Ji.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),ua(e)?fa(t,e):pa(t,e),t}function la(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(n){e.value[1]=n}e.recomputing=!1}function ua(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function ca(e){da(e,fa)}function ha(e){da(e,pa)}function da(e,t){var n=e.parents.size;if(n)for(var r=ea(e.parents),i=0;i<n;++i)t(r[i],e)}function fa(e,t){ia(e.childValues.has(t)),ia(ua(t));var n=!ua(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=na.pop()||new Set;e.dirtyChildren.add(t),n&&ca(e)}function pa(e,t){ia(e.childValues.has(t)),ia(!ua(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),va(e,t),ua(e)||ha(e)}function va(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(na.length<ra&&na.push(n),e.dirtyChildren=null))}function ma(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){ga(e,n)})),e.forgetDeps(),ia(null===e.dirtyChildren)}function ga(e,t){t.parents.delete(e),e.childValues.delete(t),va(e,t)}var ya={setDirty:!0,dispose:!0,forget:!0};function ba(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=Ji.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"===typeof n&&(ta(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var i=n&&Zi.call(ya,n)?n:"setDirty";ea(r).forEach((function(e){return e[i]()})),t.delete(e),ta(r)}},r}function xa(){var e=new zi("function"===typeof WeakMap);return function(){return e.lookupArray(arguments)}}xa();var _a=new Set;function wa(e,t){void 0===t&&(t=Object.create(null));var n=new $i(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,i=t.makeCacheKey||xa(),a=function(){var a=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===a)return e.apply(null,arguments);var o=n.get(a);o||(n.set(a,o=new oa(e)),o.subscribe=t.subscribe,o.forget=function(){return n.delete(a)});var s=o.recompute(Array.prototype.slice.call(arguments));return n.set(a,o),_a.add(n),Ji.hasValue()||(_a.forEach((function(e){return e.clean()})),_a.clear()),s};function o(e){var t=n.get(e);t&&t.setDirty()}function s(e){var t=n.get(e);if(t)return t.peek()}function l(e){return n.delete(e)}return Object.defineProperty(a,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),a.dirtyKey=o,a.dirty=function(){o(i.apply(null,arguments))},a.peekKey=s,a.peek=function(){return s(i.apply(null,arguments))},a.forgetKey=l,a.forget=function(){return l(i.apply(null,arguments))},a.makeCacheKey=i,a.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(a)}var Ea=new Yi,Sa=new WeakMap;function Ta(e){var t=Sa.get(e);return t||Sa.set(e,t={vars:new Set,dep:ba()}),t}function Ma(e){Ta(e).vars.forEach((function(t){return t.forgetCache(e)}))}function ka(e){var t=new Set,n=new Set,r=function r(a){if(arguments.length>0){if(e!==a){e=a,t.forEach((function(e){Ta(e).dep.dirty(r),function(e){e.broadcastWatches&&e.broadcastWatches()}(e)}));var o=Array.from(n);n.clear(),o.forEach((function(t){return t(e)}))}}else{var s=Ea.getValue();s&&(i(s),Ta(s).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),Ta(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}var Aa=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=er(t.resolvers,e)})):this.resolvers=er(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,a=e.onlyRunForcedResolvers,o=void 0!==a&&a;return tt(this,void 0,void 0,(function(){return nt(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,o).then((function(e){return Ze(Ze({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Dn(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){return wn(e),pi([{test:function(e){return"client"===e.name.value},remove:!0}],e)}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return Ze(Ze({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),tt(this,void 0,void 0,(function(){return nt(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Ze(Ze({},t),e.exportedVariables)}))]:[2,Ze({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Lt(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return Dt}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:gi(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,a){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===a&&(a=!1),tt(this,void 0,void 0,(function(){var o,s,l,u,c,h,d,f,p,v;return nt(this,(function(m){return o=kn(e),s=Tn(e),l=un(s),u=this.collectSelectionsToResolve(o,l),c=o.operation,h=c?c.charAt(0).toUpperCase()+c.slice(1):"Query",f=(d=this).cache,p=d.client,v={fragmentMap:l,context:Ze(Ze({},n),{cache:f,client:p}),variables:r,fragmentMatcher:i,defaultOperationType:h,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:a},!1,[2,this.resolveSelectionSet(o.selectionSet,false,t,v).then((function(e){return{result:e,exportedVariables:v.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n,r){return tt(this,void 0,void 0,(function(){var i,a,o,s,l,u=this;return nt(this,(function(c){return i=r.fragmentMap,a=r.context,o=r.variables,s=[n],l=function(e){return tt(u,void 0,void 0,(function(){var l,u;return nt(this,(function(c){return(t||r.selectionsToResolve.has(e))&&Nn(e,o)?_n(e)?[2,this.resolveField(e,t,n,r).then((function(t){var n;"undefined"!==typeof t&&s.push(((n={})[bn(e)]=t,n))}))]:(!function(e){return"InlineFragment"===e.kind}(e)?(l=i[e.name.value],__DEV__?lt(l,"No fragment named ".concat(e.name.value)):lt(l,11)):l=e,l&&l.typeCondition&&(u=l.typeCondition.name.value,r.fragmentMatcher(n,u,a))?[2,this.resolveSelectionSet(l.selectionSet,t,n,r).then((function(e){s.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(l)).then((function(){return tr(s)}))]}))}))},e.prototype.resolveField=function(e,t,n,r){return tt(this,void 0,void 0,(function(){var i,a,o,s,l,u,c,h,d,f=this;return nt(this,(function(p){return n?(i=r.variables,a=e.name.value,o=bn(e),s=a!==o,l=n[o]||n[a],u=Promise.resolve(l),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(c=n.__typename||r.defaultOperationType,(h=this.resolvers&&this.resolvers[c])&&(d=h[s?a:o])&&(u=Promise.resolve(Ea.withValue(this.cache,d,[n,yn(e,i),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,u.then((function(n){var i,a;if(void 0===n&&(n=l),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(r.exportedVariables[e.value.value]=n)}))})),!e.selectionSet)return n;if(null==n)return n;var o=null!==(a=null===(i=e.directives)||void 0===i?void 0:i.some((function(e){return"client"===e.name.value})))&&void 0!==a&&a;return Array.isArray(n)?f.resolveSubSelectedArray(e,t||o,n,r):e.selectionSet?f.resolveSelectionSet(e.selectionSet,t||o,n,r):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n,r){var i=this;return Promise.all(n.map((function(n){return null===n?null:Array.isArray(n)?i.resolveSubSelectedArray(e,t,n,r):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,n,r):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var n=function(e){return!Array.isArray(e)},r=this.selectionsToResolveCache;return function e(i){if(!r.has(i)){var a=new Set;r.set(i,a),Lt(i,{Directive:function(e,t,r,i,o){"client"===e.name.value&&o.forEach((function(e){n(e)&&Li(e)&&a.add(e)}))},FragmentSpread:function(r,i,o,s,l){var u=t[r.name.value];__DEV__?lt(u,"No fragment named ".concat(r.name.value)):lt(u,12);var c=e(u);c.size>0&&(l.forEach((function(e){n(e)&&Li(e)&&a.add(e)})),a.add(r),c.forEach((function(e){a.add(e)})))}})}return r.get(i)}(e)},e}(),Ra=new(Fn?WeakMap:Map);function Ca(e,t){var n=e[t];"function"===typeof n&&(e[t]=function(){return Ra.set(e,(Ra.get(e)+1)%1e15),n.apply(this,arguments)})}function Oa(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Ia=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;Ra.has(n)||(Ra.set(n,0),Ca(n,"evict"),Ca(n,"modify"),Ca(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||Ei.loading;return this.variables&&this.networkStatus!==Ei.loading&&!Vr(this.variables,e.variables)&&(t=Ei.setVariables),Vr(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){Oa(this),this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&Vr(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||Vr(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():Pi(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;Oa(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Ti(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=Ze(Ze({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&Vr(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===Ra.get(this.cache)&&Vr(t,n.variables)&&Vr(e.data,n.result.data))},e.prototype.markResult=function(e,t,n,r){var i=this,a=new rr,o=Jn(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&Jn(e.incremental)){var s=or(this.getDiff().result,e);e.data=s}else if("hasNext"in e&&e.hasNext){var l=this.getDiff();e.data=a.merge(l.result,e.data)}this.graphQLErrors=o,"no-cache"===n.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):0!==r&&(Pa(e,n.errorPolicy)?this.cache.performTransaction((function(a){if(i.shouldWrite(e,n.variables))a.writeQuery({query:t,data:e.data,variables:n.variables,overwrite:1===r}),i.lastWrite={result:e,variables:n.variables,dmCount:Ra.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var o=i.getDiffOptions(n.variables),s=a.diff(o);i.stopped||i.updateWatch(n.variables),i.updateLastDiff(s,o),s.complete&&(e.data=s.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Ei.ready},e.prototype.markError=function(e){return this.networkStatus=Ei.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function Pa(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!si(e);return!r&&n&&e.data&&(r=!0),r}var Na=Object.prototype.hasOwnProperty,Da=function(){function e(e){var t=e.cache,n=e.link,r=e.defaultOptions,i=e.queryDeduplication,a=void 0!==i&&i,o=e.onBroadcast,s=e.ssrMode,l=void 0!==s&&s,u=e.clientAwareness,c=void 0===u?{}:u,h=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Fn?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.defaultOptions=r||Object.create(null),this.queryDeduplication=a,this.clientAwareness=c,this.localState=h||new Aa({cache:t}),this.ssrMode=l,this.assumeImmutableResults=!!d,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new st("QueryManager stopped while query was in flight"):new st(14))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t,n,r=e.mutation,i=e.variables,a=e.optimisticResponse,o=e.updateQueries,s=e.refetchQueries,l=void 0===s?[]:s,u=e.awaitRefetchQueries,c=void 0!==u&&u,h=e.update,d=e.onQueryUpdated,f=e.fetchPolicy,p=void 0===f?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":f,v=e.errorPolicy,m=void 0===v?(null===(n=this.defaultOptions.mutate)||void 0===n?void 0:n.errorPolicy)||"none":v,g=e.keepRootFields,y=e.context;return tt(this,void 0,void 0,(function(){var e,t,n,s,u,f;return nt(this,(function(v){switch(v.label){case 0:return __DEV__?lt(r,"mutation option is required. You must specify your GraphQL document in the mutation option."):lt(r,15),__DEV__?lt("network-only"===p||"no-cache"===p,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):lt("network-only"===p||"no-cache"===p,16),e=this.generateMutationId(),t=this.transform(r),n=t.document,s=t.hasClientExports,r=this.cache.transformForLink(n),i=this.getVariables(r,i),s?[4,this.localState.addExportedVariables(r,i,y)]:[3,2];case 1:i=v.sent(),v.label=2;case 2:return u=this.mutationStore&&(this.mutationStore[e]={mutation:r,variables:i,loading:!0,error:null}),a&&this.markMutationOptimistic(a,{mutationId:e,document:r,variables:i,fetchPolicy:p,errorPolicy:m,context:y,updateQueries:o,update:h,keepRootFields:g}),this.broadcastQueries(),f=this,[2,new Promise((function(t,n){return oi(f.getObservableFromLink(r,Ze(Ze({},y),{optimisticResponse:a}),i,!1),(function(t){if(si(t)&&"none"===m)throw new Kn({graphQLErrors:li(t)});u&&(u.loading=!1,u.error=null);var n=Ze({},t);return"function"===typeof l&&(l=l(n)),"ignore"===m&&si(n)&&delete n.errors,f.markMutationResult({mutationId:e,result:n,document:r,variables:i,fetchPolicy:p,errorPolicy:m,context:y,update:h,updateQueries:o,awaitRefetchQueries:c,refetchQueries:l,removeOptimistic:a?e:void 0,onQueryUpdated:d,keepRootFields:g})})).subscribe({next:function(e){f.broadcastQueries(),"hasNext"in e&&!1!==e.hasNext||t(e)},error:function(t){u&&(u.loading=!1,u.error=t),a&&f.cache.removeOptimistic(e),f.broadcastQueries(),n(t instanceof Kn?t:new Kn({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,i=[],a="no-cache"===e.fetchPolicy;if(!a&&Pa(r,e.errorPolicy)){if(ir(r)||i.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),ir(r)&&Jn(r.incremental)){var o=t.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),s=void 0;o.result&&(s=or(o.result,r)),"undefined"!==typeof s&&(r.data=s,i.push({result:s,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var l=e.updateQueries;l&&this.queries.forEach((function(e,a){var o=e.observableQuery,s=o&&o.queryName;if(s&&Na.call(l,s)){var u=l[s],c=n.queries.get(a),h=c.document,d=c.variables,f=t.diff({query:h,variables:d,returnPartialData:!0,optimistic:!1}),p=f.result;if(f.complete&&p){var v=u(p,{mutationResult:r,queryName:h&&Sn(h)||void 0,queryVariables:d});v&&i.push({result:v,dataId:"ROOT_QUERY",query:h,variables:d})}}}))}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(t){a||i.forEach((function(e){return t.write(e)}));var o,s=e.update,l=!(ir(o=r)||function(e){return"hasNext"in e&&"data"in e}(o))||ir(r)&&!r.hasNext;if(s){if(!a){var u=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});u.complete&&("incremental"in(r=Ze(Ze({},r),{data:u.result}))&&delete r.incremental,"hasNext"in r&&delete r.hasNext)}l&&s(t,r,{context:e.context,variables:e.variables})}a||e.keepRootFields||!l||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return u.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(u).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"===typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(Ze(Ze({},t),{result:{data:r}}),e)}catch(i){__DEV__&&lt.error(i)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.cache.transformDocument(e),r=pi([mi],wn(n)),i=this.localState.clientQuery(n),a=r&&this.localState.serverQuery(r),o={document:n,hasClientExports:Ln(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:i,serverQuery:a,defaultVars:An(En(n)),asQuery:Ze(Ze({},n),{definitions:n.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?Ze(Ze({},e),{operation:"query"}):e}))})},s=function(e){e&&!t.has(e)&&t.set(e,o)};s(e),s(n),s(i),s(a)}return t.get(e)},e.prototype.getVariables=function(e,t){return Ze(Ze({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){"undefined"===typeof(e=Ze(Ze({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new Ia(this),n=new Ii({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:n.query,observableQuery:n,variables:n.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?lt(e.query,"query option is required. You must specify your GraphQL document in the query option."):lt(e.query,17),__DEV__?lt("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):lt("Document"===e.query.kind,18),__DEV__?lt(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):lt(!e.returnPartialData,19),__DEV__?lt(!e.pollInterval,"pollInterval option only supported on watchQuery."):lt(!e.pollInterval,20),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new st("Store reset while query was in flight (not completed in link chain)"):new st(21)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Ei.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"===typeof e?r.set(e,!1):sn(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):sn(e)&&e.query&&i.add(e)})),this.queries.forEach((function(t,i){var a=t.observableQuery,o=t.document;if(a){if("all"===e)return void n.set(i,a);var s=a.queryName;if("standby"===a.options.fetchPolicy||"active"===e&&!a.hasObservers())return;("active"===e||s&&r.has(s)||o&&r.has(o))&&(n.set(i,a),s&&r.set(s,!0),o&&r.set(o,!0))}})),i.size&&i.forEach((function(e){var r=bi("legacyOneTimeQuery"),i=t.getQuery(r).init({document:e.query,variables:e.variables}),a=new Ii({queryManager:t,queryInfo:i,options:Ze(Ze({},e),{fetchPolicy:"network-only"})});lt(a.queryId===r),i.setObservableQuery(a),n.set(r,a)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&lt.warn("Unknown query ".concat("string"===typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,i){var a=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==a&&"cache-only"!==a)&&n.push(r.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,a=e.variables,o=e.context,s=void 0===o?{}:o;n=this.transform(n).document,a=this.getVariables(n,a);var l=function(e){return t.getObservableFromLink(n,s,e).map((function(a){"no-cache"!==r&&(Pa(a,i)&&t.cache.write({query:n,result:a.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var o=si(a),s=function(e){return!!e.extensions&&Array.isArray(e.extensions[Qn])}(a);if(o||s){var l={};throw o&&(l.graphQLErrors=a.errors),s&&(l.protocolErrors=a.extensions[Qn]),new Kn(l)}return a}))};if(this.transform(n).hasClientExports){var u=this.localState.addExportedVariables(n,a,s).then(l);return new on((function(e){var t=null;return u.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return l(a)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,a,o=this;void 0===r&&(r=null!==(i=null===t||void 0===t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var s=this.transform(e).serverQuery;if(s){var l=this.inFlightLinkObservables,u=this.link,c={query:s,variables:n,operationName:Sn(s)||void 0,context:this.prepareContext(Ze(Ze({},t),{forceFetch:!r}))};if(t=c.context,r){var h=l.get(s)||new Map;l.set(s,h);var d=ii(n);if(!(a=h.get(d))){var f=new Si([Dr(u,c)]);h.set(d,a=f),f.beforeNext((function(){h.delete(d)&&h.size<1&&l.delete(s)}))}}else a=new Si([Dr(u,c)])}else a=new Si([on.of({data:{}})]),t=this.prepareContext(t);var p=this.transform(e).clientQuery;return p&&(a=oi(a,(function(e){return o.localState.runResolvers({document:p,remoteResult:e,context:t,variables:n})}))),a},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(this.transform(e.document).document);return oi(this.getObservableFromLink(i,n.context,n.variables),(function(a){var o=li(a),s=o.length>0;if(r>=e.lastRequestId){if(s&&"none"===n.errorPolicy)throw e.markError(new Kn({graphQLErrors:o}));e.markResult(a,i,n,t),e.markReady()}var l={data:a.data,loading:!1,networkStatus:Ei.ready};return s&&"ignore"!==n.errorPolicy&&(l.errors=o,l.networkStatus=Ei.error),l}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new Kn({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){return this.fetchConcastWithInfo(e,t,n).concast},e.prototype.fetchConcastWithInfo=function(e,t,n){var r=this;void 0===n&&(n=Ei.loading);var i,a,o=this.transform(t.query).document,s=this.getVariables(o,t.variables),l=this.getQuery(e),u=this.defaultOptions.watchQuery,c=t.fetchPolicy,h=void 0===c?u&&u.fetchPolicy||"cache-first":c,d=t.errorPolicy,f=void 0===d?u&&u.errorPolicy||"none":d,p=t.returnPartialData,v=void 0!==p&&p,m=t.notifyOnNetworkStatusChange,g=void 0!==m&&m,y=t.context,b=void 0===y?{}:y,x=Object.assign({},t,{query:o,variables:s,fetchPolicy:h,errorPolicy:f,returnPartialData:v,notifyOnNetworkStatusChange:g,context:b}),_=function(e){x.variables=e;var i=r.fetchQueryByPolicy(l,x,n);return"standby"!==x.fetchPolicy&&i.sources.length>0&&l.observableQuery&&l.observableQuery.applyNextFetchPolicy("after-fetch",t),i},w=function(){return r.fetchCancelFns.delete(e)};if(this.fetchCancelFns.set(e,(function(e){w(),setTimeout((function(){return i.cancel(e)}))})),this.transform(x.query).hasClientExports)i=new Si(this.localState.addExportedVariables(x.query,x.variables,x.context).then(_).then((function(e){return e.sources}))),a=!0;else{var E=_(x.variables);a=E.fromLink,i=new Si(E.sources)}return i.promise.then(w,w),{concast:i,fromLink:a}},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,i=e.optimistic,a=void 0!==i&&i,o=e.removeOptimistic,s=void 0===o?a?bi("refetchQueries"):void 0:o,l=e.onQueryUpdated,u=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){u.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var c=new Map;return n&&this.cache.batch({update:n,optimistic:a&&s||!1,removeOptimistic:s,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof Ia&&e.watcher.observableQuery;if(r){if(l){u.delete(r.queryId);var i=l(r,t,n);return!0===i&&(i=r.refetch()),!1!==i&&c.set(r,i),i}null!==l&&u.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),u.size&&u.forEach((function(e,n){var r,i=e.oq,a=e.lastDiff,o=e.diff;if(l){if(!o){var s=i.queryInfo;s.reset(),o=s.getDiff()}r=l(i,o,a)}l&&!0!==r||(r=i.refetch()),!1!==r&&c.set(i,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),s&&this.cache.removeOptimistic(s),c},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,i=t.query,a=t.variables,o=t.fetchPolicy,s=t.refetchWritePolicy,l=t.errorPolicy,u=t.returnPartialData,c=t.context,h=t.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:this.transform(i).document,variables:a,networkStatus:n});var f=function(){return e.getDiff(a)},p=function(t,n){void 0===n&&(n=e.networkStatus||Ei.loading);var o=t.result;!__DEV__||u||Vr(o,{})||Di(t.missing);var s=function(e){return on.of(Ze({data:e,loading:Ti(n),networkStatus:n},t.complete?null:{partial:!0}))};return o&&r.transform(i).hasForcedResolvers?r.localState.runResolvers({document:i,remoteResult:{data:o},context:c,variables:a,onlyRunForcedResolvers:!0}).then((function(e){return s(e.data||void 0)})):"none"===l&&n===Ei.refetch&&Array.isArray(t.missing)?s(void 0):s(o)},v="no-cache"===o?0:n===Ei.refetch&&"merge"!==s?1:2,m=function(){return r.getResultsFromLink(e,v,{variables:a,context:c,fetchPolicy:o,errorPolicy:l})},g=h&&"number"===typeof d&&d!==n&&Ti(n);switch(o){default:case"cache-first":return(y=f()).complete?{fromLink:!1,sources:[p(y,e.markReady())]}:u||g?{fromLink:!0,sources:[p(y),m()]}:{fromLink:!0,sources:[m()]};case"cache-and-network":var y;return(y=f()).complete||u||g?{fromLink:!0,sources:[p(y),m()]}:{fromLink:!0,sources:[m()]};case"cache-only":return{fromLink:!1,sources:[p(f(),e.markReady())]};case"network-only":return g?{fromLink:!0,sources:[p(f()),m()]}:{fromLink:!0,sources:[m()]};case"no-cache":return g?{fromLink:!0,sources:[p(e.getDiff()),m()]}:{fromLink:!0,sources:[m()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Ia(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Ze(Ze({},t),{clientAwareness:this.clientAwareness})},e}();function La(e,t){return Ri(e,t,t.variables&&{variables:Ze(Ze({},e&&e.variables),t.variables)})}var Ua=!1,Fa=function(){function e(e){var t=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,a=e.cache,o=e.ssrMode,s=void 0!==o&&o,l=e.ssrForceFetchDelay,u=void 0===l?0:l,c=e.connectToDevTools,h=void 0===c?"object"===typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:c,d=e.queryDeduplication,f=void 0===d||d,p=e.defaultOptions,v=e.assumeImmutableResults,m=void 0!==v&&v,g=e.resolvers,y=e.typeDefs,b=e.fragmentMatcher,x=e.name,_=e.version,w=e.link;if(w||(w=n?new Lr({uri:n,credentials:r,headers:i}):Pn.empty()),!a)throw __DEV__?new st("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new st(9);if(this.link=w,this.cache=a,this.disableNetworkFetches=s||u>0,this.queryDeduplication=f,this.defaultOptions=p||Object.create(null),this.typeDefs=y,u&&setTimeout((function(){return t.disableNetworkFetches=!1}),u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&"object"===typeof window&&(window.__APOLLO_CLIENT__=this),!Ua&&h&&__DEV__&&(Ua=!0,"undefined"!==typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var E=window.navigator,S=E&&E.userAgent,T=void 0;"string"===typeof S&&(S.indexOf("Chrome/")>-1?T="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":S.indexOf("Firefox/")>-1&&(T="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),T&&__DEV__&&lt.log("Download the Apollo DevTools for a better development experience: "+T)}this.version="3.7.16",this.localState=new Aa({cache:a,client:this,resolvers:g,fragmentMatcher:b}),this.queryManager=new Da({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:f,ssrMode:s,clientAwareness:{name:x,version:_},localState:this.localState,assumeImmutableResults:m,onBroadcast:h?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=La(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Ze(Ze({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=La(this.defaultOptions.query,e)),__DEV__?lt("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):lt("cache-and-network"!==e.fetchPolicy,10),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Ze(Ze({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=La(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Dr(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var i=Promise.all(r);return i.queries=n,i.results=r,i.catch((function(e){__DEV__&&lt.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),ja=function(){function e(){this.getFragmentDoc=wa(ln)}return e.prototype.batch=function(e){var t,n=this,r="string"===typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(Ze(Ze({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(Ze(Ze({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=et(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,i=e.fragmentName,a=et(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(a,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),i=t(r);return void 0===i||null===i?r:(n.writeQuery(Ze(Ze({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),i=t(r);return void 0===i||null===i?r:(n.writeFragment(Ze(Ze({},e),{data:i})),i)}})},e}(),Ba=function(e){function t(n,r,i,a){var o,s=e.call(this,n)||this;if(s.message=n,s.path=r,s.query=i,s.variables=a,Array.isArray(s.path)){s.missing=s.message;for(var l=s.path.length-1;l>=0;--l)s.missing=((o={})[s.path[l]]=s.missing,o)}else s.missing=s.path;return s.__proto__=t.prototype,s}return Je(t,e),t}(Error);function za(e){var t=new Set([e]);return t.forEach((function(e){sn(e)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(n){sn(e[n])&&t.add(e[n])}))})),e}function Va(e){return __DEV__&&za(e),e}var Ha=Object.prototype.hasOwnProperty;function Wa(e){return null===e||void 0===e}function Ga(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"===typeof n&&(t&&(t.keyObject=Wa(r)?Wa(i)?void 0:{_id:i}:{id:r}),Wa(r)&&!Wa(i)&&(r=i),!Wa(r)))return"".concat(n,":").concat("number"===typeof r||"string"===typeof r?r:JSON.stringify(r))}var qa={dataIdFromObject:Ga,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Xa(e){var t=e.canonizeResults;return void 0===t?qa.canonizeResults:t}var Ya=/^[_a-z][_0-9a-z]*/i;function Qa(e){var t=e.match(Ya);return t?t[0]:e}function Ka(e,t,n){return!!sn(t)&&($n(t)?t.every((function(t){return Ka(e,t,n)})):e.selections.every((function(e){if(_n(e)&&Nn(e,n)){var r=bn(e);return Ha.call(t,r)&&(!e.selectionSet||Ka(e.selectionSet,t[r],n))}return!0})))}function $a(e){return sn(e)&&!dn(e)&&!$n(e)}function Ja(e,t){var n=un(Tn(e));return{fragmentMap:n,lookupFragment:function(e){var r=n[e];return!r&&t&&(r=t.lookup(e)),r||null}}}var Za=Object.create(null),eo=function(){return Za},to=Object.create(null),no=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return Va(dn(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return dn(e)?n.has(e.__ref):"object"===typeof e},this.toReference=function(e,t){if("string"===typeof e)return hn(e);if(dn(e))return e;var r=n.policies.identify(e)[0];if(r){var i=hn(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return Ze({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),Ha.call(this.data,e)){var n=this.data[e];if(n&&Ha.call(n,t))return n[t]}return"__typename"===t&&Ha.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof oo?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),Ha.call(this.data,e)?this.data[e]:this instanceof oo?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;dn(e)&&(e=e.__ref),dn(t)&&(t=t.__ref);var i="string"===typeof e?this.lookup(n=e):e,a="string"===typeof t?this.lookup(n=t):t;if(a){__DEV__?lt("string"===typeof n,"store.merge expects a string ID"):lt("string"===typeof n,1);var o=new rr(lo).merge(i,a);if(this.data[n]=o,o!==i&&(delete this.refs[n],this.group.caching)){var s=Object.create(null);i||(s.__exists=1),Object.keys(a).forEach((function(e){if(!i||i[e]!==o[e]){s[e]=1;var t=Qa(e);t===e||r.policies.hasKeyArgs(o.__typename,t)||(s[t]=1),void 0!==o[e]||r instanceof oo||delete o[e]}})),!s.__typename||i&&i.__typename||this.policies.rootTypenamesById[n]!==o.__typename||delete s.__typename,Object.keys(s).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),a=!1,o=!0,s={DELETE:Za,INVALIDATE:to,isReference:dn,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"===typeof t?{fieldName:t,from:r||hn(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(l){var u=Qa(l),c=r[l];if(void 0!==c){var h="function"===typeof t?t:t[l]||t[u];if(h){var d=h===eo?Za:h(Va(c),Ze(Ze({},s),{fieldName:u,storeFieldName:l,storage:n.getStorage(e,l)}));d===to?n.group.dirty(e,l):(d===Za&&(d=void 0),d!==c&&(i[l]=d,a=!0,c=d))}void 0!==c&&(o=!1)}})),a)return this.merge(e,i),o&&(this instanceof oo?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var a=this.getFieldValue(i,"__typename"),o=t&&n?this.policies.getStoreFieldName({typename:a,fieldName:t,args:n}):t;return this.modify(e,o?((r={})[o]=eo,r):eo)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(Ha.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof oo&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){Ha.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&Ha.call(e,n)||t.delete(n)})),e){var n=e.__META,r=et(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof oo?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){Ha.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof oo;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!Ha.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){dn(e)&&(t[e.__ref]=!0),sn(e)&&Object.keys(e).forEach((function(t){var n=e[t];sn(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),ro=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?ba():null,this.keyMaker=new Zr(Fn)},e.prototype.depend=function(e,t){if(this.d){this.d(io(e,t));var n=Qa(t);n!==t&&this.d(io(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(io(e,t),"__exists"===t?"forget":"setDirty")},e}();function io(e,t){return t+"#"+e}function ao(e,t){uo(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,a=t.seed,o=e.call(this,n,new ro(i))||this;return o.stump=new so(o),o.storageTrie=new Zr(Fn),a&&o.replace(a),o}return Je(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(no||(no={}));var oo=function(e){function t(t,n,r,i){var a=e.call(this,n.policies,i)||this;return a.id=t,a.parent=n,a.replay=r,a.group=i,r(a),a}return Je(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach((function(n){Vr(r[n],i[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return Ze(Ze({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return Ha.call(this.data,t)?Ze(Ze({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(no),so=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new ro(t.group.caching,t.group))||this}return Je(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(oo);function lo(e,t,n){var r=e[n],i=t[n];return Vr(r,i)?r:i}function uo(e){return!!(e instanceof no&&e.group.caching)}function co(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var ho=function(){function e(e){var t=this;this.knownResults=new(Fn?WeakMap:Map),this.config=Ri(e,{addTypename:!1!==e.addTypename,canonizeResults:Xa(e)}),this.canon=e.canon||new ri,this.executeSelectionSet=wa((function(e){var n,r=e.context.canonizeResults,i=co(e);i[3]=!r;var a=(n=t.executeSelectionSet).peek.apply(n,i);return a?r?Ze(Ze({},a),{result:t.canon.admit(a.result)}):a:(ao(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:co,makeCacheKey:function(e,t,n,r){if(uo(n.store))return n.store.makeCacheKey(e,dn(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=wa((function(e){return ao(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(uo(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new ri},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,a=e.variables,o=e.returnPartialData,s=void 0===o||o,l=e.canonizeResults,u=void 0===l?this.config.canonizeResults:l,c=this.config.cache.policies;a=Ze(Ze({},An(Mn(n))),a);var h,d=hn(i),f=this.executeSelectionSet({selectionSet:kn(n).selectionSet,objectOrReference:d,enclosingRef:d,context:Ze({store:t,query:n,policies:c,variables:a,varString:ii(a),canonizeResults:u},Ja(n,this.config.fragments))});if(f.missing&&(h=[new Ba(fo(f.missing),f.missing,n,a)],!s))throw h[0];return{result:f.result,complete:!h,missing:h}},e.prototype.isFresh=function(e,t,n,r){if(uo(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.enclosingRef,a=e.context;if(dn(r)&&!a.policies.rootTypenamesById[r.__ref]&&!a.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var o,s=a.variables,l=a.policies,u=a.store.getFieldValue(r,"__typename"),c=[],h=new rr;function d(e,t){var n;return e.missing&&(o=h.merge(o,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"===typeof u&&!l.rootIdsByTypename[u]&&c.push({__typename:u});var f=new Set(n.selections);f.forEach((function(e){var n,p;if(Nn(e,s))if(_n(e)){var v=l.readField({fieldName:e.name.value,field:e,variables:a.variables,from:r},a),m=bn(e);void 0===v?vi.added(e)||(o=h.merge(o,((n={})[m]="Can't find field '".concat(e.name.value,"' on ").concat(dn(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):$n(v)?v=d(t.executeSubSelectedArray({field:e,array:v,enclosingRef:i,context:a}),m):e.selectionSet?null!=v&&(v=d(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:v,enclosingRef:dn(v)?v:i,context:a}),m)):a.canonizeResults&&(v=t.canon.pass(v)),void 0!==v&&c.push(((p={})[m]=v,p))}else{var g=cn(e,a.lookupFragment);if(!g&&e.kind===Rt.FRAGMENT_SPREAD)throw __DEV__?new st("No fragment named ".concat(e.name.value)):new st(5);g&&l.fragmentMatches(g,u)&&g.selectionSet.selections.forEach(f.add,f)}}));var p={result:tr(c),missing:o},v=a.canonizeResults?this.canon.admit(p):Va(p);return v.result&&this.knownResults.set(v.result,n),v},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,a=e.enclosingRef,o=e.context,s=new rr;function l(e,n){var r;return e.missing&&(t=s.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(i=i.filter(o.store.canRead)),i=i.map((function(e,t){return null===e?null:$n(e)?l(n.executeSubSelectedArray({field:r,array:e,enclosingRef:a,context:o}),t):r.selectionSet?l(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:dn(e)?e:a,context:o}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){sn(n)&&(__DEV__?lt(!dn(n),"Missing selection set for object of type ".concat(function(e,t){return dn(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)," returned for query field ").concat(t.name.value)):lt(!dn(n),6),Object.values(n).forEach(r.add,r))}))}}(o.store,r,e),e)})),{result:o.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function fo(e){try{JSON.stringify(e,(function(e,t){if("string"===typeof t)throw t;return t}))}catch(t){return t}}var po=Object.create(null);function vo(e){var t=JSON.stringify(e);return po[t]||(po[t]=Object.create(null))}function mo(e){var t=vo(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},i=n.keyObject=yo(e,(function(e){var i=_o(n.storeObject,e,r);return void 0===i&&t!==n.storeObject&&Ha.call(t,e[0])&&(i=_o(t,e,xo)),__DEV__?lt(void 0!==i,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):lt(void 0!==i,2),i}));return"".concat(n.typename,":").concat(JSON.stringify(i))})}function go(e){var t=vo(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,i=n.variables,a=n.fieldName,o=yo(e,(function(e){var n=e[0],a=n.charAt(0);if("@"!==a)if("$"!==a){if(t)return _o(t,e)}else{var o=n.slice(1);if(i&&Ha.call(i,o)){var s=e.slice(0);return s[0]=o,_o(i,s)}}else if(r&&Jn(r.directives)){var l=n.slice(1),u=r.directives.find((function(e){return e.name.value===l})),c=u&&yn(u,i);return c&&_o(c,e.slice(1))}})),s=JSON.stringify(o);return(t||"{}"!==s)&&(a+=":"+s),a})}function yo(e,t){var n=new rr;return bo(e).reduce((function(e,r){var i,a=t(r);if(void 0!==a){for(var o=r.length-1;o>=0;--o)(i={})[r[o]]=a,a=i;e=n.merge(e,a)}return e}),Object.create(null))}function bo(e){var t=vo(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,i){$n(t)?(bo(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),$n(e[i+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function xo(e,t){return e[t]}function _o(e,t,n){return n=n||xo,wo(t.reduce((function e(t,r){return $n(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function wo(e){return sn(e)?$n(e)?e.map(wo):yo(Object.keys(e).sort(),(function(t){return _o(e,t)})):e}function Eo(e){return void 0!==e.args?e.args:e.field?yn(e.field,e.variables):null}vn.setStringify(ii);var So=function(){},To=function(e,t){return t.fieldName},Mo=function(e,t,n){return(0,n.mergeObjects)(e,t)},ko=function(e,t){return t},Ao=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Ze({dataIdFromObject:Ga},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,i=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var a,o=t&&t.storeObject||e,s=Ze(Ze({},t),{typename:i,storeObject:o,readField:t&&t.readField||function(){var e=Co(arguments,o);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),l=i&&this.getTypePolicy(i),u=l&&l.keyFn||this.config.dataIdFromObject;u;){var c=u(Ze(Ze({},e),o),s);if(!$n(c)){a=c;break}u=mo(c)}return a=a?String(a):void 0,s.keyObject?[a,s.keyObject]:[a]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=r.queryType,a=r.mutationType,o=r.subscriptionType,s=et(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),a&&t.setRootTypename("Mutation",n),o&&t.setRootTypename("Subscription",n),Ha.call(t.toBeAdded,n)?t.toBeAdded[n].push(s):t.toBeAdded[n]=[s]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,a=t.fields;function o(e,t){e.merge="function"===typeof t?t:!0===t?Mo:!1===t?ko:e.merge}o(r,t.merge),r.keyFn=!1===i?So:$n(i)?mo(i):"function"===typeof i?i:r.keyFn,a&&Object.keys(a).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=a[t];if("function"===typeof i)r.read=i;else{var s=i.keyArgs,l=i.read,u=i.merge;r.keyFn=!1===s?To:$n(s)?go(s):"function"===typeof s?s:r.keyFn,"function"===typeof l&&(r.read=l),o(r,u)}r.read&&r.merge&&(r.keyFn=r.keyFn||To)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?lt(!r||r===e,"Cannot change root ".concat(e," __typename more than once")):lt(!r||r===e,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(Ya);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!Ha.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),i=r.fields,a=et(r,["fields"]);Object.assign(n,a),Object.assign(n.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var a=e.typeCondition.name.value;if(t===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a))for(var o=this.getSupertypeSet(t,!0),s=[o],l=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},u=!(!n||!this.fuzzySubtypes.size),c=!1,h=0;h<s.length;++h){var d=s[h];if(d.has(a))return o.has(a)||(c&&__DEV__&&lt.warn("Inferring subtype ".concat(t," of supertype ").concat(a)),o.add(a)),!0;d.forEach(l),u&&h===s.length-1&&Ka(e.selectionSet,n,r)&&(u=!1,c=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&l(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),a=i&&i.keyFn;if(a&&n)for(var o={typename:n,fieldName:r,field:e.field||null,variables:e.variables},s=Eo(e);a;){var l=a(s,o);if(!$n(l)){t=l||r;break}a=go(l)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,a=r.value;return fn(n[e.name.value],i,a,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return fn(r,n,i,t)}))),vn(e.name.value,r,n)}(e.field,e.variables):vn(r,Eo(e))),!1===t?r:r===Qa(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),a=Qa(i),o=t.store.getFieldValue(n,i),s=this.getFieldPolicy(e.typename,a,!1),l=s&&s.read;if(l){var u=Ro(this,n,e,t,t.store.getStorage(dn(n)?n.__ref:n,i));return Ea.withValue(this.cache,l,[o,u])}return o}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var a=n.field,o=n.typename,s=n.merge;return s===Mo?Oo(r.store)(e,t):s===ko?t:(r.overwrite&&(e=void 0),s(e,t,Ro(this,void 0,{typename:o,fieldName:a.name.value,field:a,variables:r.variables},r,i||Object.create(null))))},e}();function Ro(e,t,n,r,i){var a=e.getStoreFieldName(n),o=Qa(a),s=n.variables||r.variables,l=r.store,u=l.toReference,c=l.canRead;return{args:Eo(n),field:n.field||null,fieldName:o,storeFieldName:a,variables:s,isReference:dn,toReference:u,storage:i,cache:e.cache,canRead:c,readField:function(){return e.readField(Co(arguments,t,s),r)},mergeObjects:Oo(r.store)}}function Co(e,t,n){var r,i=e[0],a=e[1],o=e.length;return"string"===typeof i?r={fieldName:i,from:o>1?a:t}:(r=Ze({},i),Ha.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&lt.warn("Undefined 'from' passed to readField with arguments ".concat(function(e){var t=bi("stringifyForDisplay");return JSON.stringify(e,(function(e,n){return void 0===n?t:n})).split(JSON.stringify(t)).join("<undefined>")}(Array.from(e)))),void 0===r.variables&&(r.variables=n),r}function Oo(e){return function(t,n){if($n(t)||$n(n))throw __DEV__?new st("Cannot automatically merge arrays"):new st(4);if(sn(t)&&sn(n)){var r=e.getFieldValue(t,"__typename"),i=e.getFieldValue(n,"__typename");if(r&&i&&r!==i)return n;if(dn(t)&&$a(n))return e.merge(t.__ref,n),t;if($a(t)&&dn(n))return e.merge(t,n.__ref),n;if($a(t)&&$a(n))return Ze(Ze({},t),n)}return n}}function Io(e,t,n){var r="".concat(t).concat(n),i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:Ze(Ze({},e),{clientOnly:t,deferred:n})),i}var Po=function(){function e(e,t,n){this.cache=e,this.reader=t,this.fragments=n}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,i=t.result,a=t.dataId,o=t.variables,s=t.overwrite,l=En(r),u=new rr;o=Ze(Ze({},An(l)),o);var c=Ze(Ze({store:e,written:Object.create(null),merge:function(e,t){return u.merge(e,t)},variables:o,varString:ii(o)},Ja(r,this.fragments)),{overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),h=this.processSelectionSet({result:i||Object.create(null),dataId:a,selectionSet:l.selectionSet,mergeTree:{map:new Map},context:c});if(!dn(h))throw __DEV__?new st("Could not identify object ".concat(JSON.stringify(i))):new st(7);return c.incomingById.forEach((function(t,r){var i=t.storeObject,a=t.mergeTree,o=t.fieldNodeSet,s=hn(r);if(a&&a.map.size){var l=n.applyMerges(a,s,i,c);if(dn(l))return;i=l}if(__DEV__&&!c.overwrite){var u=Object.create(null);o.forEach((function(e){e.selectionSet&&(u[e.name.value]=!0)}));Object.keys(i).forEach((function(e){(function(e){return!0===u[Qa(e)]})(e)&&!function(e){var t=a&&a.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"===typeof t&&t},a=i(e);if(!a)return;var o=i(t);if(!o)return;if(dn(a))return;if(Vr(a,o))return;if(Object.keys(a).every((function(e){return void 0!==r.getFieldValue(o,e)})))return;var s=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),l=Qa(n),u="".concat(s,".").concat(l);if(jo.has(u))return;jo.add(u);var c=[];$n(a)||$n(o)||[a,o].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!==typeof t||c.includes(t)||c.push(t)}));__DEV__&&lt.warn("Cache data may be lost when replacing the ".concat(l," field of a ").concat(s," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(u," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(a).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(o).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}(s,i,e,c.store)}))}e.merge(r,i)})),e.retain(h.__ref),h},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,a=e.context,o=e.mergeTree,s=this.cache.policies,l=Object.create(null),u=n&&s.rootTypenamesById[n]||xn(r,i,a.fragmentMap)||n&&a.store.get(n,"__typename");"string"===typeof u&&(l.__typename=u);var c=function(){var e=Co(arguments,l,a.variables);if(dn(e.from)){var t=a.incomingById.get(e.from.__ref);if(t){var n=s.readField(Ze(Ze({},e),{from:t.storeObject}),a);if(void 0!==n)return n}}return s.readField(e,a)},h=new Set;this.flattenFields(i,r,a,u).forEach((function(e,n){var i,a=bn(n),d=r[a];if(h.add(n),void 0!==d){var f=s.getStoreFieldName({typename:u,fieldName:n.name.value,field:n,variables:e.variables}),p=Do(o,f),v=t.processFieldValue(d,n,n.selectionSet?Io(e,!1,!1):e,p),m=void 0;n.selectionSet&&(dn(v)||$a(v))&&(m=c("__typename",v));var g=s.getMergeFunction(u,n.name.value,m);g?p.info={field:n,typename:u,merge:g}:Fo(o,f),l=e.merge(l,((i={})[f]=v,i))}else!__DEV__||e.clientOnly||e.deferred||vi.added(n)||s.getReadFunction(u,n.name.value)||__DEV__&&lt.error("Missing field '".concat(bn(n),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))}));try{var d=s.identify(r,{typename:u,selectionSet:i,fragmentMap:a.fragmentMap,storeObject:l,readField:c}),f=d[0],p=d[1];n=n||f,p&&(l=a.merge(l,p))}catch(y){if(!n)throw y}if("string"===typeof n){var v=hn(n),m=a.written[n]||(a.written[n]=[]);if(m.indexOf(i)>=0)return v;if(m.push(i),this.reader&&this.reader.isFresh(r,v,i,a))return v;var g=a.incomingById.get(n);return g?(g.storeObject=a.merge(g.storeObject,l),g.mergeTree=Lo(g.mergeTree,o),h.forEach((function(e){return g.fieldNodeSet.add(e)}))):a.incomingById.set(n,{storeObject:l,mergeTree:Uo(o)?void 0:o,fieldNodeSet:h}),v}return l},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?$n(e)?e.map((function(e,a){var o=i.processFieldValue(e,t,n,Do(r,a));return Fo(r,a),o})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?ki(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=xn(t,e,n.fragmentMap));var i=new Map,a=this.cache.policies,o=new Zr(!1);return function e(s,l){var u=o.lookup(s,l.clientOnly,l.deferred);u.visited||(u.visited=!0,s.selections.forEach((function(o){if(Nn(o,n.variables)){var s=l.clientOnly,u=l.deferred;if(s&&u||!Jn(o.directives)||o.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(s=!0),"defer"===t){var r=yn(e,n.variables);r&&!1===r.if||(u=!0)}})),_n(o)){var c=i.get(o);c&&(s=s&&c.clientOnly,u=u&&c.deferred),i.set(o,Io(n,s,u))}else{var h=cn(o,n.lookupFragment);if(!h&&o.kind===Rt.FRAGMENT_SPREAD)throw __DEV__?new st("No fragment named ".concat(o.name.value)):new st(8);h&&a.fragmentMatches(h,r,t,n.variables)&&e(h.selectionSet,Io(n,s,u))}}})))}(e,n),i},e.prototype.applyMerges=function(e,t,n,r,i){var a,o=this;if(e.map.size&&!dn(n)){var s,l=$n(n)||!dn(t)&&!$a(t)?void 0:t,u=n;l&&!i&&(i=[dn(l)?l.__ref:l]);var c=function(e,t){return $n(e)?"number"===typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=c(l,t),a=c(u,t);if(void 0!==a){i&&i.push(t);var h=o.applyMerges(e,n,a,r,i);h!==a&&(s=s||new Map).set(t,h),i&&lt(i.pop()===t)}})),s&&(n=$n(u)?u.slice(0):Ze({},u),s.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(a=r.store).getStorage.apply(a,i)):n},e}(),No=[];function Do(e,t){var n=e.map;return n.has(t)||n.set(t,No.pop()||{map:new Map}),n.get(t)}function Lo(e,t){if(e===t||!t||Uo(t))return e;if(!e||Uo(e))return t;var n=e.info&&t.info?Ze(Ze({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var a=new Set(t.map.keys());e.map.forEach((function(e,n){i.map.set(n,Lo(e,t.map.get(n))),a.delete(n)})),a.forEach((function(n){i.map.set(n,Lo(t.map.get(n),e.map.get(n)))}))}return i}function Uo(e){return!e||!(e.info||e.map.size)}function Fo(e,t){var n=e.map,r=n.get(t);r&&Uo(r)&&(No.push(r),n.delete(t))}var jo=new Set;var Bo=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=ka,n.txCount=0,n.config=function(e){return Ri(qa,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new Ao({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return Je(t,e),t.prototype.init=function(){var e=this.data=new no.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new Po(this,this.storeReader=new ho({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Xa(this.config),canon:e?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=wa((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(uo(n)){var r=e.optimistic,i=e.id,a=e.variables;return n.makeCacheKey(e.query,e.callback,ii({optimistic:r,id:i,variables:a}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(Ze(Ze({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof Ba)return null;throw r}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(Ha.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(Ze(Ze({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t=this;return this.watches.size||function(e){Ta(e).vars.forEach((function(t){return t.attachCache(e)}))}(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&Ma(t),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){ii.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(dn(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(t){__DEV__&&lt.warn(t)}},t.prototype.evict=function(e){if(!e.id){if(Ha.call(e,"id"))return!1;e=Ze(Ze({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),ii.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),Ma(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,i=e.optimistic,a=void 0===i||i,o=e.removeOptimistic,s=e.onWatchUpdated,l=function(e){var i=n,a=i.data,o=i.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=a,n.optimisticData=o}},u=new Set;return s&&!this.txCount&&this.broadcastWatches(Ze(Ze({},e),{onWatchUpdated:function(e){return u.add(e),!1}})),"string"===typeof a?this.optimisticData=this.optimisticData.addLayer(a,l):!1===a?l(this.data):l(),"string"===typeof o&&(this.optimisticData=this.optimisticData.removeLayer(o)),s&&u.size?(this.broadcastWatches(Ze(Ze({},e),{onWatchUpdated:function(e,t){var n=s.call(this,e,t);return!1!==n&&u.delete(e),n}})),u.size&&u.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=vi(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.transformForLink=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"===typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&Vr(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(ja),zo=Bn?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function Vo(){var e=t.createContext[zo];return e||(Object.defineProperty(t.createContext,zo,{value:e=t.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}var Ho,Wo=function(e){var n=e.client,r=e.children,i=Vo();return t.createElement(i.Consumer,null,(function(e){return void 0===e&&(e={}),n&&e.client!==n&&(e=Object.assign({},e,{client:n})),__DEV__?lt(e.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):lt(e.client,29),t.createElement(i.Provider,{value:e},r)}))};function Go(){Go=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new M(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var d={};function f(){}function p(){}function v(){}var m={};u(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(k([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,s,l){var u=h(e[r],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=h(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(_.prototype),u(_.prototype,s,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),u(b,l,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function qo(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function Xo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){qo(a,r,i,o,s,"next",e)}function s(e){qo(a,r,i,o,s,"throw",e)}o(void 0)}))}}!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(Ho||(Ho={}));var Yo=new Map;function Qo(e){var t;switch(e){case Ho.Query:t="Query";break;case Ho.Mutation:t="Mutation";break;case Ho.Subscription:t="Subscription"}return t}function Ko(e,t){var n=function(e){var t,n,r=Yo.get(e);if(r)return r;__DEV__?lt(!!e&&!!e.kind,"Argument of ".concat(e," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):lt(!!e&&!!e.kind,33);for(var i=[],a=[],o=[],s=[],l=0,u=e.definitions;l<u.length;l++){var c=u[l];if("FragmentDefinition"!==c.kind){if("OperationDefinition"===c.kind)switch(c.operation){case"query":a.push(c);break;case"mutation":o.push(c);break;case"subscription":s.push(c)}}else i.push(c)}__DEV__?lt(!i.length||a.length||o.length||s.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):lt(!i.length||a.length||o.length||s.length,34),__DEV__?lt(a.length+o.length+s.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(e," had ").concat(a.length," queries, ").concat(s.length," ")+"subscriptions and ".concat(o.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):lt(a.length+o.length+s.length<=1,35),n=a.length?Ho.Query:Ho.Mutation,a.length||o.length||(n=Ho.Subscription);var h=a.length?a:o.length?o:s;__DEV__?lt(1===h.length,"react-apollo only supports one definition per HOC. ".concat(e," had ")+"".concat(h.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):lt(1===h.length,36);var d=h[0];t=d.variableDefinitions||[];var f={name:d.name&&"Name"===d.name.kind?d.name.value:"data",type:n,variables:t};return Yo.set(e,f),f}(e),r=Qo(t),i=Qo(n.type);__DEV__?lt(n.type===t,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(i," was used instead.")):lt(n.type===t,37)}function $o(e){var n=(0,t.useContext)(Vo()),r=e||n.client;return __DEV__?lt(!!r,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):lt(!!r,32),r}function Jo(e,n){var r=$o(null===n||void 0===n?void 0:n.client);Ko(e,Ho.Mutation);var i=(0,t.useState)({called:!1,loading:!1,client:r}),a=i[0],o=i[1],s=(0,t.useRef)({result:a,mutationId:0,isMounted:!0,client:r,mutation:e,options:n});Object.assign(s.current,{client:r,options:n,mutation:e});var l=(0,t.useCallback)((function(e){void 0===e&&(e={});var t=s.current,n=t.options,r=t.mutation,i=Ze(Ze({},n),{mutation:r}),a=e.client||s.current.client;s.current.result.loading||i.ignoreResults||!s.current.isMounted||o(s.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:a});var l=++s.current.mutationId,u=La(i,e);return a.mutate(u).then((function(t){var n,r=t.data,i=t.errors,c=i&&i.length>0?new Kn({graphQLErrors:i}):void 0;if(l===s.current.mutationId&&!u.ignoreResults){var h={called:!0,loading:!1,data:r,error:c,client:a};s.current.isMounted&&!Vr(s.current.result,h)&&o(s.current.result=h)}var d=e.onCompleted||(null===(n=s.current.options)||void 0===n?void 0:n.onCompleted);return null===d||void 0===d||d(t.data,u),t})).catch((function(t){var n;if(l===s.current.mutationId&&s.current.isMounted){var r={loading:!1,error:t,data:void 0,called:!0,client:a};Vr(s.current.result,r)||o(s.current.result=r)}var i=e.onError||(null===(n=s.current.options)||void 0===n?void 0:n.onError);if(i)return i(t,u),{data:void 0,errors:t};throw t}))}),[]),u=(0,t.useCallback)((function(){s.current.isMounted&&o({called:!1,loading:!1,client:r})}),[]);return(0,t.useEffect)((function(){return s.current.isMounted=!0,function(){s.current.isMounted=!1}}),[]),[l,Ze({reset:u},a)]}function Zo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function es(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}var ts=/\r\n|[\n\r]/g;function ns(e,t){var n,r=0,i=1,a=A(e.body.matchAll(ts));try{for(a.s();!(n=a.n()).done;){var o=n.value;if("number"===typeof o.index||es(!1),o.index>=t)break;r=o.index+o[0].length,i+=1}}catch(s){a.e(s)}finally{a.f()}return{line:i,column:t+1-r}}function rs(e){return is(e.source,ns(e.source,e.start))}function is(e,t){var n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,a=e.locationOffset.line-1,o=t.line+a,s=1===t.line?n:0,l=t.column+s,u="".concat(e.name,":").concat(o,":").concat(l,"\n"),c=r.split(/\r\n|[\n\r]/g),h=c[i];if(h.length>120){for(var d=Math.floor(l/80),f=l%80,p=[],v=0;v<h.length;v+=80)p.push(h.slice(v,v+80));return u+as([["".concat(o," |"),p[0]]].concat(m(p.slice(1,d+1).map((function(e){return["|",e]}))),[["|","^".padStart(f)],["|",p[d+1]]]))}return u+as([["".concat(o-1," |"),c[i-1]],["".concat(o," |"),h],["|","^".padStart(l)],["".concat(o+1," |"),c[i+1]]])}function as(e){var t=e.filter((function(e){var t=p(e,2);t[0];return void 0!==t[1]})),n=Math.max.apply(Math,m(t.map((function(e){return p(e,1)[0].length}))));return t.map((function(e){var t=p(e,2),r=t[0],i=t[1];return r.padStart(n)+(i?" "+i:"")})).join("\n")}var os,ss,ls=function(e,t){_(r,e);var n=T(r);function r(e){var t,i,a,o;g(this,r);for(var s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];var c=function(e){var t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(l),h=c.nodes,d=c.source,f=c.positions,p=c.path,v=c.originalError,m=c.extensions;(t=n.call(this,e)).name="GraphQLError",t.path=null!==p&&void 0!==p?p:void 0,t.originalError=null!==v&&void 0!==v?v:void 0,t.nodes=us(Array.isArray(h)?h:h?[h]:void 0);var y=us(null===(i=t.nodes)||void 0===i?void 0:i.map((function(e){return e.loc})).filter((function(e){return null!=e})));t.source=null!==d&&void 0!==d?d:null===y||void 0===y||null===(a=y[0])||void 0===a?void 0:a.source,t.positions=null!==f&&void 0!==f?f:null===y||void 0===y?void 0:y.map((function(e){return e.start})),t.locations=f&&d?f.map((function(e){return ns(d,e)})):null===y||void 0===y?void 0:y.map((function(e){return ns(e.source,e.start)}));var b,x="object"==typeof(b=null===v||void 0===v?void 0:v.extensions)&&null!==b?null===v||void 0===v?void 0:v.extensions:void 0;return t.extensions=null!==(o=null!==m&&void 0!==m?m:x)&&void 0!==o?o:Object.create(null),Object.defineProperties(S(t),{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==v&&void 0!==v&&v.stack?Object.defineProperty(S(t),"stack",{value:v.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(S(t),r):Object.defineProperty(S(t),"stack",{value:Error().stack,writable:!0,configurable:!0}),t}return b(r,[{key:t,get:function(){return"GraphQLError"}},{key:"toString",value:function(){var e=this.message;if(this.nodes){var t,n=A(this.nodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.loc&&(e+="\n\n"+rs(r.loc))}}catch(s){n.e(s)}finally{n.f()}}else if(this.source&&this.locations){var i,a=A(this.locations);try{for(a.s();!(i=a.n()).done;){var o=i.value;e+="\n\n"+is(this.source,o)}}catch(s){a.e(s)}finally{a.f()}}return e}},{key:"toJSON",value:function(){var e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}]),r}(k(Error),Symbol.toStringTag);function us(e){return void 0===e||0===e.length?void 0:e}function cs(e,t,n){return new ls("Syntax Error: ".concat(n),{source:e,positions:[t]})}!function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(os||(os={})),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(ss||(ss={}));var hs=function(e){function t(e){g(this,t);var n=new Ot(ss.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}return b(t,[{key:Symbol.toStringTag,get:function(){return"Lexer"}},{key:"advance",value:function(){return this.lastToken=this.token,this.token=this.lookahead()}},{key:"lookahead",value:function(){var e=this.token;if(e.kind!==ss.EOF)do{if(e.next)e=e.next;else{var t=ys(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===ss.COMMENT);return e}}]),t}();function ds(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function fs(e,t){return ps(e.charCodeAt(t))&&vs(e.charCodeAt(t+1))}function ps(e){return e>=55296&&e<=56319}function vs(e){return e>=56320&&e<=57343}function ms(e,t){var n=e.source.body.codePointAt(t);if(void 0===n)return ss.EOF;if(n>=32&&n<=126){var r=String.fromCodePoint(n);return'"'===r?"'\"'":'"'.concat(r,'"')}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function gs(e,t,n,r,i){var a=e.line,o=1+n-e.lineStart;return new Ot(t,n,r,a,o,i)}function ys(e,t){for(var n=e.source.body,r=n.length,i=t;i<r;){var a=n.charCodeAt(i);switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return bs(e,i);case 33:return gs(e,ss.BANG,i,i+1);case 36:return gs(e,ss.DOLLAR,i,i+1);case 38:return gs(e,ss.AMP,i,i+1);case 40:return gs(e,ss.PAREN_L,i,i+1);case 41:return gs(e,ss.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return gs(e,ss.SPREAD,i,i+3);break;case 58:return gs(e,ss.COLON,i,i+1);case 61:return gs(e,ss.EQUALS,i,i+1);case 64:return gs(e,ss.AT,i,i+1);case 91:return gs(e,ss.BRACKET_L,i,i+1);case 93:return gs(e,ss.BRACKET_R,i,i+1);case 123:return gs(e,ss.BRACE_L,i,i+1);case 124:return gs(e,ss.PIPE,i,i+1);case 125:return gs(e,ss.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?As(e,i):ws(e,i)}if(fr(a)||45===a)return xs(e,i,a);if(vr(a))return Rs(e,i);throw cs(e.source,i,39===a?"Unexpected single quote character ('), did you mean to use a double quote (\")?":ds(a)||fs(n,i)?"Unexpected character: ".concat(ms(e,i),"."):"Invalid character: ".concat(ms(e,i),"."))}return gs(e,ss.EOF,r,r)}function bs(e,t){for(var n=e.source.body,r=n.length,i=t+1;i<r;){var a=n.charCodeAt(i);if(10===a||13===a)break;if(ds(a))++i;else{if(!fs(n,i))break;i+=2}}return gs(e,ss.COMMENT,t,i,n.slice(t+1,i))}function xs(e,t,n){var r=e.source.body,i=t,a=n,o=!1;if(45===a&&(a=r.charCodeAt(++i)),48===a){if(fr(a=r.charCodeAt(++i)))throw cs(e.source,i,"Invalid number, unexpected digit after 0: ".concat(ms(e,i),"."))}else i=_s(e,i,a),a=r.charCodeAt(i);if(46===a&&(o=!0,a=r.charCodeAt(++i),i=_s(e,i,a),a=r.charCodeAt(i)),69!==a&&101!==a||(o=!0,43!==(a=r.charCodeAt(++i))&&45!==a||(a=r.charCodeAt(++i)),i=_s(e,i,a),a=r.charCodeAt(i)),46===a||vr(a))throw cs(e.source,i,"Invalid number, expected digit but got: ".concat(ms(e,i),"."));return gs(e,o?ss.FLOAT:ss.INT,t,i,r.slice(t,i))}function _s(e,t,n){if(!fr(n))throw cs(e.source,t,"Invalid number, expected digit but got: ".concat(ms(e,t),"."));for(var r=e.source.body,i=t+1;fr(r.charCodeAt(i));)++i;return i}function ws(e,t){for(var n=e.source.body,r=n.length,i=t+1,a=i,o="";i<r;){var s=n.charCodeAt(i);if(34===s)return o+=n.slice(a,i),gs(e,ss.STRING,t,i+1,o);if(92!==s){if(10===s||13===s)break;if(ds(s))++i;else{if(!fs(n,i))throw cs(e.source,i,"Invalid character within String: ".concat(ms(e,i),"."));i+=2}}else{o+=n.slice(a,i);var l=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?Es(e,i):Ss(e,i):ks(e,i);o+=l.value,a=i+=l.size}}throw cs(e.source,i,"Unterminated string.")}function Es(e,t){for(var n=e.source.body,r=0,i=3;i<12;){var a=n.charCodeAt(t+i++);if(125===a){if(i<5||!ds(r))break;return{value:String.fromCodePoint(r),size:i}}if((r=r<<4|Ms(a))<0)break}throw cs(e.source,t,'Invalid Unicode escape sequence: "'.concat(n.slice(t,t+i),'".'))}function Ss(e,t){var n=e.source.body,r=Ts(n,t+2);if(ds(r))return{value:String.fromCodePoint(r),size:6};if(ps(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){var i=Ts(n,t+8);if(vs(i))return{value:String.fromCodePoint(r,i),size:12}}throw cs(e.source,t,'Invalid Unicode escape sequence: "'.concat(n.slice(t,t+6),'".'))}function Ts(e,t){return Ms(e.charCodeAt(t))<<12|Ms(e.charCodeAt(t+1))<<8|Ms(e.charCodeAt(t+2))<<4|Ms(e.charCodeAt(t+3))}function Ms(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function ks(e,t){var n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw cs(e.source,t,'Invalid character escape sequence: "'.concat(n.slice(t,t+2),'".'))}function As(e,t){for(var n=e.source.body,r=n.length,i=e.lineStart,a=t+3,o=a,s="",l=[];a<r;){var u=n.charCodeAt(a);if(34===u&&34===n.charCodeAt(a+1)&&34===n.charCodeAt(a+2)){s+=n.slice(o,a),l.push(s);var c=gs(e,ss.BLOCK_STRING,t,a+3,gr(l).join("\n"));return e.line+=l.length-1,e.lineStart=i,c}if(92!==u||34!==n.charCodeAt(a+1)||34!==n.charCodeAt(a+2)||34!==n.charCodeAt(a+3))if(10!==u&&13!==u)if(ds(u))++a;else{if(!fs(n,a))throw cs(e.source,a,"Invalid character within String: ".concat(ms(e,a),"."));a+=2}else s+=n.slice(o,a),l.push(s),13===u&&10===n.charCodeAt(a+1)?a+=2:++a,s="",o=a,i=a;else s+=n.slice(o,a),o=a+1,a+=4}throw cs(e.source,a,"Unterminated string.")}function Rs(e,t){for(var n=e.source.body,r=n.length,i=t+1;i<r;){if(!mr(n.charCodeAt(i)))break;++i}return gs(e,ss.NAME,t,i,n.slice(t,i))}var Cs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,e);var r=function(e){return Mt(e,kt)}(t)?t:new kt(t);this._lexer=new hs(r),this._options=n,this._tokenCounter=0}return b(e,[{key:"parseName",value:function(){var e=this.expectToken(ss.NAME);return this.node(e,{kind:Rt.NAME,value:e.value})}},{key:"parseDocument",value:function(){return this.node(this._lexer.token,{kind:Rt.DOCUMENT,definitions:this.many(ss.SOF,this.parseDefinition,ss.EOF)})}},{key:"parseDefinition",value:function(){if(this.peek(ss.BRACE_L))return this.parseOperationDefinition();var e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===ss.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw cs(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}},{key:"parseOperationDefinition",value:function(){var e=this._lexer.token;if(this.peek(ss.BRACE_L))return this.node(e,{kind:Rt.OPERATION_DEFINITION,operation:At.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});var t,n=this.parseOperationType();return this.peek(ss.NAME)&&(t=this.parseName()),this.node(e,{kind:Rt.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseOperationType",value:function(){var e=this.expectToken(ss.NAME);switch(e.value){case"query":return At.QUERY;case"mutation":return At.MUTATION;case"subscription":return At.SUBSCRIPTION}throw this.unexpected(e)}},{key:"parseVariableDefinitions",value:function(){return this.optionalMany(ss.PAREN_L,this.parseVariableDefinition,ss.PAREN_R)}},{key:"parseVariableDefinition",value:function(){return this.node(this._lexer.token,{kind:Rt.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ss.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ss.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}},{key:"parseVariable",value:function(){var e=this._lexer.token;return this.expectToken(ss.DOLLAR),this.node(e,{kind:Rt.VARIABLE,name:this.parseName()})}},{key:"parseSelectionSet",value:function(){return this.node(this._lexer.token,{kind:Rt.SELECTION_SET,selections:this.many(ss.BRACE_L,this.parseSelection,ss.BRACE_R)})}},{key:"parseSelection",value:function(){return this.peek(ss.SPREAD)?this.parseFragment():this.parseField()}},{key:"parseField",value:function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(ss.COLON)?(e=r,t=this.parseName()):t=r,this.node(n,{kind:Rt.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ss.BRACE_L)?this.parseSelectionSet():void 0})}},{key:"parseArguments",value:function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(ss.PAREN_L,t,ss.PAREN_R)}},{key:"parseArgument",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._lexer.token,n=this.parseName();return this.expectToken(ss.COLON),this.node(t,{kind:Rt.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}},{key:"parseConstArgument",value:function(){return this.parseArgument(!0)}},{key:"parseFragment",value:function(){var e=this._lexer.token;this.expectToken(ss.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(ss.NAME)?this.node(e,{kind:Rt.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Rt.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseFragmentDefinition",value:function(){var e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:Rt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:Rt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}},{key:"parseFragmentName",value:function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}},{key:"parseValueLiteral",value:function(e){var t=this._lexer.token;switch(t.kind){case ss.BRACKET_L:return this.parseList(e);case ss.BRACE_L:return this.parseObject(e);case ss.INT:return this.advanceLexer(),this.node(t,{kind:Rt.INT,value:t.value});case ss.FLOAT:return this.advanceLexer(),this.node(t,{kind:Rt.FLOAT,value:t.value});case ss.STRING:case ss.BLOCK_STRING:return this.parseStringLiteral();case ss.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:Rt.BOOLEAN,value:!0});case"false":return this.node(t,{kind:Rt.BOOLEAN,value:!1});case"null":return this.node(t,{kind:Rt.NULL});default:return this.node(t,{kind:Rt.ENUM,value:t.value})}case ss.DOLLAR:if(e){if(this.expectToken(ss.DOLLAR),this._lexer.token.kind===ss.NAME){var n=this._lexer.token.value;throw cs(this._lexer.source,t.start,'Unexpected variable "$'.concat(n,'" in constant value.'))}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}},{key:"parseConstValueLiteral",value:function(){return this.parseValueLiteral(!0)}},{key:"parseStringLiteral",value:function(){var e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:Rt.STRING,value:e.value,block:e.kind===ss.BLOCK_STRING})}},{key:"parseList",value:function(e){var t=this;return this.node(this._lexer.token,{kind:Rt.LIST,values:this.any(ss.BRACKET_L,(function(){return t.parseValueLiteral(e)}),ss.BRACKET_R)})}},{key:"parseObject",value:function(e){var t=this;return this.node(this._lexer.token,{kind:Rt.OBJECT,fields:this.any(ss.BRACE_L,(function(){return t.parseObjectField(e)}),ss.BRACE_R)})}},{key:"parseObjectField",value:function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(ss.COLON),this.node(t,{kind:Rt.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}},{key:"parseDirectives",value:function(e){for(var t=[];this.peek(ss.AT);)t.push(this.parseDirective(e));return t}},{key:"parseConstDirectives",value:function(){return this.parseDirectives(!0)}},{key:"parseDirective",value:function(e){var t=this._lexer.token;return this.expectToken(ss.AT),this.node(t,{kind:Rt.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}},{key:"parseTypeReference",value:function(){var e,t=this._lexer.token;if(this.expectOptionalToken(ss.BRACKET_L)){var n=this.parseTypeReference();this.expectToken(ss.BRACKET_R),e=this.node(t,{kind:Rt.LIST_TYPE,type:n})}else e=this.parseNamedType();return this.expectOptionalToken(ss.BANG)?this.node(t,{kind:Rt.NON_NULL_TYPE,type:e}):e}},{key:"parseNamedType",value:function(){return this.node(this._lexer.token,{kind:Rt.NAMED_TYPE,name:this.parseName()})}},{key:"peekDescription",value:function(){return this.peek(ss.STRING)||this.peek(ss.BLOCK_STRING)}},{key:"parseDescription",value:function(){if(this.peekDescription())return this.parseStringLiteral()}},{key:"parseSchemaDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseConstDirectives(),r=this.many(ss.BRACE_L,this.parseOperationTypeDefinition,ss.BRACE_R);return this.node(e,{kind:Rt.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}},{key:"parseOperationTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(ss.COLON);var n=this.parseNamedType();return this.node(e,{kind:Rt.OPERATION_TYPE_DEFINITION,operation:t,type:n})}},{key:"parseScalarTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:Rt.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}},{key:"parseObjectTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:Rt.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:a})}},{key:"parseImplementsInterfaces",value:function(){return this.expectOptionalKeyword("implements")?this.delimitedMany(ss.AMP,this.parseNamedType):[]}},{key:"parseFieldsDefinition",value:function(){return this.optionalMany(ss.BRACE_L,this.parseFieldDefinition,ss.BRACE_R)}},{key:"parseFieldDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(ss.COLON);var i=this.parseTypeReference(),a=this.parseConstDirectives();return this.node(e,{kind:Rt.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:a})}},{key:"parseArgumentDefs",value:function(){return this.optionalMany(ss.PAREN_L,this.parseInputValueDef,ss.PAREN_R)}},{key:"parseInputValueDef",value:function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(ss.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(ss.EQUALS)&&(r=this.parseConstValueLiteral());var a=this.parseConstDirectives();return this.node(e,{kind:Rt.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:a})}},{key:"parseInterfaceTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(e,{kind:Rt.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:a})}},{key:"parseUnionTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:Rt.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}},{key:"parseUnionMemberTypes",value:function(){return this.expectOptionalToken(ss.EQUALS)?this.delimitedMany(ss.PIPE,this.parseNamedType):[]}},{key:"parseEnumTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:Rt.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}},{key:"parseEnumValuesDefinition",value:function(){return this.optionalMany(ss.BRACE_L,this.parseEnumValueDefinition,ss.BRACE_R)}},{key:"parseEnumValueDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:Rt.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}},{key:"parseEnumValueName",value:function(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw cs(this._lexer.source,this._lexer.token.start,"".concat(Os(this._lexer.token)," is reserved and cannot be used for an enum value."));return this.parseName()}},{key:"parseInputObjectTypeDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:Rt.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}},{key:"parseInputFieldsDefinition",value:function(){return this.optionalMany(ss.BRACE_L,this.parseInputValueDef,ss.BRACE_R)}},{key:"parseTypeSystemExtension",value:function(){var e=this._lexer.lookahead();if(e.kind===ss.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}},{key:"parseSchemaExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseConstDirectives(),n=this.optionalMany(ss.BRACE_L,this.parseOperationTypeDefinition,ss.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:Rt.SCHEMA_EXTENSION,directives:t,operationTypes:n})}},{key:"parseScalarTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:Rt.SCALAR_TYPE_EXTENSION,name:t,directives:n})}},{key:"parseObjectTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:Rt.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}},{key:"parseInterfaceTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:Rt.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}},{key:"parseUnionTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:Rt.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}},{key:"parseEnumTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:Rt.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}},{key:"parseInputObjectTypeExtension",value:function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:Rt.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}},{key:"parseDirectiveDefinition",value:function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ss.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var a=this.parseDirectiveLocations();return this.node(e,{kind:Rt.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:a})}},{key:"parseDirectiveLocations",value:function(){return this.delimitedMany(ss.PIPE,this.parseDirectiveLocation)}},{key:"parseDirectiveLocation",value:function(){var e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(os,t.value))return t;throw this.unexpected(e)}},{key:"node",value:function(e,t){return!0!==this._options.noLocation&&(t.loc=new Ct(e,this._lexer.lastToken,this._lexer.source)),t}},{key:"peek",value:function(e){return this._lexer.token.kind===e}},{key:"expectToken",value:function(e){var t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw cs(this._lexer.source,t.start,"Expected ".concat(Is(e),", found ").concat(Os(t),"."))}},{key:"expectOptionalToken",value:function(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}},{key:"expectKeyword",value:function(e){var t=this._lexer.token;if(t.kind!==ss.NAME||t.value!==e)throw cs(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(Os(t),"."));this.advanceLexer()}},{key:"expectOptionalKeyword",value:function(e){var t=this._lexer.token;return t.kind===ss.NAME&&t.value===e&&(this.advanceLexer(),!0)}},{key:"unexpected",value:function(e){var t=null!==e&&void 0!==e?e:this._lexer.token;return cs(this._lexer.source,t.start,"Unexpected ".concat(Os(t),"."))}},{key:"any",value:function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r}},{key:"optionalMany",value:function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]}},{key:"many",value:function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}},{key:"delimitedMany",value:function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}},{key:"advanceLexer",value:function(){var e=this._options.maxTokens,t=this._lexer.advance();if(void 0!==e&&t.kind!==ss.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw cs(this._lexer.source,t.start,"Document contains more that ".concat(e," tokens. Parsing aborted."))}}]),e}();function Os(e){var t=e.value;return Is(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function Is(e){return function(e){return e===ss.BANG||e===ss.DOLLAR||e===ss.AMP||e===ss.PAREN_L||e===ss.PAREN_R||e===ss.SPREAD||e===ss.COLON||e===ss.EQUALS||e===ss.AT||e===ss.BRACKET_L||e===ss.BRACKET_R||e===ss.BRACE_L||e===ss.PIPE||e===ss.BRACE_R}(e)?'"'.concat(e,'"'):e}var Ps=new Map,Ns=new Map,Ds=!0,Ls=!1;function Us(e){return e.replace(/[\s,]+/g," ").trim()}function Fs(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,i=Us((o=e.loc).source.body.substring(o.start,o.end)),a=Ns.get(r);a&&!a.has(i)?Ds&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):a||Ns.set(r,a=new Set),a.add(i),t.has(i)||(t.add(i),n.push(e))}else n.push(e);var o})),Ze(Ze({},e),{definitions:n})}function js(e){var t=Us(e);if(!Ps.has(t)){var n=function(e,t){return new Cs(e,t).parseDocument()}(e,{experimentalFragmentVariables:Ls,allowLegacyFragmentVariables:Ls});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");Ps.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"===typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(Fs(n)))}return Ps.get(t)}function Bs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"===typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),js(r)}var zs,Vs=Bs,Hs=function(){Ps.clear(),Ns.clear()},Ws=function(){Ds=!1},Gs=function(){Ls=!0},qs=function(){Ls=!1};(zs=Bs||(Bs={})).gql=Vs,zs.resetCaches=Hs,zs.disableFragmentWarnings=Ws,zs.enableExperimentalFragmentVariables=Gs,zs.disableExperimentalFragmentVariables=qs,Bs.default=Bs;var Xs,Ys,Qs,Ks,$s,Js,Zs,el,tl,nl,rl,il,al,ol=Bs(Xs||(Xs=Zo(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),sl=Bs(Ys||(Ys=Zo(["\n  mutation addOrder($products: [inputOrder]!, $url: String!) {\n    addOrder(products: $products, url: $url) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        cloverId\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),ll=Bs(Qs||(Qs=Zo(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),ul=Bs(Ks||(Ks=Zo(["\n  mutation addProduct(\n    $name: String\n    $cloverId: String\n    $category: String\n    $description: String\n    $image: String\n    $quantity: Int\n    $price: Float\n  ) {\n    addProduct(\n      name: $name\n      cloverId: $cloverId\n      category: $category\n      description: $description\n      image: $image\n      quantity: $quantity\n      price: $price\n    ) {\n      description\n      image\n      name\n      price\n      cloverId\n      quantity\n    }\n  }\n"]))),cl=Bs($s||($s=Zo(["\n  mutation delProduct($id: ID!) {\n    delProduct(_id: $id) {\n      _id\n      name\n    }\n  }\n"]))),hl=Bs(Js||(Js=Zo(["\n  mutation idUpload($idFront: String!, $idBack: String!) {\n    idUpload(idFront: $idFront, idBack: $idBack) {\n      _id\n      idFront\n      idBack\n      isVerified\n      firstName\n      lastName\n    }\n  }\n"]))),dl=Bs(Zs||(Zs=Zo(["\n  mutation userVerifAdmin($id: ID!, $action: String!) {\n    userVerifAdmin(_id: $id, action: $action) {\n      isVerified\n      firstName\n      lastName\n    }\n  }\n"]))),fl=Bs(el||(el=Zo(["\n  mutation adminUpdateProduct(\n    $id: ID\n    $name: String\n    $cloverId: String\n    $category: String\n    $description: String\n    $image: String\n    $quantity: Int\n    $price: Float\n  ) {\n    adminUpdateProduct(\n      id: $id\n      name: $name\n      cloverId: $cloverId\n      category: $category\n      description: $description\n      image: $image\n      quantity: $quantity\n      price: $price\n    ) {\n      category {\n        name\n      }\n      cloverId\n      description\n      image\n      name\n      price\n      quantity\n      _id\n    }\n  }\n"]))),pl=Bs(tl||(tl=Zo(["\n  mutation addShipInfo(\n    $street: String\n    $city: String\n    $state: String\n    $zip: Int\n  ) {\n    addShipInfo(street: $street, city: $city, state: $state, zip: $zip) {\n      firstName\n      lastName\n      street\n      city\n      state\n      zip\n    }\n  }\n"]))),vl=Bs(nl||(nl=Zo(["\n  mutation agreement($userChoice: String!) {\n    agreement(userChoice: $userChoice)\n  }\n"]))),ml=Bs(rl||(rl=Zo(["\n  mutation sendMail($name: String!, $message: String!, $email: String!) {\n    sendMail(name: $name, message: $message, email: $email)\n  }\n"]))),gl=Bs(il||(il=Zo(["\n  mutation authResetProvider($email: String!) {\n    authResetProvider(email: $email) {\n      email\n    }\n  }\n"]))),yl=Bs(al||(al=Zo(["\n  mutation authResetValidator(\n    $securityCode: String!\n    $email: String!\n    $newPass: String!\n  ) {\n    authResetValidator(\n      securityCode: $securityCode\n      email: $email\n      newPass: $newPass\n    )\n  }\n"]))),bl=n(513),xl=n.n(bl),_l=function(){function e(){g(this,e)}return b(e,[{key:"getProfile",value:function(){return xl()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"ensureAgree",value:function(){var e=this.getAgree();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return xl()(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),window.location.assign("/home"),!0)}catch(t){return!1}}},{key:"isAgreementValid",value:function(e){try{return!(xl()(e).exp<Date.now()/1e3||null==e)||(localStorage.removeItem("id_token"),window.location.assign("/"),!1)}catch(t){return window.location.assign("/"),!1}}},{key:"isAdmin",value:function(){try{var e=this.getToken();return!0===xl()(e).data.isAdmin}catch(t){return!1}}},{key:"isVerified",value:function(){try{var e=this.getToken();return!0===xl()(e).data.isVerified}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"getAgree",value:function(){return localStorage.getItem("agree_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/home")}},{key:"agreement",value:function(e){localStorage.setItem("agree_token",e),window.location.assign("/home")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/home")}}]),e}(),wl=new _l,El=n(184),Sl=function(e){var t=p(Jo(vl),1)[0],n=function(){var e=Xo(Go().mark((function e(n){var r,i;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"agree",e.next=3,t({variables:{userChoice:"agree"}});case 3:r=e.sent,i=r.data,wl.agreement(i.agreement);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{style:{display:"block"},children:(0,El.jsx)("div",{style:{overflowX:"hidden",overflowY:"auto",position:"fixed",inset:"0",zIndex:"5",outline:"none",focus:"outline-none"},children:(0,El.jsx)("div",{style:{width:"auto",margin:"6rem auto",maxWidth:1100,padding:10},children:(0,El.jsxs)("div",{style:s({borderRadius:"10px",boxShadow:"lg",position:"relative",display:"flex",flexDirection:"column",backgroundColor:"rgba(250, 250, 250, 0.1)",color:"white"},"boxShadow","0 0 1rem rgba(220, 220, 220, 0.3)"),children:[(0,El.jsxs)("div",{style:{display:"flex",alignItems:"start",justifyContent:"between",padding:"1.25rem",borderBottom:"1px solid rgba(246, 246, 246, 0.5)",borderRadius:"t-lg"},children:[(0,El.jsx)("h3",{style:{fontSize:"1.875rem",fontWeight:"bold"},children:"Paradise Hemp Dispensary, FDA Disclaimer:"}),(0,El.jsx)("button",{style:{padding:"0.25rem",marginLeft:"auto",backgroundColor:"transparent",border:"none",color:"black",opacity:"0.5",float:"right",fontSize:"1.875rem",lineHeight:"none",fontWeight:"bold",outline:"none",focus:"outline-none"},onClick:function(){return e.displayModal(!1)},children:(0,El.jsx)("span",{style:{backgroundColor:"transparent",color:"white",opacity:"0.5",height:"1.5rem",width:"1.5rem",fontSize:"1.25rem",display:"block",outline:"none",focus:"outline-none"},children:"\xd7"})})]}),(0,El.jsx)("div",{id:"agreement",style:{padding:"20px",color:"white"},children:"The statements made regarding these products have not been evaluated by the Food and Drug Administration. The efficacy of these products has not been confirmed by FDA-approved research. These products are not intended to diagnose, treat, cure or prevent any disease. These products should not be used if you are pregnant or nursing. No statements on this website are offering medical advice. Please consult a healthcare professional before use of any product on this website. All products displayed for sale at Paradise Hemp Dispensary are sourced from industrial hemp plants which contain less than 0.3% THC, and are federally legal. Paradise Hemp Dispensary is not responsible for any legal charges that may come as a result of local or State laws. It is the buyer\u2019s responsibility to determine if any transaction with Paradise Hemp Dispensary and its affiliates is in violation of local regulations or laws. By Selecting Agree and using Paradise Hemp Dispensary you agree to the Privacy Policy and all Terms & Conditions listed on this website."}),(0,El.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"end",padding:"1.5rem",borderTop:"1px solid rgba(246, 246, 246, 0.5)",borderRadius:"b-lg"},children:[(0,El.jsx)("h4",{style:{marginRight:"60px"},children:"By clicking agree, you confirm you are 21+"}),(0,El.jsx)("button",{style:{color:"white",backgroundColor:"rgb(100, 100, 100)",fontWeight:"bold",textTransform:"uppercase",padding:"0.75rem 1.5rem",fontSize:"0.875rem",outline:"none",opacity:.7,focus:"outline-none",marginRight:"0.25rem",marginBottom:"0.25rem",transition:"all 0.15s ease-linear"},type:"button",onClick:function(){return e.displayModal(!1)},children:"Close"}),(0,El.jsx)("button",{style:{fontWeight:"bold",textTransform:"uppercase",padding:"0.75rem 1.5rem",fontSize:"0.875rem",outline:"none",focus:"outline-none",marginRight:"0.25rem",marginBottom:"0.25rem",transition:"all 0.15s ease-linear"},type:"button",onClick:n,className:"bg-red-500 bg-opacity-50 text-white h-15",children:"Agree"})]})]})})})})})},Tl=function(){var e=p((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("div",{style:{height:"100vh",width:"100vw",filter:n?"blur(20px)":"none"},children:(0,El.jsxs)("div",{className:"container2",children:[(0,El.jsx)("h1",{className:"mt-10 ml-2",style:{color:"white"},children:"Paradise Hemp Dispensary"}),(0,El.jsx)("button",{onClick:function(){r(!0)},className:"bg-red-500 bg-opacity-50 text-white mb-30 w-40 h-20",children:"Enter Site"}),(0,El.jsxs)("em",{style:{fontSize:11},children:[" ","All rights reserved to @Paradise Hemp Dispensary"]})]})}),n&&(0,El.jsx)(Sl,{displayModal:r})]})},Ml=!1,kl=r.useSyncExternalStore||function(e,n,r){var i=n();__DEV__&&!Ml&&i!==n()&&(Ml=!0,__DEV__&&lt.error("The result of getSnapshot should be cached to avoid an infinite loop"));var a=t.useState({inst:{value:i,getSnapshot:n}}),o=a[0].inst,s=a[1];return Wn?t.useLayoutEffect((function(){Object.assign(o,{value:i,getSnapshot:n}),Al(o)&&s({inst:o})}),[e,i,n]):Object.assign(o,{value:i,getSnapshot:n}),t.useEffect((function(){return Al(o)&&s({inst:o}),e((function(){Al(o)&&s({inst:o})}))}),[e]),i};function Al(e){var t=e.value,n=e.getSnapshot;try{return t!==n()}catch(r){return!0}}var Rl=Object.prototype.hasOwnProperty;function Cl(e,t){return void 0===t&&(t=Object.create(null)),Ol($o(t.client),e).useQuery(t)}function Ol(e,n){var r=(0,t.useRef)();r.current&&e===r.current.client&&n===r.current.query||(r.current=new Il(e,n,r.current));var i=r.current,a=(0,t.useState)(0),o=(a[0],a[1]);return i.forceUpdate=function(){o((function(e){return e+1}))},i}var Il=function(){function e(e,t,n){this.client=e,this.query=t,this.ssrDisabledResult=Va({loading:!0,data:void 0,error:void 0,networkStatus:Ei.loading}),this.skipStandbyResult=Va({loading:!1,data:void 0,error:void 0,networkStatus:Ei.ready}),this.toQueryResultCache=new(Fn?WeakMap:Map),Ko(t,Ho.Query);var r=n&&n.result,i=r&&r.data;i&&(this.previousData=i)}return e.prototype.forceUpdate=function(){__DEV__&&lt.warn("Calling default no-op implementation of InternalState#forceUpdate")},e.prototype.executeQuery=function(e){var t,n=this;e.query&&Object.assign(this,{query:e.query}),this.watchQueryOptions=this.createWatchQueryOptions(this.queryHookOptions=e);var r=this.observable.reobserveAsConcast(this.getObsQueryOptions());return this.previousData=(null===(t=this.result)||void 0===t?void 0:t.data)||this.previousData,this.result=void 0,this.forceUpdate(),new Promise((function(e){var t;r.subscribe({next:function(e){t=e},error:function(){e(n.toQueryResult(n.observable.getCurrentResult()))},complete:function(){e(n.toQueryResult(t))}})}))},e.prototype.useQuery=function(e){var n=this;this.renderPromises=(0,t.useContext)(Vo()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),i=kl((0,t.useCallback)((function(){if(n.renderPromises)return function(){};var e=function(){var e=n.result,t=r.getCurrentResult();e&&e.loading===t.loading&&e.networkStatus===t.networkStatus&&Vr(e.data,t.data)||n.setResult(t)},t=r.subscribe(e,(function i(a){var o=r.last;t.unsubscribe();try{r.resetLastResults(),t=r.subscribe(e,i)}finally{r.last=o}if(!Rl.call(a,"graphQLErrors"))throw a;var s=n.result;(!s||s&&s.loading||!Vr(a,s.error))&&n.setResult({data:s&&s.data,error:a,loading:!1,networkStatus:Ei.error})}));return function(){return setTimeout((function(){return t.unsubscribe()}))}}),[r,this.renderPromises,this.client.disableNetworkFetches]),(function(){return n.getCurrentResult()}),(function(){return n.getCurrentResult()}));return this.unsafeHandlePartialRefetch(i),this.toQueryResult(i)},e.prototype.useOptions=function(t){var n,r=this.createWatchQueryOptions(this.queryHookOptions=t),i=this.watchQueryOptions;Vr(r,i)||(this.watchQueryOptions=r,i&&this.observable&&(this.observable.reobserve(this.getObsQueryOptions()),this.previousData=(null===(n=this.result)||void 0===n?void 0:n.data)||this.previousData,this.result=void 0)),this.onCompleted=t.onCompleted||e.prototype.onCompleted,this.onError=t.onError||e.prototype.onError,!this.renderPromises&&!this.client.disableNetworkFetches||!1!==this.queryHookOptions.ssr||this.queryHookOptions.skip?this.queryHookOptions.skip||"standby"===this.watchQueryOptions.fetchPolicy?this.result=this.skipStandbyResult:this.result!==this.ssrDisabledResult&&this.result!==this.skipStandbyResult||(this.result=void 0):this.result=this.ssrDisabledResult},e.prototype.getObsQueryOptions=function(){var e=[],t=this.client.defaultOptions.watchQuery;return t&&e.push(t),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(Ri(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(La)},e.prototype.createWatchQueryOptions=function(e){var t;void 0===e&&(e={});var n=e.skip,r=(e.ssr,e.onCompleted,e.onError,e.defaultOptions,et(e,["skip","ssr","onCompleted","onError","defaultOptions"])),i=Object.assign(r,{query:this.query});if(!this.renderPromises||"network-only"!==i.fetchPolicy&&"cache-and-network"!==i.fetchPolicy||(i.fetchPolicy="cache-first"),i.variables||(i.variables={}),n){var a=i.fetchPolicy,o=void 0===a?this.getDefaultFetchPolicy():a,s=i.initialFetchPolicy,l=void 0===s?o:s;Object.assign(i,{initialFetchPolicy:l,fetchPolicy:"standby"})}else i.fetchPolicy||(i.fetchPolicy=(null===(t=this.observable)||void 0===t?void 0:t.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return i},e.prototype.getDefaultFetchPolicy=function(){var e,t;return(null===(e=this.queryHookOptions.defaultOptions)||void 0===e?void 0:e.fetchPolicy)||(null===(t=this.client.defaultOptions.watchQuery)||void 0===t?void 0:t.fetchPolicy)||"cache-first"},e.prototype.onCompleted=function(e){},e.prototype.onError=function(e){},e.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=(0,t.useMemo)((function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}}),[e]);var n=!(!1===this.queryHookOptions.ssr||this.queryHookOptions.skip);return this.renderPromises&&n&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},e.prototype.setResult=function(e){var t=this.result;t&&t.data&&(this.previousData=t.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},e.prototype.handleErrorOrCompleted=function(e){var t=this;if(!e.loading){var n=this.toApolloError(e);Promise.resolve().then((function(){n?t.onError(n):e.data&&t.onCompleted(e.data)})).catch((function(e){__DEV__&&lt.warn(e)}))}},e.prototype.toApolloError=function(e){return Jn(e.errors)?new Kn({graphQLErrors:e.errors}):e.error},e.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},e.prototype.toQueryResult=function(e){var t=this.toQueryResultCache.get(e);if(t)return t;var n=e.data,r=(e.partial,et(e,["data","partial"]));return this.toQueryResultCache.set(e,t=Ze(Ze(Ze({data:n},r),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!t.error&&Jn(e.errors)&&(t.error=new Kn({graphQLErrors:e.errors})),t},e.prototype.unsafeHandlePartialRefetch=function(e){!e.partial||!this.queryHookOptions.partialRefetch||e.loading||e.data&&0!==Object.keys(e.data).length||"cache-only"===this.observable.options.fetchPolicy||(Object.assign(e,{loading:!0,networkStatus:Ei.refetch}),this.observable.refetch())},e}();function Pl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Nl="UPDATE_PRODUCTS",Dl="ADD_TO_CART",Ll="ADD_MULTIPLE_TO_CART",Ul="REMOVE_FROM_CART",Fl="UPDATE_CART_QUANTITY",jl="TOGGLE_CART",Bl="UPDATE_CATEGORIES",zl="UPDATE_CURRENT_CATEGORY",Vl=function(e,t){switch(t.type){case Nl:return u(u({},e),{},{products:m(t.products)});case Dl:return u(u({},e),{},{cartOpen:!0,cart:[].concat(m(e.cart),[t.product])});case Ll:return u(u({},e),{},{cart:[].concat(m(e.cart),m(t.products))});case Fl:return u(u({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case Ul:var n=e.cart.filter((function(e){return e._id!==t._id}));return u(u({},e),{},{cartOpen:n.length>0,cart:n});case"CLEAR_CART":return u(u({},e),{},{cartOpen:!1,cart:[]});case jl:return u(u({},e),{},{cartOpen:!e.cartOpen});case Bl:return u(u({},e),{},{categories:m(t.categories)});case zl:return u(u({},e),{},{currentCategory:t.currentCategory});default:return e}};var Hl,Wl,Gl,ql,Xl,Yl,Ql,Kl,$l,Jl,Zl=["value"],eu=(0,t.createContext)(),tu=eu.Provider,nu=function(e){e.value;var n,r=Pl(e,Zl),i=p((n={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},(0,t.useReducer)(Vl,n)),2),a=i[0],o=i[1];return(0,El.jsx)(tu,u({value:[a,o]},r))},ru=function(){return(0,t.useContext)(eu)},iu=Bs(Hl||(Hl=Zo(["\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      cloverId\n      category {\n        _id\n      }\n    }\n  }\n"]))),au=Bs(Wl||(Wl=Zo(["\n  query getCheckout($products: [ID]!, $shipPrice: Float!, $points: Int) {\n    checkout(products: $products, shipPrice: $shipPrice, points: $points) {\n      session\n    }\n  }\n"]))),ou=(Bs(Gl||(Gl=Zo(["\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      cloverId\n      category {\n        name\n      }\n    }\n  }\n"]))),Bs(ql||(ql=Zo(["\n  {\n    categories {\n      _id\n      name\n      image\n    }\n  }\n"])))),su=Bs(Xl||(Xl=Zo(["\n  {\n    user {\n      firstName\n      lastName\n      street\n      city\n      state\n      zip\n      points\n      isIdRejected\n      isIdSubmitted\n      orders {\n        _id\n        purchaseDate\n        address\n        total\n        shipmentId\n        tracking\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n          cloverId\n        }\n      }\n    }\n  }\n"]))),lu=Bs(Yl||(Yl=Zo(["\n  query AdminOrderView {\n    adminOrderView {\n      _id\n      purchaseDate\n      firstName\n      lastName\n      total\n      address\n      tracking\n      shipmentId\n      products {\n        price\n        name\n        image\n        cloverId\n        _id\n      }\n    }\n  }\n"]))),uu=Bs(Ql||(Ql=Zo(["\n  query Query {\n    queryUserAdmin {\n      _id\n      firstName\n      lastName\n      idFront\n      idBack\n      isVerified\n    }\n  }\n"]))),cu=Bs(Kl||(Kl=Zo(["\n  query Query($productInt: Int!) {\n    calcShip(productInt: $productInt)\n  }\n"]))),hu=Bs($l||($l=Zo(["\n  query querySearch($search: String!) {\n    querySearch(search: $search) {\n      _id\n      description\n      image\n      name\n      price\n      quantity\n      cloverId\n      category {\n        _id\n        image\n        name\n      }\n    }\n  }\n"]))),du=Bs(Jl||(Jl=Zo(["\n  {\n    queryNewProducts {\n      _id\n      name\n      description\n      price\n      quantity\n      cloverId\n      image\n      category {\n        name\n      }\n    }\n  }\n"])));function fu(e,t){return 1===t?e:e+"s"}function pu(e,t,n){return new Promise((function(r,i){var a,o,s,l=window.indexedDB.open("shop-shop",1);l.onupgradeneeded=function(e){var t=l.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},l.onerror=function(e){console.log("There was an error")},l.onsuccess=function(i){switch(a=l.result,o=a.transaction(e,"readwrite"),s=o.objectStore(e),a.onerror=function(e){console.log("error",e)},t){case"put":s.put(n),r(n);break;case"get":var u=s.getAll();u.onsuccess=function(){r(u.result)};break;case"delete":s.delete(n._id);break;default:console.log("No valid method")}o.oncomplete=function(){a.close()}}}))}var vu=function(){var e=p(ru(),2),n=e[0],r=e[1],i=n.categories,a=Cl(ou),o=a.loading,s=a.data;return(0,t.useEffect)((function(){s?(r({type:Bl,categories:s.categories}),s.categories.forEach((function(e){pu("categories","put",e)}))):o||pu("categories","get").then((function(e){r({type:Bl,categories:e})}))}),[s,o,r]),(0,El.jsxs)("div",{className:"container",children:[(0,El.jsx)("h3",{className:"text-center text-uppercase",style:{textTransform:"uppercase"},children:"Categories"}),(0,El.jsx)("br",{}),(0,El.jsx)("div",{className:"box-shadow-custom bg-white bg-opacity-10 rounded-md grid grid-cols-1 md:grid-cols-3 gap-4\n",children:i.map((function(e,t){return t%3===0?(0,El.jsx)("div",{className:"grid gap-4",children:i.slice(t,t+3).map((function(e){return(0,El.jsx)("div",{className:"flex items-center rounded-md",children:(0,El.jsxs)(Ye,{to:"/products/categories/".concat(e._id),onClick:function(){!function(e){r({type:zl,currentCategory:e})}(e._id)},className:"rounded-md py-4 px-6",children:[(0,El.jsx)("div",{className:"flex-shrink-0",children:(0,El.jsx)("img",{src:"./images/".concat(e.image),alt:"categoryimg",className:"h-300 max-w-full rounded-lg"})}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{className:"text-center",children:e.name})]})},e._id)}))},t):null}))})]})},mu="https://js.stripe.com/v3",gu=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,yu="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",bu=null,xu=function(e){return null!==bu||(bu=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(yu),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(mu,'"]')),t=0;t<e.length;t++){var n=e[t];if(gu.test(n.src))return n}return null}();r&&e?console.warn(yu):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(mu).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),bu},_u=Promise.resolve().then((function(){return xu(null)})),wu=!1;_u.catch((function(e){wu||console.warn(e)}));var Eu=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function Su(e,n){var r,i=(0,t.useRef)(),a=(0,t.useRef)(),o=(0,t.useRef)(),s=i.current?La(n,i.current):n,l=null!==(r=null===s||void 0===s?void 0:s.query)&&void 0!==r?r:e;a.current=s,o.current=l;var u=Ol($o(n&&n.client),l),c=u.useQuery(Ze(Ze({},s),{skip:!i.current})),h=c.observable.options.initialFetchPolicy||u.getDefaultFetchPolicy(),d=Object.assign(c,{called:!!i.current}),f=(0,t.useMemo)((function(){for(var e={},t=function(t){var n=d[t];e[t]=function(){return i.current||(i.current=Object.create(null),u.forceUpdate()),n.apply(this,arguments)}},n=0,r=Eu;n<r.length;n++){t(r[n])}return e}),[]);Object.assign(d,f);var p=(0,t.useCallback)((function(e){i.current=e?Ze(Ze({},e),{fetchPolicy:e.fetchPolicy||h}):{fetchPolicy:h};var t=La(a.current,Ze({query:o.current},i.current)),n=u.executeQuery(Ze(Ze({},t),{skip:!1})).then((function(e){return Object.assign(e,f)}));return n.catch((function(){})),n}),[]);return[p,d]}var Tu={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mu=t.createContext&&t.createContext(Tu),ku=function(){return ku=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ku.apply(this,arguments)},Au=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Ru(e){return e&&e.map((function(e,n){return t.createElement(e.tag,ku({key:n},e.attr),Ru(e.child))}))}function Cu(e){return function(n){return t.createElement(Ou,ku({attr:ku({},e.attr)},n),Ru(e.child))}}function Ou(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Au(e,["attr","size","title"]),l=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",ku({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:ku(ku({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==Mu?t.createElement(Mu.Consumer,null,(function(e){return n(e)})):n(Tu)}function Iu(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15 2H9c-1.103 0-2 .897-2 2v2H3v2h2v12c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2V8h2V6h-4V4c0-1.103-.897-2-2-2zM9 4h6v2H9V4zm8 16H7V8h10v12z"}}]})(e)}var Pu=function(e){var t=e.item,n=p(ru(),2)[1];return(0,El.jsxs)("div",{className:"flex-row",children:[(0,El.jsx)("div",{children:(0,El.jsx)("img",{style:{maxHeight:125},src:"".concat(t.image),alt:""})}),(0,El.jsxs)("div",{children:[(0,El.jsxs)("div",{children:[t.name,", $",t.price]}),(0,El.jsxs)("div",{style:{display:"inline"},children:[(0,El.jsx)("span",{children:"Qty: "}),(0,El.jsx)("input",{type:"number",min:0,value:t.purchaseQuantity,onChange:function(e){var r=e.target.value;"0"===r?(n({type:Ul,_id:t._id}),pu("cart","delete",u({},t))):(n({type:Fl,_id:t._id,purchaseQuantity:parseInt(r)}),pu("cart","put",u(u({},t),{},{purchaseQuantity:parseInt(r)})))}})]}),(0,El.jsx)(Iu,{style:{position:"relative",top:-2,display:"inline"},size:22,onClick:function(){return function(e){n({type:Ul,_id:e._id}),pu("cart","delete",u({},e))}(t)}})]})]})};function Nu(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Box_List"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M6.562,8.062h-2a1.5,1.5,0,0,1-1.5-1.5v-2a1.5,1.5,0,0,1,1.5-1.5h2a1.5,1.5,0,0,1,1.5,1.5v2A1.5,1.5,0,0,1,6.562,8.062Zm-2-4a.5.5,0,0,0-.5.5v2a.5.5,0,0,0,.5.5h2a.5.5,0,0,0,.5-.5v-2a.5.5,0,0,0-.5-.5Z"}},{tag:"path",attr:{d:"M6.562,20.938h-2a1.5,1.5,0,0,1-1.5-1.5v-2a1.5,1.5,0,0,1,1.5-1.5h2a1.5,1.5,0,0,1,1.5,1.5v2A1.5,1.5,0,0,1,6.562,20.938Zm-2-4a.5.5,0,0,0-.5.5v2a.5.5,0,0,0,.5.5h2a.5.5,0,0,0,.5-.5v-2a.5.5,0,0,0-.5-.5Z"}},{tag:"path",attr:{d:"M6.562,14.5h-2a1.5,1.5,0,0,1-1.5-1.5V11a1.5,1.5,0,0,1,1.5-1.5h2a1.5,1.5,0,0,1,1.5,1.5v2A1.5,1.5,0,0,1,6.562,14.5Zm-2-4a.5.5,0,0,0-.5.5v2a.5.5,0,0,0,.5.5h2a.5.5,0,0,0,.5-.5V11a.5.5,0,0,0-.5-.5Z"}},{tag:"path",attr:{d:"M20.438,6.062h-9a.5.5,0,0,1,0-1h9a.5.5,0,0,1,0,1Z"}},{tag:"path",attr:{d:"M20.438,12.5h-9a.5.5,0,0,1,0-1h9a.5.5,0,0,1,0,1Z"}},{tag:"path",attr:{d:"M20.438,18.935h-9a.5.5,0,1,1,0-1h9a.5.5,0,0,1,0,1Z"}}]}]}]})(e)}function Du(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Plus"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15,12.5H12.5V15a.5.5,0,0,1-1,0V12.5H9a.5.5,0,0,1,0-1h2.5V9a.5.5,0,0,1,1,0v2.5H15A.5.5,0,0,1,15,12.5Z"}},{tag:"path",attr:{d:"M12,21.932A9.934,9.934,0,1,1,21.932,12,9.944,9.944,0,0,1,12,21.932ZM12,3.065A8.934,8.934,0,1,0,20.932,12,8.944,8.944,0,0,0,12,3.065Z"}}]}]}]})(e)}function Lu(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Facebook"},child:[{tag:"path",attr:{d:"M19.02,4.975A9.93,9.93,0,0,0,2.07,12,9.935,9.935,0,0,0,12,21.935a9.98,9.98,0,0,0,3.8-.75,10.189,10.189,0,0,0,3.22-2.16,9.934,9.934,0,0,0,0-14.05Zm-.7,13.34A8.921,8.921,0,0,1,13,20.885v-6.56h1.88a1,1,0,0,0,0-2H13V9.585a1,1,0,0,1,1-1h1.2a1,1,0,0,0,0-2H13.5a2.5,2.5,0,0,0-2.5,2.5v3.24H9.13a1,1,0,1,0,0,2H11v6.56a8.919,8.919,0,1,1,9.26-5.47A9.061,9.061,0,0,1,18.32,18.315Z"}}]}]})(e)}function Uu(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Instagram"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M18.437,20.937H5.563a2.5,2.5,0,0,1-2.5-2.5V5.563a2.5,2.5,0,0,1,2.5-2.5H18.437a2.5,2.5,0,0,1,2.5,2.5V18.437A2.5,2.5,0,0,1,18.437,20.937ZM5.563,4.063a1.5,1.5,0,0,0-1.5,1.5V18.437a1.5,1.5,0,0,0,1.5,1.5H18.437a1.5,1.5,0,0,0,1.5-1.5V5.563a1.5,1.5,0,0,0-1.5-1.5Z"}},{tag:"path",attr:{d:"M12,16.594A4.595,4.595,0,1,1,16.6,12,4.6,4.6,0,0,1,12,16.594ZM12,8.4A3.595,3.595,0,1,0,15.6,12,3.6,3.6,0,0,0,12,8.4Z"}},{tag:"circle",attr:{cx:"17.2",cy:"6.83",r:"1.075"}}]}]}]})(e)}function Fu(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Login"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.944,18.432a2.577,2.577,0,0,1-2.729,2.5c-2.153.012-4.307,0-6.46,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.63a1.545,1.545,0,0,0-.969-1.471,3.027,3.027,0,0,0-1.061-.095H11.755a.5.5,0,0,1,0-1c2.225,0,4.465-.085,6.688,0a2.566,2.566,0,0,1,2.5,2.67Z"}},{tag:"path",attr:{d:"M15.794,12.354a.459.459,0,0,0,.138-.312A.3.3,0,0,0,15.938,12a.29.29,0,0,0-.006-.041.455.455,0,0,0-.138-.313L12.125,7.978a.5.5,0,0,0-.707.707L14.234,11.5H3.492a.5.5,0,0,0,0,1H14.234l-2.816,2.815a.5.5,0,0,0,.707.707Z"}}]}]}]})(e)}function ju(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Logout"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.968,18.448a2.577,2.577,0,0,1-2.73,2.5c-2.153.012-4.306,0-6.459,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.647A1.546,1.546,0,0,0,19,4.175a3.023,3.023,0,0,0-1.061-.095H11.779a.5.5,0,0,1,0-1c2.224,0,4.465-.085,6.687,0a2.567,2.567,0,0,1,2.5,2.67Z"}},{tag:"path",attr:{d:"M3.176,11.663a.455.455,0,0,0-.138.311c0,.015,0,.028-.006.043s0,.027.006.041a.457.457,0,0,0,.138.312l3.669,3.669a.5.5,0,0,0,.707-.707L4.737,12.516H15.479a.5.5,0,0,0,0-1H4.737L7.552,8.7a.5.5,0,0,0-.707-.707Z"}}]}]}]})(e)}function Bu(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Maximize_1"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M3.065,16.16a.5.5,0,0,1,1,0v3.07l.01-.01,6.07-6.07a.5.5,0,0,1,.71.71c-.29.29-.58.57-.87.86-1.74,1.74-3.47,3.48-5.21,5.22h3.07a.5.5,0,0,1,0,1H3.565a.429.429,0,0,1-.34-.14c-.01-.01-.02-.01-.02-.02a.384.384,0,0,1-.13-.26C3.066,20.442,3.065,16.16,3.065,16.16Z"}},{tag:"path",attr:{d:"M20.935,3.56V7.84a.5.5,0,0,1-1,0V4.77l-.01.01q-3.045,3.03-6.07,6.07a.5.5,0,0,1-.71-.71c.29-.29.58-.57.86-.86,1.75-1.74,3.48-3.48,5.22-5.22h-3.07a.5.5,0,0,1,0-1h4.28a.429.429,0,0,1,.34.14c.01.01.02.01.02.02A.429.429,0,0,1,20.935,3.56Z"}}]}]}]})(e)}function zu(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Minimize_1"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M11,17.78a.5.5,0,0,1-1,0V14.71L3.92,20.79a.5.5,0,0,1-.71-.71c.29-.29.58-.57.87-.86C5.82,17.48,7.55,15.74,9.3,14H6.22a.5.5,0,0,1,0-1H10.5a.429.429,0,0,1,.34.14c.01.01.02.01.02.02a.384.384,0,0,1,.13.26Z"}},{tag:"path",attr:{d:"M14.7,10h3.08a.5.5,0,0,1,0,1H13.5a.429.429,0,0,1-.34-.14c-.01-.01-.02-.01-.02-.02a.384.384,0,0,1-.13-.26L13,6.22a.5.5,0,0,1,1,0V9.29l.01-.01,6.07-6.07a.5.5,0,0,1,.71.71Z"}}]}]}]})(e)}function Vu(e){return Cu({tag:"svg",attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31\n\t\tc0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z\n\t\t M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02\n\t\tz"}}]}]})(e)}function Hu(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Shopping_Cart"},child:[{tag:"path",attr:{d:"M17.437,19.934c0,0.552 -0.448,1 -1,1c-0.552,0 -1,-0.448 -1,-1c0,-0.552 0.448,-1 1,-1c0.552,0 1,0.448 1,1Zm-11.217,-4.266l-0.945,-10.9c-0.03,-0.391 -0.356,-0.693 -0.749,-0.693l-0.966,-0c-0.276,-0 -0.5,-0.224 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l0.966,-0c0.916,-0 1.676,0.704 1.746,1.617l0.139,1.818l13.03,-0c0.885,-0 1.577,0.76 1.494,1.638l-0.668,7.52c-0.121,1.285 -1.199,2.267 -2.489,2.267l-9.069,0c-1.29,0 -2.367,-0.981 -2.489,-2.267Zm0.274,-8.158l0.722,8.066c0.073,0.77 0.719,1.359 1.493,1.359l9.069,0c0.774,0 1.42,-0.589 1.493,-1.359l0.668,-7.518c0.028,-0.294 -0.203,-0.548 -0.498,-0.548l-12.947,-0Zm4.454,12.424c-0,0.552 -0.448,1 -1,1c-0.552,0 -1,-0.448 -1,-1c-0,-0.552 0.448,-1 1,-1c0.552,0 1,0.448 1,1Z"}}]}]})(e)}function Wu(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Twitter"},child:[{tag:"path",attr:{d:"M19.913,5.322a1.034,1.034,0,0,1,.837,1.629L19.708,8.432c-.064,5.086-1.765,8.539-5.056,10.264A10.917,10.917,0,0,1,9.6,19.835a12.233,12.233,0,0,1-6.2-1.524.76.76,0,0,1-.317-.8.768.768,0,0,1,.63-.6,20.6,20.6,0,0,0,3.745-.886C2,13.5,3.19,7.824,3.71,6.081a1.028,1.028,0,0,1,1.729-.422,9.931,9.931,0,0,0,5.995,2.95A4.188,4.188,0,0,1,12.725,5.3a4.125,4.125,0,0,1,5.7.02ZM4.521,17.794c1.862.872,6.226,1.819,9.667.016,2.955-1.549,4.476-4.732,4.521-9.461a.771.771,0,0,1,.142-.436l1.081-1.538-.041-.053c-.518-.007-1.029-.014-1.55,0a.835.835,0,0,1-.547-.221,3.13,3.13,0,0,0-4.383-.072,3.174,3.174,0,0,0-.935,2.87.646.646,0,0,1-.154.545.591.591,0,0,1-.516.205A10.924,10.924,0,0,1,4.722,6.354c-.67,2.078-1.52,7.094,3.869,9.065a.632.632,0,0,1,.416.538.625.625,0,0,1-.3.6A13.178,13.178,0,0,1,4.521,17.794ZM11.875,8.65h0Zm7.793-.161,0,0Z"}}]}]})(e)}var Gu=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),qu=Math.abs,Xu=String.fromCharCode,Yu=Object.assign;function Qu(e){return e.trim()}function Ku(e,t,n){return e.replace(t,n)}function $u(e,t){return e.indexOf(t)}function Ju(e,t){return 0|e.charCodeAt(t)}function Zu(e,t,n){return e.slice(t,n)}function ec(e){return e.length}function tc(e){return e.length}function nc(e,t){return t.push(e),e}var rc=1,ic=1,ac=0,oc=0,sc=0,lc="";function uc(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:rc,column:ic,length:o,return:""}}function cc(e,t){return Yu(uc("",null,null,"",null,null,0),e,{length:-e.length},t)}function hc(){return sc=oc>0?Ju(lc,--oc):0,ic--,10===sc&&(ic=1,rc--),sc}function dc(){return sc=oc<ac?Ju(lc,oc++):0,ic++,10===sc&&(ic=1,rc++),sc}function fc(){return Ju(lc,oc)}function pc(){return oc}function vc(e,t){return Zu(lc,e,t)}function mc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gc(e){return rc=ic=1,ac=ec(lc=e),oc=0,[]}function yc(e){return lc="",e}function bc(e){return Qu(vc(oc-1,wc(91===e?e+2:40===e?e+1:e)))}function xc(e){for(;(sc=fc())&&sc<33;)dc();return mc(e)>2||mc(sc)>3?"":" "}function _c(e,t){for(;--t&&dc()&&!(sc<48||sc>102||sc>57&&sc<65||sc>70&&sc<97););return vc(e,pc()+(t<6&&32==fc()&&32==dc()))}function wc(e){for(;dc();)switch(sc){case e:return oc;case 34:case 39:34!==e&&39!==e&&wc(sc);break;case 40:41===e&&wc(e);break;case 92:dc()}return oc}function Ec(e,t){for(;dc()&&e+sc!==57&&(e+sc!==84||47!==fc()););return"/*"+vc(t,oc-1)+"*"+Xu(47===e?e:dc())}function Sc(e){for(;!mc(fc());)dc();return vc(e,oc)}var Tc="-ms-",Mc="-moz-",kc="-webkit-",Ac="comm",Rc="rule",Cc="decl",Oc="@keyframes";function Ic(e,t){for(var n="",r=tc(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Pc(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Cc:return e.return=e.return||e.value;case Ac:return"";case Oc:return e.return=e.value+"{"+Ic(e.children,r)+"}";case Rc:e.value=e.props.join(",")}return ec(n=Ic(e.children,r))?e.return=e.value+"{"+n+"}":""}function Nc(e){return function(t){t.root||(t=t.return)&&e(t)}}function Dc(e){return yc(Lc("",null,null,null,[""],e=gc(e),0,[0],e))}function Lc(e,t,n,r,i,a,o,s,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,v=1,m=1,g=1,y=0,b="",x=i,_=a,w=r,E=b;m;)switch(p=y,y=dc()){case 40:if(108!=p&&58==Ju(E,h-1)){-1!=$u(E+=Ku(bc(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:E+=bc(y);break;case 9:case 10:case 13:case 32:E+=xc(p);break;case 92:E+=_c(pc()-1,7);continue;case 47:switch(fc()){case 42:case 47:nc(Fc(Ec(dc(),pc()),t,n),l);break;default:E+="/"}break;case 123*v:s[u++]=ec(E)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+c:-1==g&&(E=Ku(E,/\f/g,"")),f>0&&ec(E)-h&&nc(f>32?jc(E+";",r,n,h-1):jc(Ku(E," ","")+";",r,n,h-2),l);break;case 59:E+=";";default:if(nc(w=Uc(E,t,n,u,c,i,s,b,x=[],_=[],h),a),123===y)if(0===c)Lc(E,t,w,w,x,a,h,s,_);else switch(99===d&&110===Ju(E,3)?100:d){case 100:case 108:case 109:case 115:Lc(e,w,w,r&&nc(Uc(e,w,w,0,0,i,s,b,i,x=[],h),_),i,_,h,s,r?x:_);break;default:Lc(E,w,w,w,[""],_,0,s,_)}}u=c=f=0,v=g=1,b=E="",h=o;break;case 58:h=1+ec(E),f=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==hc())continue;switch(E+=Xu(y),y*v){case 38:g=c>0?1:(E+="\f",-1);break;case 44:s[u++]=(ec(E)-1)*g,g=1;break;case 64:45===fc()&&(E+=bc(dc())),d=fc(),c=h=ec(b=E+=Sc(pc())),y++;break;case 45:45===p&&2==ec(E)&&(v=0)}}return a}function Uc(e,t,n,r,i,a,o,s,l,u,c){for(var h=i-1,d=0===i?a:[""],f=tc(d),p=0,v=0,m=0;p<r;++p)for(var g=0,y=Zu(e,h+1,h=qu(v=o[p])),b=e;g<f;++g)(b=Qu(v>0?d[g]+" "+y:Ku(y,/&\f/g,d[g])))&&(l[m++]=b);return uc(e,t,n,0===i?Rc:s,l,u,c)}function Fc(e,t,n){return uc(e,t,n,Ac,Xu(sc),Zu(e,2,-2),0)}function jc(e,t,n,r){return uc(e,t,n,Cc,Zu(e,0,r),Zu(e,r+1,-1),r)}var Bc=function(e,t,n){for(var r=0,i=0;r=i,i=fc(),38===r&&12===i&&(t[n]=1),!mc(i);)dc();return vc(e,oc)},zc=function(e,t){return yc(function(e,t){var n=-1,r=44;do{switch(mc(r)){case 0:38===r&&12===fc()&&(t[n]=1),e[n]+=Bc(oc-1,t,n);break;case 2:e[n]+=bc(r);break;case 4:if(44===r){e[++n]=58===fc()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Xu(r)}}while(r=dc());return e}(gc(e),t))},Vc=new WeakMap,Hc=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Vc.get(n))&&!r){Vc.set(e,!0);for(var i=[],a=zc(t,i),o=n.props,s=0,l=0;s<a.length;s++)for(var u=0;u<o.length;u++,l++)e.props[l]=i[s]?a[s].replace(/&\f/g,o[u]):o[u]+" "+a[s]}}},Wc=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Gc(e,t){switch(function(e,t){return 45^Ju(e,0)?(((t<<2^Ju(e,0))<<2^Ju(e,1))<<2^Ju(e,2))<<2^Ju(e,3):0}(e,t)){case 5103:return kc+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kc+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return kc+e+Mc+e+Tc+e+e;case 6828:case 4268:return kc+e+Tc+e+e;case 6165:return kc+e+Tc+"flex-"+e+e;case 5187:return kc+e+Ku(e,/(\w+).+(:[^]+)/,kc+"box-$1$2"+Tc+"flex-$1$2")+e;case 5443:return kc+e+Tc+"flex-item-"+Ku(e,/flex-|-self/,"")+e;case 4675:return kc+e+Tc+"flex-line-pack"+Ku(e,/align-content|flex-|-self/,"")+e;case 5548:return kc+e+Tc+Ku(e,"shrink","negative")+e;case 5292:return kc+e+Tc+Ku(e,"basis","preferred-size")+e;case 6060:return kc+"box-"+Ku(e,"-grow","")+kc+e+Tc+Ku(e,"grow","positive")+e;case 4554:return kc+Ku(e,/([^-])(transform)/g,"$1"+kc+"$2")+e;case 6187:return Ku(Ku(Ku(e,/(zoom-|grab)/,kc+"$1"),/(image-set)/,kc+"$1"),e,"")+e;case 5495:case 3959:return Ku(e,/(image-set\([^]*)/,kc+"$1$`$1");case 4968:return Ku(Ku(e,/(.+:)(flex-)?(.*)/,kc+"box-pack:$3"+Tc+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kc+e+e;case 4095:case 3583:case 4068:case 2532:return Ku(e,/(.+)-inline(.+)/,kc+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ec(e)-1-t>6)switch(Ju(e,t+1)){case 109:if(45!==Ju(e,t+4))break;case 102:return Ku(e,/(.+:)(.+)-([^]+)/,"$1"+kc+"$2-$3$1"+Mc+(108==Ju(e,t+3)?"$3":"$2-$3"))+e;case 115:return~$u(e,"stretch")?Gc(Ku(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ju(e,t+1))break;case 6444:switch(Ju(e,ec(e)-3-(~$u(e,"!important")&&10))){case 107:return Ku(e,":",":"+kc)+e;case 101:return Ku(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kc+(45===Ju(e,14)?"inline-":"")+"box$3$1"+kc+"$2$3$1"+Tc+"$2box$3")+e}break;case 5936:switch(Ju(e,t+11)){case 114:return kc+e+Tc+Ku(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return kc+e+Tc+Ku(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return kc+e+Tc+Ku(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return kc+e+Tc+e+e}return e}var qc=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Cc:e.return=Gc(e.value,e.length);break;case Oc:return Ic([cc(e,{value:Ku(e.value,"@","@"+kc)})],r);case Rc:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ic([cc(e,{props:[Ku(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ic([cc(e,{props:[Ku(t,/:(plac\w+)/,":"+kc+"input-$1")]}),cc(e,{props:[Ku(t,/:(plac\w+)/,":-moz-$1")]}),cc(e,{props:[Ku(t,/:(plac\w+)/,Tc+"input-$1")]})],r)}return""}))}}],Xc=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||qc;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var l=[Hc,Wc];var u,c=[Pc,Nc((function(e){u.insert(e)}))],h=function(e){var t=tc(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(l.concat(r,c));a=function(e,t,n,r){u=n,function(e){Ic(Dc(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Gu({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(s),d};function Yc(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Qc=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Kc=function(e,t,n){Qc(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var $c={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Jc(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Zc=/[A-Z]|^ms/g,eh=/_EMO_([^_]+?)_([^]*?)_EMO_/g,th=function(e){return 45===e.charCodeAt(1)},nh=function(e){return null!=e&&"boolean"!==typeof e},rh=Jc((function(e){return th(e)?e:e.replace(Zc,"-$&").toLowerCase()})),ih=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(eh,(function(e,t,n){return oh={name:t,styles:n,next:oh},t}))}return 1===$c[e]||th(e)||"number"!==typeof t||0===t?t:t+"px"};function ah(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return oh={name:n.name,styles:n.styles,next:oh},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)oh={name:r.name,styles:r.styles,next:oh},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ah(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":nh(o)&&(r+=rh(a)+":"+ih(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=ah(e,t,o);switch(a){case"animation":case"animationName":r+=rh(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var l=0;l<o.length;l++)nh(o[l])&&(r+=rh(a)+":"+ih(a,o[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=oh,a=n(e);return oh=i,ah(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var oh,sh=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var lh=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";oh=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=ah(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=ah(n,t,e[o]),r&&(i+=a[o]);sh.lastIndex=0;for(var s,l="";null!==(s=sh.exec(i));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:u,styles:i,next:oh}},uh=!!r.useInsertionEffect&&r.useInsertionEffect,ch=uh||function(e){return e()},hh=(uh||t.useLayoutEffect,{}.hasOwnProperty),dh=t.createContext("undefined"!==typeof HTMLElement?Xc({key:"css"}):null);dh.Provider;var fh=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(dh);return e(n,i,r)}))};var ph=t.createContext({});var vh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",mh=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Qc(t,n,r),ch((function(){return Kc(t,n,r)})),null},gh=fh((function(e,n,r){var i=e.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var a=e[vh],o=[i],s="";"string"===typeof e.className?s=Yc(n.registered,o,e.className):null!=e.className&&(s=e.className+" ");var l=lh(o,void 0,t.useContext(ph));s+=n.key+"-"+l.name;var u={};for(var c in e)hh.call(e,c)&&"css"!==c&&c!==vh&&(u[c]=e[c]);return u.ref=r,u.className=s,t.createElement(t.Fragment,null,t.createElement(mh,{cache:n,serialized:l,isStringTag:"string"===typeof a}),t.createElement(a,u))}));var yh=gh,bh=(n(110),El.Fragment);function xh(e,t,n){return hh.call(t,"css")?El.jsx(yh,function(e,t){var n={};for(var r in t)hh.call(t,r)&&(n[r]=t[r]);return n[vh]=e,n}(e,t),n):El.jsx(e,t,n)}function _h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lh(t)}var wh=function(){var e=_h.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Eh=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var a=t[r];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var s in o="",a)a[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=a}o&&(i&&(i+=" "),i+=o)}}return i};var Sh=function(e){var t=e.cache,n=e.serializedArr;return ch((function(){for(var e=0;e<n.length;e++)Kc(t,n[e],!1)})),null},Th=fh((function(e,n){var r=[],i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=lh(t,n.registered);return r.push(a),Qc(n,a,!1),n.key+"-"+a.name},a={css:i,cx:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,t,n){var r=[],i=Yc(e,r,n);return r.length<2?n:i+t(r)}(n.registered,i,Eh(t))},theme:t.useContext(ph)},o=e.children(a);return!0,t.createElement(t.Fragment,null,t.createElement(Sh,{cache:n,serializedArr:r}),o)}));var Mh=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"],kh=Object.defineProperty,Ah=function(e,t,n){return function(e,t,n){t in e?kh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},Rh=new Map,Ch=new WeakMap,Oh=0,Ih=void 0;function Ph(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return"".concat(t,"_").concat("root"===t?(n=e.root)?(Ch.has(n)||(Oh+=1,Ch.set(n,Oh.toString())),Ch.get(n)):"0":e[t]);var n})).toString()}function Nh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ih;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var a=function(e){var t=Ph(e),n=Rh.get(t);if(!n){var r,i=new Map,a=new IntersectionObserver((function(t){t.forEach((function(t){var n,a=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=a),null==(n=i.get(t.target))||n.forEach((function(e){e(a,t)}))}))}),e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:i},Rh.set(t,n)}return n}(n),o=a.id,s=a.observer,l=a.elements,u=l.get(e)||[];return l.has(e)||l.set(e,u),u.push(t),s.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(l.delete(e),s.unobserve(e)),0===l.size&&(s.disconnect(),Rh.delete(o))}}var Dh=function(e){_(r,e);var n=T(r);function r(e){var t;return g(this,r),t=n.call(this,e),Ah(S(t),"node",null),Ah(S(t),"_unobserveCb",null),Ah(S(t),"handleNode",(function(e){t.node&&(t.unobserve(),e||t.props.triggerOnce||t.props.skip||t.setState({inView:!!t.props.initialInView,entry:void 0})),t.node=e||null,t.observeNode()})),Ah(S(t),"handleChange",(function(e,n){e&&t.props.triggerOnce&&t.unobserve(),function(e){return"function"!==typeof e.children}(t.props)||t.setState({inView:e,entry:n}),t.props.onChange&&t.props.onChange(e,n)})),t.state={inView:!!e.initialInView,entry:void 0},t}return b(r,[{key:"componentDidUpdate",value:function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}},{key:"componentWillUnmount",value:function(){this.unobserve(),this.node=null}},{key:"observeNode",value:function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,a=e.delay,o=e.fallbackInView;this._unobserveCb=Nh(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:a},o)}}},{key:"unobserve",value:function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}},{key:"render",value:function(){var e=this.props.children;if("function"===typeof e){var n=this.state;return e({inView:n.inView,entry:n.entry,ref:this.handleNode})}var r=this.props,i=r.as,a=(r.triggerOnce,r.threshold,r.root,r.rootMargin,r.onChange,r.skip,r.trackVisibility,r.delay,r.initialInView,r.fallbackInView,Pl(r,Mh));return t.createElement(i||"div",u({ref:this.handleNode},a),e)}}]),r}(t.Component);function Lh(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.threshold,i=n.delay,a=n.trackVisibility,o=n.rootMargin,s=n.root,l=n.triggerOnce,u=n.skip,c=n.initialInView,h=n.fallbackInView,d=n.onChange,f=p(t.useState(null),2),v=f[0],m=f[1],g=t.useRef(),y=p(t.useState({inView:!!c,entry:void 0}),2),b=y[0],x=y[1];g.current=d,t.useEffect((function(){var e;if(!u&&v)return e=Nh(v,(function(t,n){x({inView:t,entry:n}),g.current&&g.current(t,n),n.isIntersecting&&l&&e&&(e(),e=void 0)}),{root:s,rootMargin:o,threshold:r,trackVisibility:a,delay:i},h),function(){e&&e()}}),[Array.isArray(r)?r.toString():r,v,s,o,l,u,a,h,i]);var _=null==(e=b.entry)?void 0:e.target,w=t.useRef();v||!_||l||u||w.current===_||(w.current=_,x({inView:!!c,entry:void 0}));var E=[m,b.inView,b.entry];return E.ref=E[0],E.inView=E[1],E.entry=E[2],E}var Uh,Fh,jh,Bh,zh,Vh,Hh,Wh,Gh,qh,Xh,Yh,Qh,Kh,$h,Jh,Zh,ed,td,nd,rd,id,ad,od,sd,ld,ud,cd,hd,dd,fd,pd,vd,md,gd,yd,bd,xd,_d,wd,Ed,Sd,Td,Md,kd,Ad,Rd,Cd,Od,Id,Pd,Nd,Dd,Ld,Ud,Fd,jd,Bd,zd,Vd,Hd,Wd,Gd,qd,Xd,Yd,Qd,Kd,$d,Jd,Zd,ef,tf,nf,rf,af,of,sf,lf,uf,cf,hf,df,ff,pf,vf,mf,gf=n(186),yf=["big","direction","reverse"],bf=["direction","reverse"],xf=(wh(Uh||(Uh=Zo(["\n  from,\n  20%,\n  53%,\n  to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n    transform: translate3d(0, 0, 0);\n  }\n\n  40%,\n  43% {\n    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n    transform: translate3d(0, -30px, 0) scaleY(1.1);\n  }\n\n  70% {\n    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n    transform: translate3d(0, -15px, 0) scaleY(1.05);\n  }\n\n  80% {\n    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n    transform: translate3d(0, 0, 0) scaleY(0.95);\n  }\n\n  90% {\n    transform: translate3d(0, -4px, 0) scaleY(1.02);\n  }\n"]))),wh(Fh||(Fh=Zo(["\n  from,\n  50%,\n  to {\n    opacity: 1;\n  }\n\n  25%,\n  75% {\n    opacity: 0;\n  }\n"]))),wh(jh||(jh=Zo(["\n  0% {\n    transform: translateX(0);\n  }\n\n  6.5% {\n    transform: translateX(-6px) rotateY(-9deg);\n  }\n\n  18.5% {\n    transform: translateX(5px) rotateY(7deg);\n  }\n\n  31.5% {\n    transform: translateX(-3px) rotateY(-5deg);\n  }\n\n  43.5% {\n    transform: translateX(2px) rotateY(3deg);\n  }\n\n  50% {\n    transform: translateX(0);\n  }\n"]))),wh(Bh||(Bh=Zo(["\n  0% {\n    transform: scale(1);\n  }\n\n  14% {\n    transform: scale(1.3);\n  }\n\n  28% {\n    transform: scale(1);\n  }\n\n  42% {\n    transform: scale(1.3);\n  }\n\n  70% {\n    transform: scale(1);\n  }\n"]))),wh(zh||(zh=Zo(["\n  from,\n  11.1%,\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n\n  22.2% {\n    transform: skewX(-12.5deg) skewY(-12.5deg);\n  }\n\n  33.3% {\n    transform: skewX(6.25deg) skewY(6.25deg);\n  }\n\n  44.4% {\n    transform: skewX(-3.125deg) skewY(-3.125deg);\n  }\n\n  55.5% {\n    transform: skewX(1.5625deg) skewY(1.5625deg);\n  }\n\n  66.6% {\n    transform: skewX(-0.78125deg) skewY(-0.78125deg);\n  }\n\n  77.7% {\n    transform: skewX(0.390625deg) skewY(0.390625deg);\n  }\n\n  88.8% {\n    transform: skewX(-0.1953125deg) skewY(-0.1953125deg);\n  }\n"]))),wh(Vh||(Vh=Zo(["\n  from {\n    transform: scale3d(1, 1, 1);\n  }\n\n  50% {\n    transform: scale3d(1.05, 1.05, 1.05);\n  }\n\n  to {\n    transform: scale3d(1, 1, 1);\n  }\n"]))),wh(Hh||(Hh=Zo(["\n  from {\n    transform: scale3d(1, 1, 1);\n  }\n\n  30% {\n    transform: scale3d(1.25, 0.75, 1);\n  }\n\n  40% {\n    transform: scale3d(0.75, 1.25, 1);\n  }\n\n  50% {\n    transform: scale3d(1.15, 0.85, 1);\n  }\n\n  65% {\n    transform: scale3d(0.95, 1.05, 1);\n  }\n\n  75% {\n    transform: scale3d(1.05, 0.95, 1);\n  }\n\n  to {\n    transform: scale3d(1, 1, 1);\n  }\n"]))),wh(Wh||(Wh=Zo(["\n  from,\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translate3d(-10px, 0, 0);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translate3d(10px, 0, 0);\n  }\n"]))),wh(Gh||(Gh=Zo(["\n  from,\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translate3d(-10px, 0, 0);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translate3d(10px, 0, 0);\n  }\n"]))),wh(qh||(qh=Zo(["\n  from,\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translate3d(0, -10px, 0);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translate3d(0, 10px, 0);\n  }\n"]))),wh(Xh||(Xh=Zo(["\n  20% {\n    transform: rotate3d(0, 0, 1, 15deg);\n  }\n\n  40% {\n    transform: rotate3d(0, 0, 1, -10deg);\n  }\n\n  60% {\n    transform: rotate3d(0, 0, 1, 5deg);\n  }\n\n  80% {\n    transform: rotate3d(0, 0, 1, -5deg);\n  }\n\n  to {\n    transform: rotate3d(0, 0, 1, 0deg);\n  }\n"]))),wh(Yh||(Yh=Zo(["\n  from {\n    transform: scale3d(1, 1, 1);\n  }\n\n  10%,\n  20% {\n    transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg);\n  }\n\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);\n  }\n\n  40%,\n  60%,\n  80% {\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);\n  }\n\n  to {\n    transform: scale3d(1, 1, 1);\n  }\n"]))),wh(Qh||(Qh=Zo(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  15% {\n    transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);\n  }\n\n  30% {\n    transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);\n  }\n\n  45% {\n    transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);\n  }\n\n  60% {\n    transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);\n  }\n\n  75% {\n    transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),wh(Kh||(Kh=Zo(["\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n"])))),_f=wh($h||($h=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(-100%, 100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),wf=wh(Jh||(Jh=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(100%, 100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),Ef=wh(Zh||(Zh=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(0, -100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),Sf=wh(ed||(ed=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(0, -2000px, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),Tf=wh(td||(td=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(-100%, 0, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),Mf=wh(nd||(nd=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(-2000px, 0, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),kf=wh(rd||(rd=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(100%, 0, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),Af=wh(id||(id=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(2000px, 0, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),Rf=wh(ad||(ad=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(-100%, -100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),Cf=wh(od||(od=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(100%, -100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),Of=wh(sd||(sd=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),If=wh(ld||(ld=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(0, 2000px, 0);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"])));function Pf(e,t){return function(n){return n?e():t()}}function Nf(e){return Pf(e,(function(){return null}))}function Df(e){return Nf((function(){return{opacity:0}}))(e)}var Lf=function e(n){var r,i=n.cascade,a=void 0!==i&&i,o=n.damping,s=void 0===o?.5:o,l=n.delay,c=void 0===l?0:l,h=n.duration,d=void 0===h?1e3:h,f=n.fraction,p=void 0===f?0:f,v=n.keyframes,m=void 0===v?Tf:v,g=n.triggerOnce,y=void 0!==g&&g,b=n.className,x=n.style,_=n.childClassName,w=n.childStyle,E=n.children,S=n.onVisibilityChange,T=(0,t.useMemo)((function(){return function(e){var t=e.duration,n=void 0===t?1e3:t,r=e.delay,i=void 0===r?0:r,a=e.timingFunction,o=void 0===a?"ease":a,s=e.keyframes,l=void 0===s?Tf:s,u=e.iterationCount,c=void 0===u?1:u;return _h(ud||(ud=Zo(["\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n    animation-delay: ","ms;\n    animation-name: ",";\n    animation-direction: normal;\n    animation-fill-mode: both;\n    animation-iteration-count: ",";\n\n    @media (prefers-reduced-motion: reduce) {\n      animation: none;\n    }\n  "])),n,o,i,l,c)}({keyframes:m,duration:d})}),[d,m]);return void 0==E?null:"string"===typeof(r=E)||"number"===typeof r||"boolean"===typeof r?xh(Ff,u(u({},n),{},{animationStyles:T,children:String(E)})):(0,gf.isFragment)(E)?xh(jf,u(u({},n),{},{animationStyles:T})):xh(bh,{children:t.Children.map(E,(function(r,i){if(!(0,t.isValidElement)(r))return null;var o=c+(a?i*d*s:0);switch(r.type){case"ol":case"ul":return xh(Th,{children:function(t){var i=t.cx;return xh(r.type,u(u({},r.props),{},{className:i(b,r.props.className),style:Object.assign({},x,r.props.style),children:xh(e,u(u({},n),{},{children:r.props.children}))}))}});case"li":return xh(Dh,{threshold:p,triggerOnce:y,onChange:S,children:function(e){var t=e.inView,n=e.ref;return xh(Th,{children:function(e){var i=e.cx;return xh(r.type,u(u({},r.props),{},{ref:n,className:i(_,r.props.className),css:Nf((function(){return T}))(t),style:Object.assign({},w,r.props.style,Df(!t),{animationDelay:o+"ms"})}))}})}});default:return xh(Dh,{threshold:p,triggerOnce:y,onChange:S,children:function(e){var t=e.inView;return xh("div",{ref:e.ref,className:b,css:Nf((function(){return T}))(t),style:Object.assign({},x,Df(!t),{animationDelay:o+"ms"}),children:xh(Th,{children:function(e){var t=e.cx;return xh(r.type,u(u({},r.props),{},{className:t(_,r.props.className),style:Object.assign({},w,r.props.style)}))}})})}})}}))})},Uf={display:"inline-block",whiteSpace:"pre"},Ff=function(e){var t=e.animationStyles,n=e.cascade,r=void 0!==n&&n,i=e.damping,a=void 0===i?.5:i,o=e.delay,s=void 0===o?0:o,l=e.duration,c=void 0===l?1e3:l,h=e.fraction,d=void 0===h?0:h,f=e.triggerOnce,p=void 0!==f&&f,v=e.className,m=e.style,g=e.children,y=Lh({triggerOnce:p,threshold:d,onChange:e.onVisibilityChange}),b=y.ref,x=y.inView;return Pf((function(){return xh("div",{ref:b,className:v,style:Object.assign({},m,Uf),children:g.split("").map((function(e,n){return xh("span",{css:Nf((function(){return t}))(x),style:{animationDelay:s+n*c*a+"ms"},children:e},n)}))})}),(function(){return xh(jf,u(u({},e),{},{children:g}))}))(r)},jf=function(e){var t=e.animationStyles,n=e.fraction,r=void 0===n?0:n,i=e.triggerOnce,a=void 0!==i&&i,o=e.className,s=e.style,l=e.children,u=Lh({triggerOnce:a,threshold:r,onChange:e.onVisibilityChange}),c=u.ref,h=u.inView;return xh("div",{ref:c,className:o,css:Nf((function(){return t}))(h),style:Object.assign({},s,Df(!h)),children:l})};wh(cd||(cd=Zo(["\n  from,\n  20%,\n  40%,\n  60%,\n  80%,\n  to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n\n  0% {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 0.3);\n  }\n\n  20% {\n    transform: scale3d(1.1, 1.1, 1.1);\n  }\n\n  40% {\n    transform: scale3d(0.9, 0.9, 0.9);\n  }\n\n  60% {\n    opacity: 1;\n    transform: scale3d(1.03, 1.03, 1.03);\n  }\n\n  80% {\n    transform: scale3d(0.97, 0.97, 0.97);\n  }\n\n  to {\n    opacity: 1;\n    transform: scale3d(1, 1, 1);\n  }\n"]))),wh(hd||(hd=Zo(["\n  from,\n  60%,\n  75%,\n  90%,\n  to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n\n  0% {\n    opacity: 0;\n    transform: translate3d(0, -3000px, 0) scaleY(3);\n  }\n\n  60% {\n    opacity: 1;\n    transform: translate3d(0, 25px, 0) scaleY(0.9);\n  }\n\n  75% {\n    transform: translate3d(0, -10px, 0) scaleY(0.95);\n  }\n\n  90% {\n    transform: translate3d(0, 5px, 0) scaleY(0.985);\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),wh(dd||(dd=Zo(["\n  from,\n  60%,\n  75%,\n  90%,\n  to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n\n  0% {\n    opacity: 0;\n    transform: translate3d(-3000px, 0, 0) scaleX(3);\n  }\n\n  60% {\n    opacity: 1;\n    transform: translate3d(25px, 0, 0) scaleX(1);\n  }\n\n  75% {\n    transform: translate3d(-10px, 0, 0) scaleX(0.98);\n  }\n\n  90% {\n    transform: translate3d(5px, 0, 0) scaleX(0.995);\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),wh(fd||(fd=Zo(["\n  from,\n  60%,\n  75%,\n  90%,\n  to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n\n  from {\n    opacity: 0;\n    transform: translate3d(3000px, 0, 0) scaleX(3);\n  }\n\n  60% {\n    opacity: 1;\n    transform: translate3d(-25px, 0, 0) scaleX(1);\n  }\n\n  75% {\n    transform: translate3d(10px, 0, 0) scaleX(0.98);\n  }\n\n  90% {\n    transform: translate3d(-5px, 0, 0) scaleX(0.995);\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),wh(pd||(pd=Zo(["\n  from,\n  60%,\n  75%,\n  90%,\n  to {\n    animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n  }\n\n  from {\n    opacity: 0;\n    transform: translate3d(0, 3000px, 0) scaleY(5);\n  }\n\n  60% {\n    opacity: 1;\n    transform: translate3d(0, -20px, 0) scaleY(0.9);\n  }\n\n  75% {\n    transform: translate3d(0, 10px, 0) scaleY(0.95);\n  }\n\n  90% {\n    transform: translate3d(0, -5px, 0) scaleY(0.985);\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),wh(vd||(vd=Zo(["\n  20% {\n    transform: scale3d(0.9, 0.9, 0.9);\n  }\n\n  50%,\n  55% {\n    opacity: 1;\n    transform: scale3d(1.1, 1.1, 1.1);\n  }\n\n  to {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 0.3);\n  }\n"]))),wh(md||(md=Zo(["\n  20% {\n    transform: translate3d(0, 10px, 0) scaleY(0.985);\n  }\n\n  40%,\n  45% {\n    opacity: 1;\n    transform: translate3d(0, -20px, 0) scaleY(0.9);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, 2000px, 0) scaleY(3);\n  }\n"]))),wh(gd||(gd=Zo(["\n  20% {\n    opacity: 1;\n    transform: translate3d(20px, 0, 0) scaleX(0.9);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(-2000px, 0, 0) scaleX(2);\n  }\n"]))),wh(yd||(yd=Zo(["\n  20% {\n    opacity: 1;\n    transform: translate3d(-20px, 0, 0) scaleX(0.9);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(2000px, 0, 0) scaleX(2);\n  }\n"]))),wh(bd||(bd=Zo(["\n  20% {\n    transform: translate3d(0, -10px, 0) scaleY(0.985);\n  }\n\n  40%,\n  45% {\n    opacity: 1;\n    transform: translate3d(0, 20px, 0) scaleY(0.9);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, -2000px, 0) scaleY(3);\n  }\n"])));var Bf=wh(xd||(xd=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n"]))),zf=wh(_d||(_d=Zo(["\n  from {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(-100%, 100%, 0);\n  }\n"]))),Vf=wh(wd||(wd=Zo(["\n  from {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(100%, 100%, 0);\n  }\n"]))),Hf=wh(Ed||(Ed=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n"]))),Wf=wh(Sd||(Sd=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, 2000px, 0);\n  }\n"]))),Gf=wh(Td||(Td=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(-100%, 0, 0);\n  }\n"]))),qf=wh(Md||(Md=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(-2000px, 0, 0);\n  }\n"]))),Xf=wh(kd||(kd=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(100%, 0, 0);\n  }\n"]))),Yf=wh(Ad||(Ad=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(2000px, 0, 0);\n  }\n"]))),Qf=wh(Rd||(Rd=Zo(["\n  from {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(-100%, -100%, 0);\n  }\n"]))),Kf=wh(Cd||(Cd=Zo(["\n  from {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(100%, -100%, 0);\n  }\n"]))),$f=wh(Od||(Od=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, -100%, 0);\n  }\n"]))),Jf=wh(Id||(Id=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(0, -2000px, 0);\n  }\n"])));var Zf=function(e){var n=e.big,r=void 0!==n&&n,i=e.direction,a=e.reverse,o=void 0!==a&&a,s=Pl(e,yf),l=(0,t.useMemo)((function(){return function(e,t,n){switch(n){case"bottom-left":return t?zf:_f;case"bottom-right":return t?Vf:wf;case"down":return e?t?Wf:Sf:t?Hf:Ef;case"left":return e?t?qf:Mf:t?Gf:Tf;case"right":return e?t?Yf:Af:t?Xf:kf;case"top-left":return t?Qf:Rf;case"top-right":return t?Kf:Cf;case"up":return e?t?Jf:If:t?$f:Of;default:return t?Bf:xf}}(r,o,i)}),[r,i,o]);return xh(Lf,u({keyframes:l},s))};wh(Pd||(Pd=Zo(["\n  from {\n    transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, -360deg);\n    animation-timing-function: ease-out;\n  }\n\n  40% {\n    transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)\n      rotate3d(0, 1, 0, -190deg);\n    animation-timing-function: ease-out;\n  }\n\n  50% {\n    transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 150px)\n      rotate3d(0, 1, 0, -170deg);\n    animation-timing-function: ease-in;\n  }\n\n  80% {\n    transform: perspective(400px) scale3d(0.95, 0.95, 0.95) translate3d(0, 0, 0)\n      rotate3d(0, 1, 0, 0deg);\n    animation-timing-function: ease-in;\n  }\n\n  to {\n    transform: perspective(400px) scale3d(1, 1, 1) translate3d(0, 0, 0) rotate3d(0, 1, 0, 0deg);\n    animation-timing-function: ease-in;\n  }\n"]))),wh(Nd||(Nd=Zo(["\n  from {\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    animation-timing-function: ease-in;\n    opacity: 0;\n  }\n\n  40% {\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    animation-timing-function: ease-in;\n  }\n\n  60% {\n    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n\n  80% {\n    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n\n  to {\n    transform: perspective(400px);\n  }\n"]))),wh(Dd||(Dd=Zo(["\n  from {\n    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n    animation-timing-function: ease-in;\n    opacity: 0;\n  }\n\n  40% {\n    transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\n    animation-timing-function: ease-in;\n  }\n\n  60% {\n    transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\n    opacity: 1;\n  }\n\n  80% {\n    transform: perspective(400px) rotate3d(0, 1, 0, -5deg);\n  }\n\n  to {\n    transform: perspective(400px);\n  }\n"]))),wh(Ld||(Ld=Zo(["\n  from {\n    transform: perspective(400px);\n  }\n\n  30% {\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n\n  to {\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n"]))),wh(Ud||(Ud=Zo(["\n  from {\n    transform: perspective(400px);\n  }\n\n  30% {\n    transform: perspective(400px) rotate3d(0, 1, 0, -15deg);\n    opacity: 1;\n  }\n\n  to {\n    transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n    opacity: 0;\n  }\n"])));wh(Fd||(Fd=Zo(["\n  0% {\n    animation-timing-function: ease-in-out;\n  }\n\n  20%,\n  60% {\n    transform: rotate3d(0, 0, 1, 80deg);\n    animation-timing-function: ease-in-out;\n  }\n\n  40%,\n  80% {\n    transform: rotate3d(0, 0, 1, 60deg);\n    animation-timing-function: ease-in-out;\n    opacity: 1;\n  }\n\n  to {\n    transform: translate3d(0, 700px, 0);\n    opacity: 0;\n  }\n"]))),wh(jd||(jd=Zo(["\n  from {\n    opacity: 0;\n    transform: scale(0.1) rotate(30deg);\n    transform-origin: center bottom;\n  }\n\n  50% {\n    transform: rotate(-10deg);\n  }\n\n  70% {\n    transform: rotate(3deg);\n  }\n\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]))),wh(Bd||(Bd=Zo(["\n  from {\n    opacity: 0;\n    transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n"]))),wh(zd||(zd=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    transform: translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg);\n  }\n"])));wh(Vd||(Vd=Zo(["\n  from {\n    transform: rotate3d(0, 0, 1, -200deg);\n    opacity: 0;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n"]))),wh(Hd||(Hd=Zo(["\n  from {\n    transform: rotate3d(0, 0, 1, -45deg);\n    opacity: 0;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n"]))),wh(Wd||(Wd=Zo(["\n  from {\n    transform: rotate3d(0, 0, 1, 45deg);\n    opacity: 0;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n"]))),wh(Gd||(Gd=Zo(["\n  from {\n    transform: rotate3d(0, 0, 1, 45deg);\n    opacity: 0;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n"]))),wh(qd||(qd=Zo(["\n  from {\n    transform: rotate3d(0, 0, 1, -90deg);\n    opacity: 0;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n"]))),wh(Xd||(Xd=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    transform: rotate3d(0, 0, 1, 200deg);\n    opacity: 0;\n  }\n"]))),wh(Yd||(Yd=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    transform: rotate3d(0, 0, 1, 45deg);\n    opacity: 0;\n  }\n"]))),wh(Qd||(Qd=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    transform: rotate3d(0, 0, 1, -45deg);\n    opacity: 0;\n  }\n"]))),wh(Kd||(Kd=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    transform: rotate3d(0, 0, 1, -45deg);\n    opacity: 0;\n  }\n"]))),wh($d||($d=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  to {\n    transform: rotate3d(0, 0, 1, 90deg);\n    opacity: 0;\n  }\n"])));var ep=wh(Jd||(Jd=Zo(["\n  from {\n    transform: translate3d(0, -100%, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),tp=wh(Zd||(Zd=Zo(["\n  from {\n    transform: translate3d(-100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),np=wh(ef||(ef=Zo(["\n  from {\n    transform: translate3d(100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),rp=wh(tf||(tf=Zo(["\n  from {\n    transform: translate3d(0, 100%, 0);\n    visibility: visible;\n  }\n\n  to {\n    transform: translate3d(0, 0, 0);\n  }\n"]))),ip=wh(nf||(nf=Zo(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(0, 100%, 0);\n  }\n"]))),ap=wh(rf||(rf=Zo(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(-100%, 0, 0);\n  }\n"]))),op=wh(af||(af=Zo(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(100%, 0, 0);\n  }\n"]))),sp=wh(of||(of=Zo(["\n  from {\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    transform: translate3d(0, -100%, 0);\n  }\n"])));var lp=function(e){var n=e.direction,r=e.reverse,i=void 0!==r&&r,a=Pl(e,bf),o=(0,t.useMemo)((function(){return function(e,t){switch(t){case"down":return e?ip:ep;case"right":return e?op:np;case"up":return e?sp:rp;default:return e?ap:tp}}(i,n)}),[n,i]);return xh(Lf,u({keyframes:o},a))};wh(sf||(sf=Zo(["\n  from {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 0.3);\n  }\n\n  50% {\n    opacity: 1;\n  }\n"]))),wh(lf||(lf=Zo(["\n  from {\n    opacity: 0;\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -1000px, 0);\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n  }\n\n  60% {\n    opacity: 1;\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\n  }\n"]))),wh(uf||(uf=Zo(["\n  from {\n    opacity: 0;\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(-1000px, 0, 0);\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n  }\n\n  60% {\n    opacity: 1;\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(10px, 0, 0);\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\n  }\n"]))),wh(cf||(cf=Zo(["\n  from {\n    opacity: 0;\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(1000px, 0, 0);\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n  }\n\n  60% {\n    opacity: 1;\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(-10px, 0, 0);\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\n  }\n"]))),wh(hf||(hf=Zo(["\n  from {\n    opacity: 0;\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 1000px, 0);\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n  }\n\n  60% {\n    opacity: 1;\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\n  }\n"]))),wh(df||(df=Zo(["\n  from {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 0.3);\n  }\n\n  to {\n    opacity: 0;\n  }\n"]))),wh(ff||(ff=Zo(["\n  40% {\n    opacity: 1;\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, -60px, 0);\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n  }\n\n  to {\n    opacity: 0;\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, 2000px, 0);\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\n  }\n"]))),wh(pf||(pf=Zo(["\n  40% {\n    opacity: 1;\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(42px, 0, 0);\n  }\n\n  to {\n    opacity: 0;\n    transform: scale(0.1) translate3d(-2000px, 0, 0);\n  }\n"]))),wh(vf||(vf=Zo(["\n  40% {\n    opacity: 1;\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(-42px, 0, 0);\n  }\n\n  to {\n    opacity: 0;\n    transform: scale(0.1) translate3d(2000px, 0, 0);\n  }\n"]))),wh(mf||(mf=Zo(["\n  40% {\n    opacity: 1;\n    transform: scale3d(0.475, 0.475, 0.475) translate3d(0, 60px, 0);\n    animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n  }\n\n  to {\n    opacity: 0;\n    transform: scale3d(0.1, 0.1, 0.1) translate3d(0, -2000px, 0);\n    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1);\n  }\n"])));var up=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];wu=!0;var r=Date.now();return _u.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.1",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_TYooMQauvdEDq54NiTphI7jx"),cp=function(e){var n=p(ru(),2),r=n[0],i=n[1],a=p((0,t.useState)(!1),2),o=a[0],l=a[1],c=p((0,t.useState)(0),2),h=c[0],d=c[1],f=p((0,t.useState)(!1),2),v=f[0],g=f[1],y=p(Jo(pl),1)[0],b=p(Su(au),2),x=b[0],_=b[1],w=_.data,E=_.error,S=Cl(su),T=S.loading,M=S.data,k=S.refetch,A=[];r.cart.forEach((function(e){A.push(e.purchaseQuantity)}));var R,C=A.reduce((function(e,t){return e+t}),0),O=Math.abs(C),I=Cl(cu,{variables:{productInt:O}}),P=I.loading,N=I.data,D=I.refetch;function L(){i({type:jl})}T||(R=null===M||void 0===M?void 0:M.user),o&&(R=""),(0,t.useEffect)((function(){w&&up.then((function(e){e.redirectToCheckout({sessionId:w.checkout.session})}))}),[w]),(0,t.useEffect)((function(){function e(){return e=Xo(Go().mark((function e(){var t;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pu("cart","get");case 2:t=e.sent,i({type:Ll,products:m(t)});case 4:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}r.cart.length||function(){e.apply(this,arguments)}()}),[r.cart.length,i]),(0,t.useEffect)((function(){e.CheckoutPage&&L()}),[]);var U=function(){var e,t=0;!P&&N&&(t=null===(e=N.calcShip)||void 0===e?void 0:e.rate);var n=parseFloat(t),i=0;return r.cart.forEach((function(e){i+=e.price*e.purchaseQuantity})),[n+i,n,i]}();function F(){return j.apply(this,arguments)}function j(){return j=Xo(Go().mark((function t(){var n;return Go().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(wl.isVerified()){t.next=2;break}return t.abrupt("return",alert("Your Account must be verified first."));case 2:if(R.street){t.next=4;break}return t.abrupt("return",alert("Please enter in a shipping address"));case 4:if(!P&&!T){t.next=9;break}return t.next=7,new Promise((function(e){return setTimeout(e,100)}));case 7:t.next=4;break;case 9:n=[],r.cart.forEach((function(e){for(var t=0;t<e.purchaseQuantity;t++)n.push(e._id)})),e.CheckoutPage?(x({variables:{products:n,shipPrice:U[1],points:h}}),g(!0)):window.location.assign("/checkout");case 12:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}var B=function(){R=null,l(!0),document.querySelector(".upShip").style.cssText="display: none"},z=function(e){var t=parseInt(e.target.value),n=parseInt(R.points),r=Math.min(t,n);return e.target.value=r,t/10>U[2].toFixed(2)?alert("\n      You cannot use more points than the subtotals worth. Points are valued at $0.10 per point.  \n      "):t>n?alert("You cannot use more than the ".concat(n," points that you have.")):t<50?alert("Minimum points able to use is 50."):void d(t)};if(!r.cartOpen)return(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{id:"shoppingCart",className:"cart-closed",onClick:L,children:(0,El.jsxs)(lp,{direction:"right",children:[(0,El.jsx)(Hu,{size:23,style:{marginLeft:7,marginTop:3.5,color:"white"}}),(0,El.jsx)("p",{style:{textAlign:"center",position:"relative",top:0,fontSize:10,color:"white"},children:"Cart"})]})})});var V=function(){var n,r,i=p((0,t.useState)({street:"",city:"",state:"",zip:""}),2),a=i[0],o=i[1],c=function(e){var t=e.target,n=t.name,r=t.value;o(u(u({},a),{},s({},n,r)))},h=function(){var e=Xo(Go().mark((function e(t){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.street){e.next=15;break}return e.prev=2,e.next=5,y({variables:{street:a.street,city:a.city,state:a.state,zip:parseInt(a.zip)}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,o({street:"",city:"",state:"",zip:""}),l(!1),k().then((function(){D()})),e.finish(10);case 15:case"end":return e.stop()}}),e,null,[[2,7,10,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,El.jsx)(El.Fragment,{children:wl.loggedIn()&&wl.isVerified()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("hr",{}),(0,El.jsxs)("div",{className:"container",children:["Shipping Address:",null!==(n=R)&&void 0!==n&&n.street?(0,El.jsxs)("div",{children:[(0,El.jsxs)("p",{className:"text-white",children:[R.street," ",(0,El.jsx)("br",{})," ",R.city,", ",R.state," ",R.zip]}),(0,El.jsxs)("button",{className:"upShip text-red-500 opacity-80",onClick:B,children:["Update Shipping Address"," "]}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),null!==(r=R)&&void 0!==r&&r.points&&null!==e&&void 0!==e&&e.CheckoutPage?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("hr",{style:{width:"118%",marginLeft:"-9%"}}),"Point Balance:",(0,El.jsxs)("p",{className:"text-white",children:[" ",R.points," points "]}),"Use"," ",(0,El.jsx)("input",{style:{textAlign:"center",maxWidth:"fit-content"},type:"number",pattern:"^[0-9]+$",label:"points",name:"points",defaultValue:0,max:parseInt(R.points),min:50,onInput:z}),"Points.",(0,El.jsx)("br",{}),(0,El.jsx)("br",{})]}):null]}):(0,El.jsxs)("form",{onSubmit:h,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},className:"container",children:[(0,El.jsx)("input",{className:"formInput",label:"street",name:"street",placeholder:"112 test street, apt 2",value:a.street,onChange:c}),(0,El.jsx)("br",{}),(0,El.jsx)("input",{className:"formInput",label:"city",name:"city",placeholder:"Atlanta",value:a.city,onChange:c}),(0,El.jsx)("br",{}),(0,El.jsx)("input",{className:"formInput",label:"state",name:"state",placeholder:"GA",list:"statesList",autoComplete:"off",value:a.state,onChange:c}),(0,El.jsxs)("datalist",{id:"statesList",children:[(0,El.jsx)("option",{value:"AL",children:"Alabama"}),(0,El.jsx)("option",{value:"AK",children:"Alaska"}),(0,El.jsx)("option",{value:"AZ",children:"Arizona"}),(0,El.jsx)("option",{value:"AR",children:"Arkansas"}),(0,El.jsx)("option",{value:"CA",children:"California"}),(0,El.jsx)("option",{value:"CO",children:"Colorado"}),(0,El.jsx)("option",{value:"CT",children:"Connecticut"}),(0,El.jsx)("option",{value:"DE",children:"Delaware"}),(0,El.jsx)("option",{value:"FL",children:"Florida"}),(0,El.jsx)("option",{value:"GA",children:"Georgia"}),(0,El.jsx)("option",{value:"HI",children:"Hawaii"}),(0,El.jsx)("option",{value:"ID",children:"Idaho"}),(0,El.jsx)("option",{value:"IL",children:"Illinois"}),(0,El.jsx)("option",{value:"IN",children:"Indiana"}),(0,El.jsx)("option",{value:"IA",children:"Iowa"}),(0,El.jsx)("option",{value:"KS",children:"Kansas"}),(0,El.jsx)("option",{value:"KY",children:"Kentucky"}),(0,El.jsx)("option",{value:"LA",children:"Louisiana"}),(0,El.jsx)("option",{value:"ME",children:"Maine"}),(0,El.jsx)("option",{value:"MD",children:"Maryland"}),(0,El.jsx)("option",{value:"MA",children:"Massachusetts"}),(0,El.jsx)("option",{value:"MI",children:"Michigan"}),(0,El.jsx)("option",{value:"MN",children:"Minnesota"}),(0,El.jsx)("option",{value:"MS",children:"Mississippi"}),(0,El.jsx)("option",{value:"MO",children:"Missouri"}),(0,El.jsx)("option",{value:"MT",children:"Montana"}),(0,El.jsx)("option",{value:"NE",children:"Nebraska"}),(0,El.jsx)("option",{value:"NV",children:"Nevada"}),(0,El.jsx)("option",{value:"NH",children:"New Hampshire"}),(0,El.jsx)("option",{value:"NJ",children:"New Jersey"}),(0,El.jsx)("option",{value:"NM",children:"New Mexico"}),(0,El.jsx)("option",{value:"NY",children:"New York"}),(0,El.jsx)("option",{value:"NC",children:"North Carolina"}),(0,El.jsx)("option",{value:"ND",children:"North Dakota"}),(0,El.jsx)("option",{value:"OH",children:"Ohio"}),(0,El.jsx)("option",{value:"OK",children:"Oklahoma"}),(0,El.jsx)("option",{value:"OR",children:"Oregon"}),(0,El.jsx)("option",{value:"PA",children:"Pennsylvania"}),(0,El.jsx)("option",{value:"RI",children:"Rhode Island"}),(0,El.jsx)("option",{value:"SC",children:"South Carolina"}),(0,El.jsx)("option",{value:"SD",children:"South Dakota"}),(0,El.jsx)("option",{value:"TN",children:"Tennessee"}),(0,El.jsx)("option",{value:"TX",children:"Texas"}),(0,El.jsx)("option",{value:"UT",children:"Utah"}),(0,El.jsx)("option",{value:"VT",children:"Vermont"}),(0,El.jsx)("option",{value:"VA",children:"Virginia"}),(0,El.jsx)("option",{value:"WA",children:"Washington"}),(0,El.jsx)("option",{value:"WV",children:"West Virginia"}),(0,El.jsx)("option",{value:"WI",children:"Wisconsin"}),(0,El.jsx)("option",{value:"WY",children:"Wyoming"})]}),(0,El.jsx)("br",{}),(0,El.jsx)("input",{className:"formInput",label:"zip",name:"zip",placeholder:"30345",value:a.zip,onChange:c}),(0,El.jsx)("br",{}),(0,El.jsx)("button",{className:"text-white",onClick:function(){return l(!1)},width:"w-fit",children:"Close"}),(0,El.jsx)("button",{className:"text-red-500 opacity-80",disabled:!a.street||!a.city||!a.state||!a.zip,type:"submit",variant:"success",width:"w-fit",children:"Update"}),(0,El.jsx)("br",{})," ",(0,El.jsx)("br",{})]})]})]}):null})},H=function(){return(0,El.jsxs)("div",{className:"flex-row space-between",children:[(0,El.jsxs)("div",{children:[(0,El.jsxs)("strong",{children:[" Subtotal: $",U[2].toFixed(2)]}),wl.loggedIn()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("br",{}),(0,El.jsxs)("strong",{children:[" Shipping: $",U[1].toFixed(2)]}),(0,El.jsx)("br",{}),(0,El.jsxs)("strong",{children:[" Total: $",U[0].toFixed(2)]}),(0,El.jsx)("br",{}),E?(0,El.jsx)("div",{children:(0,El.jsx)("p",{className:"error-text",children:E.message})}):null]}):null]}),wl.loggedIn()?(0,El.jsx)(El.Fragment,{children:v&&!E?(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)("div",{children:[(0,El.jsx)("p",{children:" Loading Cart "}),(0,El.jsxs)("div",{className:"lds-ring",children:[(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{})]})]})}):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("button",{className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 bg-opacity-70 text-white h-15 mt-2",onClick:F,children:"Checkout"})})}):(0,El.jsxs)("a",{className:"text-white",href:"/login",children:[" ","(log in to check out)"," "]})]})};return e.CheckoutPage?(0,El.jsxs)("div",{id:"shoppingCart",children:[(0,El.jsx)("h2",{className:"text-center",children:"Shopping Cart"}),(0,El.jsx)("br",{}),r.cart.length?(0,El.jsxs)("div",{children:[" ",(0,El.jsx)("div",{style:{maxWidth:500},children:r.cart.map((function(e){return(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)(Pu,{item:e},e._id),(0,El.jsx)("br",{})]})}))}),(0,El.jsx)("br",{}),(0,El.jsx)(V,{}),(0,El.jsx)("hr",{}),(0,El.jsx)(H,{})]}):(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("h3",{children:"You dont have anything in your cart yet!"}),(0,El.jsx)("br",{})]})]}):(0,El.jsxs)("div",{className:"cart",id:"shoppingCart",children:[(0,El.jsx)("div",{className:"close",onClick:L,children:"[close]"}),(0,El.jsx)("h2",{children:" Shopping Cart "}),(0,El.jsx)("br",{}),r.cart.length?(0,El.jsxs)("div",{children:[r.cart.map((function(e){return(0,El.jsx)(Pu,{item:e},e._id)})),(0,El.jsx)("br",{}),(0,El.jsx)(V,{}),(0,El.jsx)("hr",{}),(0,El.jsx)(H,{})]}):(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("h3",{children:"You dont have anything in your cart yet!"}),(0,El.jsx)("br",{})]})]})},hp=function(){return(0,El.jsxs)("div",{className:" min-h-[75vh] w-full text-gray-700 py-10  bg-white bg-opacity-10",style:{boxShadow:"0 0 1rem rgba(225, 225, 225, 0.214)"},children:[(0,El.jsxs)("div",{className:"container mx-auto px-4 md:px-6 grid md:grid-cols-3 gap-20",children:[(0,El.jsxs)("div",{className:"md:col-span-2 ml-5",children:[(0,El.jsx)("h3",{className:" font-semibold uppercase mb-4",children:"Paradise Hemp Dispensary"}),(0,El.jsx)("p",{style:{maxWidth:"90%"},children:"Welcome to Paradise Hemp and Smoke! We are a one-stop shop for all your Smoking, Vaping, CBD, Hookah, and Delta 8 needs. We carry a multitude of products that range from Water Pipes, Delta 8, Vapes, E-Liquid, Coils, CBD, Hookahs, Shisha, and much more. We have a great rewards point system that offers 10% cashback. Visit any of our three locations in Stockbridge, Sandy Springs, and Hapeville (right by Hartsfield-Jackson Atlanta International Airport). Our friendly, experienced staff is here to assist you with all of your vaping needs. We strive to give you a personalized experience you can't find anywhere else. Whether you are new to the vaping community or an experienced vape user, Sam's Paradise Vape & Smoke is the shop for you. See you soon!"})]}),(0,El.jsxs)("div",{className:"ml-5",children:[(0,El.jsx)("h3",{className:" font-semibold uppercase mb-4",children:"Footer Menu"}),(0,El.jsxs)("ul",{className:"space-y-4",children:[(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{to:"/terms",children:(0,El.jsx)("p",{children:"Terms Of Use"})})}),(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{to:"/privacyPolicy",children:(0,El.jsx)("p",{children:"Privacy Policy"})})}),(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{to:"/contact",children:(0,El.jsx)("p",{children:"Contact Us"})})}),(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{to:"/PointsPolicy",children:(0,El.jsx)("p",{children:"Points Policy"})})}),(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{to:"/lithiumIonBatWarn",children:(0,El.jsx)("p",{children:"Lithium Ion Battery Warning"})})}),(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{to:"/labRes",children:(0,El.jsx)("p",{children:"Lab Results / COA"})})})]})]})]}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{className:"text-center mt-10",children:"All Rights Reserved to @Paradise Hemp Dispensary."}),(0,El.jsxs)("div",{className:"text-center mt-4",children:[(0,El.jsx)(Ye,{className:"inline-block",to:"https://www.facebook.com/",target:"_blank",children:(0,El.jsx)(Lu,{size:30})}),(0,El.jsx)(Ye,{className:"inline-block",to:"https://www.instagram.com/",target:"_blank",children:(0,El.jsx)(Uu,{size:30})}),(0,El.jsx)(Ye,{className:"inline-block",to:"https://www.twitter.com/",target:"_blank",children:(0,El.jsx)(Wu,{size:30})})]})]})},dp=function(){function e(){g(this,e)}return b(e,[{key:"checkTokens",value:function(){var e=localStorage.getItem("id_token"),t=localStorage.getItem("agree_token");wl.isTokenExpired(e),wl.isAgreementValid(t)}}]),e}(),fp=new dp,pp=function(){(0,t.useEffect)((function(){window.scrollTo(0,0)}),[])},vp=function(){return(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)("div",{className:"container mx-auto",children:[(0,El.jsx)("h3",{className:"text-center text-uppercase py-2",style:{textTransform:"uppercase"},children:"Promotions"}),(0,El.jsxs)("div",{className:"container  bg-white bg-opacity-10 borderwrap",children:[(0,El.jsx)("br",{}),(0,El.jsxs)("p",{className:"text-center ",style:{display:"flex",justifyContent:"center",flexWrap:"wrap",maxWidth:"750px",marginBottom:"10px",padding:"15px",fontSize:15},children:[(0,El.jsx)("br",{}),"You can accumulate points at a rate of 1 point per dollar spent to the subtotal of the order. These points will be securely saved to your account, providing you with the flexibility to redeem them at your convenience. However, please note that points are not accrued on purchases that utilize points. It is important to remember that once points are redeemed, they are non-refundable. Points are only valid at Paradise Hemp and cannot be exchanged for legal tender. Start earning and using your points to enhance your shopping experience with us!"]}),(0,El.jsx)("br",{}),(0,El.jsxs)("em",{className:"py-2 px-2",style:{fontSize:13},children:["For more info visit our points policy by clicking",(0,El.jsxs)(Ye,{className:"text-red-500 opacity-80",to:"/pointspolicy",children:[" ","Here"]})]}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{})]})]})})},mp=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),gp="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,yp="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),bp="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(yp):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var xp=["top","right","bottom","left","width","height","size","weight"],_p="undefined"!==typeof MutationObserver,wp=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){bp(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){gp&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_p?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){gp&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;xp.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Ep=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Sp=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||yp},Tp=Op(0,0,0,0);function Mp(e){return parseFloat(e)||0}function kp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Mp(e["border-"+n+"-width"])}),0)}function Ap(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Tp;var r=Sp(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=Mp(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=Mp(r.width),l=Mp(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=kp(r,"left","right")+a),Math.round(l+o)!==n&&(l-=kp(r,"top","bottom")+o)),!function(e){return e===Sp(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return Op(i.left,i.top,s,l)}var Rp="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Sp(e).SVGGraphicsElement}:function(e){return e instanceof Sp(e).SVGElement&&"function"===typeof e.getBBox};function Cp(e){return gp?Rp(e)?function(e){var t=e.getBBox();return Op(0,0,t.width,t.height)}(e):Ap(e):Tp}function Op(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Ip=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Op(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Cp(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Pp=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return Ep(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);Ep(this,{target:e,contentRect:n})},Np=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new mp,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Sp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ip(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Sp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Pp(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Dp="undefined"!==typeof WeakMap?new WeakMap:new mp,Lp=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=wp.getInstance(),r=new Np(t,n,this);Dp.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Lp.prototype[e]=function(){var t;return(t=Dp.get(this))[e].apply(t,arguments)}}));var Up="undefined"!==typeof yp.ResizeObserver?yp.ResizeObserver:Lp,Fp={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Fp.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Fp.Bounce.In(2*e):.5*Fp.Bounce.Out(2*e-1)+.5}}},jp="undefined"===typeof self&&"undefined"!==typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},Bp=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=jp()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],a=!t;i&&!1===i.update(e,a)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),zp={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=zp.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,a=zp.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*a(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=zp.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),a(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=zp.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var a=.5*(n-e),o=.5*(r-t),s=i*i;return(2*t-2*n+a+o)*(i*s)+(-3*t+3*n-2*a-o)*s+a*i+t}}},Vp=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Hp=new Bp,Wp=function(){function e(e,t){void 0===t&&(t=Hp),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Fp.Linear.None,this._interpolationFunction=zp.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Vp.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"===typeof e?jp()+parseFloat(e):e:jp(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,n,r){for(var i in n){var a=e[i],o=Array.isArray(a),s=o?"array":typeof a,l=!o&&Array.isArray(n[i]);if("undefined"!==s&&"function"!==s){if(l){var u=n[i];if(0===u.length)continue;u=u.map(this._handleRelativeValue.bind(this,a)),n[i]=[a].concat(u)}if("object"!==s&&!o||!a||l)"undefined"===typeof t[i]&&(t[i]=a),o||(t[i]*=1),r[i]=l?n[i].slice().reverse():t[i]||0;else{for(var c in t[i]=o?[]:{},a)t[i][c]=a[c];r[i]=o?[]:{},this._setupProperties(a,t[i],n[i],r[i])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=jp()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=jp()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=jp()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var a=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,s=this._chainedTweens.length;o<s;o++)this._chainedTweens[o].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var a=t[i]||0,o=n[i],s=Array.isArray(e[i]),l=Array.isArray(o);!s&&l?e[i]=this._interpolationFunction(o,r):"object"===typeof o&&o?this._updateProperties(e[i],a,o,r):"number"===typeof(o=this._handleRelativeValue(a,o))&&(e[i]=a+(o-a)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),Gp=(Vp.nextId,Hp);Gp.getAll.bind(Gp),Gp.removeAll.bind(Gp),Gp.add.bind(Gp),Gp.remove.bind(Gp),Gp.update.bind(Gp);function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qp.apply(this,arguments)}var Xp=function(e,n){return n&&n<t.Children.count(e)?n:0},Yp={linear:Fp.Linear.None,ease:Fp.Quadratic.InOut,"ease-in":Fp.Quadratic.In,"ease-out":Fp.Quadratic.Out,cubic:Fp.Cubic.InOut,"cubic-in":Fp.Cubic.In,"cubic-out":Fp.Cubic.Out},Qp=function(e){return e?Yp[e]:Yp.linear},Kp=function(e,n,r){var i=e.prevArrow,a=e.infinite,o=n<=0&&!a,s={"data-type":"prev","aria-label":"Previous Slide",disabled:o,onClick:r};if(i)return t.cloneElement(i,qp({className:(i.props.className||"")+" nav "+(o?"disabled":"")},s));var l="nav default-nav "+(o?"disabled":"");return t.createElement("button",Object.assign({type:"button",className:l},s),t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})))},$p=function(e,n,r){var i=e.nextArrow,a=e.infinite,o=e.children,s=1;"slidesToScroll"in e&&(s=e.slidesToScroll||1);var l=n>=t.Children.count(o)-s&&!a,u={"data-type":"next","aria-label":"Next Slide",disabled:l,onClick:r};if(i)return t.cloneElement(i,qp({className:(i.props.className||"")+" nav "+(l?"disabled":"")},u));var c="nav default-nav "+(l?"disabled":"");return t.createElement("button",Object.assign({type:"button",className:c},u),t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})))},Jp=function(e,n,r,i){var a=e.children,o=e.indicators,s=1;i?s=null==i?void 0:i.settings.slidesToScroll:"slidesToScroll"in e&&(s=e.slidesToScroll||1);var l=Math.ceil(t.Children.count(a)/s);return t.createElement("ul",{className:"indicators"},Array.from({length:l},(function(e,i){var a={"data-key":i,"aria-label":"Go to slide "+(i+1),onClick:r},l=Math.floor((n+s-1)/s)===i;return"function"===typeof o?function(e,n,r,i){return t.cloneElement(i,qp({className:i.props.className+" "+(e?"active":""),key:n},r))}(l,i,a,o(i)):function(e,n,r){return t.createElement("li",{key:n},t.createElement("button",Object.assign({type:"button",className:"each-slideshow-indicator "+(e?"active":"")},r)))}(l,i,a)})))},Zp={duration:5e3,transitionDuration:1e3,defaultIndex:0,infinite:!0,autoplay:!0,indicators:!1,arrows:!0,pauseOnHover:!0,easing:"linear",canSwipe:!0,cssClass:"",responsive:[]},ev=t.forwardRef((function(e,n){var r=(0,t.useState)(Xp(e.children,e.defaultIndex)),i=r[0],a=r[1],o=(0,t.useRef)(null),s=(0,t.useRef)(null),l=(0,t.useRef)(new Bp),u=(0,t.useRef)(),c=(0,t.useRef)(),h=(0,t.useMemo)((function(){return t.Children.count(e.children)}),[e.children]),d=(0,t.useCallback)((function(){if(s.current&&o.current){var e=o.current.clientWidth,t=e*h;s.current.style.width=t+"px";for(var n=0;n<s.current.children.length;n++){var r=s.current.children[n];r&&(r.style.width=e+"px",r.style.left=n*-e+"px",r.style.display="block")}}}),[o,s,h]),f=(0,t.useCallback)((function(){o.current&&(c.current=new Up((function(e){e&&d()})),c.current.observe(o.current))}),[o,d]),p=(0,t.useCallback)((function(){var n=e.autoplay,r=e.children,a=e.duration,o=e.infinite;n&&t.Children.count(r)>1&&(o||i<t.Children.count(r)-1)&&(u.current=setTimeout(g,a))}),[e,i]);(0,t.useEffect)((function(){return f(),function(){l.current.removeAll(),clearTimeout(u.current),v()}}),[f,l]),(0,t.useEffect)((function(){clearTimeout(u.current),p()}),[i,e.autoplay,p]),(0,t.useEffect)((function(){d()}),[h,d]),(0,t.useImperativeHandle)(n,(function(){return{goNext:function(){g()},goBack:function(){y()},goTo:function(e,t){null!=t&&t.skipTransition?a(e):w(e)}}}));var v=function(){c.current&&o.current&&c.current.unobserve(o.current)},m=function(){e.pauseOnHover&&clearTimeout(u.current)},g=function(){var n=e.children;(e.infinite||i!==t.Children.count(n)-1)&&_((i+1)%t.Children.count(n))},y=function(){var n=e.children;(e.infinite||0!==i)&&_(0===i?t.Children.count(n)-1:i-1)},b=function(e){"prev"===e.currentTarget.dataset.type?y():g()},x=function e(){requestAnimationFrame(e),l.current.update()},_=function(t){if(!l.current.getAll().length){var n;null!=(n=s.current)&&n.children[t]||(t=0),clearTimeout(u.current);x();var r=new Wp({opacity:0,scale:1},l.current).to({opacity:1,scale:e.scale},e.transitionDuration).onUpdate((function(e){s.current&&(s.current.children[t].style.opacity=e.opacity,s.current.children[i].style.opacity=1-e.opacity,s.current.children[i].style.transform="scale("+e.scale+")")}));r.easing(Qp(e.easing)),r.onStart((function(){"function"===typeof e.onStartChange&&e.onStartChange(i,t)})),r.onComplete((function(){s.current&&(a(t),s.current.children[i].style.transform="scale(1)"),"function"===typeof e.onChange&&e.onChange(i,t)})),r.start()}},w=function(e){e!==i&&_(e)};return t.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},t.createElement("div",{className:"react-slideshow-container "+(e.cssClass||""),onMouseEnter:m,onMouseOver:m,onMouseLeave:function(){var t=e.pauseOnHover,n=e.autoplay,r=e.duration;t&&n&&(u.current=setTimeout((function(){return g()}),r))}},e.arrows&&Kp(e,i,b),t.createElement("div",{className:"react-slideshow-fadezoom-wrapper "+e.cssClass,ref:o},t.createElement("div",{className:"react-slideshow-fadezoom-images-wrap",ref:s},(t.Children.map(e.children,(function(e){return e}))||[]).map((function(e,n){return t.createElement("div",{style:{opacity:n===i?"1":"0",zIndex:n===i?"1":"0"},"data-index":n,key:n,"aria-roledescription":"slide","aria-hidden":n===i?"false":"true"},e)})))),e.arrows&&$p(e,i,b)),e.indicators&&Jp(e,i,(function(e){var t=e.currentTarget;t.dataset.key&&parseInt(t.dataset.key)!==i&&w(parseInt(t.dataset.key))})))}));ev.defaultProps=Zp;var tv=t.forwardRef((function(e,n){return t.createElement(ev,Object.assign({},e,{scale:1,ref:n}))}));tv.defaultProps=Zp;var nv=t.forwardRef((function(e,n){return t.createElement(ev,Object.assign({},e,{ref:n}))}));nv.defaultProps=Zp;var rv=t.forwardRef((function(e,n){var r,i=(0,t.useState)(Xp(e.children,e.defaultIndex)),a=i[0],o=i[1],s=(0,t.useState)(0),l=s[0],u=s[1],c=(0,t.useRef)(null),h=(0,t.useRef)(null),d=(0,t.useRef)(new Bp),f=(0,t.useMemo)((function(){return function(e,t){if("undefined"!==typeof window&&Array.isArray(t))return t.find((function(t){return t.breakpoint<=e}))}(l,e.responsive)}),[l,e.responsive]),p=(0,t.useMemo)((function(){return f?f.settings.slidesToScroll:e.slidesToScroll||1}),[f,e.slidesToScroll]),v=(0,t.useMemo)((function(){return f?f.settings.slidesToShow:e.slidesToShow||1}),[f,e.slidesToShow]),m=(0,t.useMemo)((function(){return t.Children.count(e.children)}),[e.children]),g=(0,t.useMemo)((function(){return l/v}),[l,v]),y=(0,t.useRef)(),b=(0,t.useRef)(),x=!1,_=0,w=(0,t.useCallback)((function(){if(h.current){var e=l*h.current.children.length;h.current.style.width=e+"px";for(var t=0;t<h.current.children.length;t++){var n=h.current.children[t];n&&(n.style.width=g+"px",n.style.display="block")}}}),[l,g]),E=(0,t.useCallback)((function(){c.current&&(b.current=new Up((function(e){e&&P()})),b.current.observe(c.current))}),[c]),S=(0,t.useCallback)((function(){var t=e.autoplay,n=e.infinite,r=e.duration;t&&(n||a<m-1)&&(y.current=setTimeout(A,r))}),[e,m,a]);(0,t.useEffect)((function(){w()}),[l,w]),(0,t.useEffect)((function(){return E(),function(){d.current.removeAll(),clearTimeout(y.current),T()}}),[c,E,d]),(0,t.useEffect)((function(){clearTimeout(y.current),S()}),[a,l,e.autoplay,S]),(0,t.useImperativeHandle)(n,(function(){return{goNext:function(){A()},goBack:function(){R()},goTo:function(e,t){null!=t&&t.skipTransition?o(e):C(e)}}}));var T=function(){b&&c.current&&b.current.unobserve(c.current)},M=function(){e.pauseOnHover&&clearTimeout(y.current)},k=function(t){var n;if(e.canSwipe&&x&&(window.TouchEvent&&t.nativeEvent instanceof TouchEvent?n=t.nativeEvent.touches[0].pageX:t.nativeEvent instanceof MouseEvent&&(n=t.nativeEvent.clientX),n&&r)){var i=g*(a+F()),o=n-r;if(!e.infinite&&a===m-p&&o<0)return;if(!e.infinite&&0===a&&o>0)return;i-=_=o,h.current.style.transform="translate(-"+i+"px)"}},A=function(){if(e.infinite||a!==m-p){var t=O(a+p);U(t)}},R=function(){if(e.infinite||0!==a){var t=a-p;t%p&&(t=Math.ceil(t/p)*p),U(t)}},C=function(e){U(O(e))},O=function(e){return e<m&&e+p>m&&(m-p)%p?m-p:e},I=function(e){"next"===e.currentTarget.dataset.type?A():R()},P=function(){c.current&&u(c.current.clientWidth)},N=function(t){e.canSwipe&&(window.TouchEvent&&t.nativeEvent instanceof TouchEvent?r=t.nativeEvent.touches[0].pageX:t.nativeEvent instanceof MouseEvent&&(r=t.nativeEvent.clientX),clearTimeout(y.current),x=!0)},D=function(){e.canSwipe&&(x=!1,Math.abs(_)/l>.2?_<0?A():R():Math.abs(_)>0&&U(a,300))},L=function e(){requestAnimationFrame(e),d.current.update()},U=function(t,n){var r=n||e.transitionDuration,i=a,s=d.current.getAll();if(c.current){var l=c.current.clientWidth/v;if(!s.length){clearTimeout(y.current);var u={margin:-l*(i+F())+_},f=new Wp(u,d.current).to({margin:-l*(t+F())},r).onUpdate((function(e){h.current&&(h.current.style.transform="translate("+e.margin+"px)")}));f.easing(Qp(e.easing)),L();var g=t;g<0?g=m-p:g>=m&&(g=0),f.onStart((function(){"function"===typeof e.onStartChange&&e.onStartChange(a,g)})),f.onComplete((function(){_=0,"function"===typeof e.onChange&&e.onChange(a,g),o(g)})),f.start()}}},F=function(){return e.infinite?v:0},j={transform:"translate(-"+(a+F())*g+"px)"};return t.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},t.createElement("div",{className:"react-slideshow-container",onMouseEnter:M,onMouseOver:M,onMouseLeave:function(){x?D():e.pauseOnHover&&e.autoplay&&(y.current=setTimeout(A,e.duration))},onMouseDown:N,onMouseUp:D,onMouseMove:k,onTouchStart:N,onTouchEnd:D,onTouchCancel:D,onTouchMove:k},e.arrows&&Kp(e,a,I),t.createElement("div",{className:"react-slideshow-wrapper slide "+(e.cssClass||""),ref:c},t.createElement("div",{className:"images-wrap",style:j,ref:h},e.infinite&&t.Children.toArray(e.children).slice(-v).map((function(e,n){return t.createElement("div",{"data-index":n-v,"aria-roledescription":"slide","aria-hidden":"true",key:n-v},e)})),(t.Children.map(e.children,(function(e){return e}))||[]).map((function(e,n){var r=function(e){return e<a+v&&e>=a}(n);return t.createElement("div",{"data-index":n,key:n,className:r?"active":"","aria-roledescription":"slide","aria-hidden":r?"false":"true"},e)})),function(){if(e.infinite||v!==p)return t.Children.toArray(e.children).slice(0,v).map((function(e,n){return t.createElement("div",{"data-index":m+n,"aria-roledescription":"slide","aria-hidden":"true",key:m+n},e)}))}())),e.arrows&&$p(e,a,I)),e.indicators&&Jp(e,a,(function(e){var t=e.currentTarget;if(t.dataset.key){var n=parseInt(t.dataset.key);C(n*p)}}),f))}));rv.defaultProps=Zp;var iv=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,h=(3&a)<<4|s>>4,d=(15&s)<<2|u>>6,f=63&u;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(iv(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],l=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&l)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==l)throw new ov;var u=a<<2|o>>4;if(r.push(u),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==l){var h=s<<6&192|l;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ov=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return b(n)}(k(Error)),sv=function(e){return function(e){var t=iv(e);return av.encodeByteArray(t,!0)}(e).replace(/\./g,"")},lv=function(e){try{return av.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var uv=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},cv=function(){try{return uv()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FB_API:"AIzaSyBwPpi8YVw9jfJ5oTIcb8pKGXGEzP1oax8",REACT_APP_FB_DOMAIN:"paradise-hemp-imgbucket.firebaseapp.com",REACT_APP_FB_URL:"https://paradise-hemp-imgbucket-default-rtdb.firebaseio.com",REACT_APP_FB_PID:"paradise-hemp-imgbucket",REACT_APP_FB_SB:"paradise-hemp-imgbucket.appspot.com",REACT_APP_FB_MS:"224439582538",REACT_APP_FB_AID:"1:224439582538:web:e6604abb40b81067574bb3",REACT_APP_STRIPE_CLIENT_API:"pk_test_TYooMQauvdEDq54NiTphI7jx"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&lv(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},hv=function(e){var t=function(e){var t,n;return null===(n=null===(t=cv())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},dv=function(){var e;return null===(e=cv())||void 0===e?void 0:e.config},fv=function(){function e(){var t=this;g(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return b(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pv(){var e,t=null===(e=cv())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function vv(){try{return"object"===typeof indexedDB}catch(e){return!1}}var mv=function(e){_(n,e);var t=T(n);function n(e,r,i){var a;return g(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(S(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(S(a),gv.prototype.create),a}return b(n)}(k(Error)),gv=function(){function e(t,n,r){g(this,e),this.service=t,this.serviceName=n,this.errors=r}return b(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(yv,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new mv(n,a,t)}}]),e}();var yv=/\{\$([^}]+)}/g;function bv(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],l=t[o];if(xv(s)&&xv(l)){if(!bv(s,l))return!1}else if(s!==l)return!1}for(var u=0,c=r;u<c.length;u++){var h=c[u];if(!n.includes(h))return!1}return!0}function xv(e){return null!==e&&"object"===typeof e}function _v(e){return e&&e._delegate?e._delegate:e}var wv=function(){function e(t,n,r){g(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return b(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ev="[DEFAULT]",Sv=function(){function e(t,n){g(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return b(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new fv;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ev})}catch(l){}var t,n=A(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=p(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(l){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ev;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Xo(Go().mark((function e(){var t;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(m(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),m(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ev;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ev;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=A(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=p(i.value,2),l=s[0],u=s[1];r===this.normalizeInstanceIdentifier(l)&&u.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(at){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Tv(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(at){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ev;return this.component?this.component.multipleInstances?e:Ev:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Tv(e){return e===Ev?void 0:e}var Mv,kv,Av=function(){function e(t){g(this,e),this.name=t,this.providers=new Map}return b(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Sv(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Rv=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kv||(kv={}));var Cv={debug:kv.DEBUG,verbose:kv.VERBOSE,info:kv.INFO,warn:kv.WARN,error:kv.ERROR,silent:kv.SILENT},Ov=kv.INFO,Iv=(s(Mv={},kv.DEBUG,"log"),s(Mv,kv.VERBOSE,"log"),s(Mv,kv.INFO,"info"),s(Mv,kv.WARN,"warn"),s(Mv,kv.ERROR,"error"),Mv),Pv=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Iv[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Nv=function(){function e(t){g(this,e),this.name=t,this._logLevel=Ov,this._logHandler=Pv,this._userLogHandler=null,Rv.push(this)}return b(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in kv))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Cv[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kv.DEBUG].concat(t)),this._logHandler.apply(this,[this,kv.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kv.VERBOSE].concat(t)),this._logHandler.apply(this,[this,kv.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kv.INFO].concat(t)),this._logHandler.apply(this,[this,kv.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kv.WARN].concat(t)),this._logHandler.apply(this,[this,kv.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kv.ERROR].concat(t)),this._logHandler.apply(this,[this,kv.ERROR].concat(t))}}]),e}();var Dv,Lv,Uv=function(e,t){return t.some((function(t){return e instanceof t}))};var Fv=new WeakMap,jv=new WeakMap,Bv=new WeakMap,zv=new WeakMap,Vv=new WeakMap;var Hv={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return jv.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Bv.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qv(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Wv(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Xv(this),n),qv(Fv.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qv(e.apply(Xv(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Xv(this),t].concat(r));return Bv.set(a,t.sort?t.sort():[t]),qv(a)}}function Gv(e){return"function"===typeof e?Wv(e):(e instanceof IDBTransaction&&function(e){if(!jv.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));jv.set(e,t)}}(e),Uv(e,Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Hv):e)}function qv(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(qv(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Fv.set(t,e)})).catch((function(){})),Vv.set(t,e),t}(e);if(zv.has(e))return zv.get(e);var t=Gv(e);return t!==e&&(zv.set(e,t),Vv.set(t,e)),t}var Xv=function(e){return Vv.get(e)};var Yv,Qv,Kv=["get","getKey","getAll","getAllKeys","count"],$v=["put","add","delete","clear"],Jv=new Map;function Zv(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Jv.get(t))return Jv.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=$v.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Kv.includes(n))){var a=function(){var e=Xo(Go().mark((function e(t){var a,o,s,l,u,c,h=arguments;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,l=h.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=h[c];return r&&(s=s.index(u.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,u),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Jv.set(t,a),a}}}!function(e){Hv=e(Hv)}((function(e){return u(u({},e),{},{get:function(t,n,r){return Zv(t,n)||e.get(t,n,r)},has:function(t,n){return!!Zv(t,n)||e.has(t,n)}})}));var em=function(){function e(t){g(this,e),this.container=t}return b(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var tm="@firebase/app",nm="0.9.15",rm=new Nv("@firebase/app"),im="[DEFAULT]",am=(s(Yv={},tm,"fire-core"),s(Yv,"@firebase/app-compat","fire-core-compat"),s(Yv,"@firebase/analytics","fire-analytics"),s(Yv,"@firebase/analytics-compat","fire-analytics-compat"),s(Yv,"@firebase/app-check","fire-app-check"),s(Yv,"@firebase/app-check-compat","fire-app-check-compat"),s(Yv,"@firebase/auth","fire-auth"),s(Yv,"@firebase/auth-compat","fire-auth-compat"),s(Yv,"@firebase/database","fire-rtdb"),s(Yv,"@firebase/database-compat","fire-rtdb-compat"),s(Yv,"@firebase/functions","fire-fn"),s(Yv,"@firebase/functions-compat","fire-fn-compat"),s(Yv,"@firebase/installations","fire-iid"),s(Yv,"@firebase/installations-compat","fire-iid-compat"),s(Yv,"@firebase/messaging","fire-fcm"),s(Yv,"@firebase/messaging-compat","fire-fcm-compat"),s(Yv,"@firebase/performance","fire-perf"),s(Yv,"@firebase/performance-compat","fire-perf-compat"),s(Yv,"@firebase/remote-config","fire-rc"),s(Yv,"@firebase/remote-config-compat","fire-rc-compat"),s(Yv,"@firebase/storage","fire-gcs"),s(Yv,"@firebase/storage-compat","fire-gcs-compat"),s(Yv,"@firebase/firestore","fire-fst"),s(Yv,"@firebase/firestore-compat","fire-fst-compat"),s(Yv,"fire-js","fire-js"),s(Yv,"firebase","fire-js-all"),Yv),om=new Map,sm=new Map;function lm(e,t){try{e.container.addComponent(t)}catch(n){rm.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function um(e){var t=e.name;if(sm.has(t))return rm.debug("There were multiple attempts to register component ".concat(t,".")),!1;sm.set(t,e);var n,r=A(om.values());try{for(r.s();!(n=r.n()).done;){lm(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function cm(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var hm=(s(Qv={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),s(Qv,"bad-app-name","Illegal App name: '{$appName}"),s(Qv,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),s(Qv,"app-deleted","Firebase App named '{$appName}' already deleted"),s(Qv,"no-options","Need to provide options, when not being deployed to hosting via source."),s(Qv,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),s(Qv,"invalid-log-argument","First argument to `onLog` must be null or a function."),s(Qv,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),s(Qv,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),s(Qv,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),s(Qv,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Qv),dm=new gv("app","Firebase",hm),fm=function(){function e(t,n,r){var i=this;g(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wv("app",(function(){return i}),"PUBLIC"))}return b(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw dm.create("app-deleted",{appName:this._name})}}]),e}(),pm="10.1.0";function vm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:im,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw dm.create("bad-app-name",{appName:String(i)});if(n||(n=dv()),!n)throw dm.create("no-options");var a=om.get(i);if(a){if(bv(n,a.options)&&bv(r,a.config))return a;throw dm.create("duplicate-app",{appName:i})}var o,s=new Av(i),l=A(sm.values());try{for(l.s();!(o=l.n()).done;){var u=o.value;s.addComponent(u)}}catch(h){l.e(h)}finally{l.f()}var c=new fm(n,r,s);return om.set(i,c),c}function mm(e,t,n){var r,i=null!==(r=am[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void rm.warn(s.join(" "))}um(new wv("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var gm="firebase-heartbeat-database",ym=1,bm="firebase-heartbeat-store",xm=null;function _m(){return xm||(xm=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),l=qv(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(qv(s.result),e.oldVersion,e.newVersion,qv(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),l.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),l}(gm,ym,{upgrade:function(e,t){if(0===t)e.createObjectStore(bm)}}).catch((function(e){throw dm.create("idb-open",{originalErrorMessage:e.message})}))),xm}function wm(e){return Em.apply(this,arguments)}function Em(){return Em=Xo(Go().mark((function e(t){var n,r,i;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_m();case 3:return n=e.sent,e.next=6,n.transaction(bm).objectStore(bm).get(Mm(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof mv?rm.warn(e.t0.message):(i=dm.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),rm.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Em.apply(this,arguments)}function Sm(e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=Xo(Go().mark((function e(t,n){var r,i,a,o;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_m();case 3:return r=e.sent,i=r.transaction(bm,"readwrite"),a=i.objectStore(bm),e.next=8,a.put(n,Mm(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof mv?rm.warn(e.t0.message):(o=dm.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),rm.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Tm.apply(this,arguments)}function Mm(e){return"".concat(e.name,"!").concat(e.options.appId)}var km=function(){function e(t){var n=this;g(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Om(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return b(e,[{key:"triggerHeartbeat",value:function(){var e=Xo(Go().mark((function e(){var t,n,r;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Am(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Xo(Go().mark((function e(){var t,n,r,i,a;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Am(),n=Rm(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=sv(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Am(){return(new Date).toISOString().substring(0,10)}function Rm(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=A(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Im(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Im(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Cm,Om=function(){function e(t){g(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return b(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Xo(Go().mark((function e(){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vv()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Xo(Go().mark((function e(){var t;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,wm(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Xo(Go().mark((function e(t){var n,r;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Sm(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Xo(Go().mark((function e(t){var n,r;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Sm(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(m(r.heartbeats),m(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Im(e){return sv(JSON.stringify({version:2,heartbeats:e})).length}Cm="",um(new wv("platform-logger",(function(e){return new em(e)}),"PRIVATE")),um(new wv("heartbeat",(function(e){return new km(e)}),"PRIVATE")),mm(tm,nm,Cm),mm(tm,nm,"esm2017"),mm("fire-js","");mm("firebase","10.1.0","app");var Pm,Nm="firebasestorage.googleapis.com",Dm="storageBucket",Lm=function(e){_(n,e);var t=T(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return g(this,n),(i=t.call(this,Um(e),"Firebase Storage: ".concat(r," (").concat(Um(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(S(i),n.prototype),i}return b(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Um(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(mv);function Um(e){return"storage/"+e}function Fm(){return new Lm(Pm.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function jm(){return new Lm(Pm.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Bm(){return new Lm(Pm.CANCELED,"User canceled the upload/download.")}function zm(){return new Lm(Pm.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Vm(e){return new Lm(Pm.INVALID_ARGUMENT,e)}function Hm(){return new Lm(Pm.APP_DELETED,"The Firebase app was deleted.")}function Wm(e,t){return new Lm(Pm.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Gm(e){throw new Lm(Pm.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Pm||(Pm={}));var qm,Xm=function(){function e(t,n){g(this,e),this.bucket=t,this.path_=n}return b(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new Lm(Pm.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),l=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Nm?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<l.length;u++){var c=l[u],h=c.regex.exec(t);if(h){var d=h[c.indices.bucket],f=h[c.indices.path];f||(f=""),r=new e(d,f),c.postModify(r);break}}if(null==r)throw function(e){return new Lm(Pm.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Ym=function(){function e(t){g(this,e),this.promise_=Promise.reject(t)}return b(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Qm(e){return"string"===typeof e||e instanceof String}function Km(e){return $m()&&e instanceof Blob}function $m(){return"undefined"!==typeof Blob&&!pv()}function Jm(e,t,n,r){if(r<t)throw Vm("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Vm("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Zm(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function eg(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function tg(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(qm||(qm={}));var ng=function(){function e(t,n,r,i,a,o,s,l,u,c,h){var d=this,f=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];g(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return b(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());void 0!==o?r(o):r()}catch(l){i(l)}else if(null!==a){var s=Fm();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Hm():Bm());else i(jm())}};this.canceled_?t(0,new rg(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function l(){return 2===s}var u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((function(){i=null,e(f,l())}),t)}function d(){a&&clearTimeout(a)}function f(e){if(u)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call.apply(c,[null,e].concat(n));var a;if(l()||o)return d(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}}var p=!1;function v(e){p||(p=!0,d(),u||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new rg(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===qm.NO_ERROR,a=r.getStatus();if(!n||tg(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===qm.ABORT;t(!1,new rg(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new rg(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),rg=b((function e(t,n,r){g(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function ig(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ag(){for(var e=ig(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if($m())return new Blob(n);throw new Lm(Pm.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function og(e){if("undefined"===typeof atob)throw t="base-64",new Lm(Pm.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var sg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lg=b((function e(t,n){g(this,e),this.data=t,this.contentType=n||null}));function ug(e,t){switch(e){case sg.RAW:return new lg(cg(t));case sg.BASE64:case sg.BASE64URL:return new lg(hg(e,t));case sg.DATA_URL:return new lg(function(e){var t=new dg(e);return t.base64?hg(sg.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Wm(sg.DATA_URL,"Malformed data URL.")}return cg(t)}(t.rest)}(t),new dg(t).contentType)}throw Fm()}function cg(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function hg(e,t){switch(e){case sg.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Wm(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case sg.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Wm(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=og(t)}catch(u){if(u.message.includes("polyfill"))throw u;throw Wm(e,"Invalid character found")}for(var s=new Uint8Array(o.length),l=0;l<o.length;l++)s[l]=o.charCodeAt(l);return s}var dg=b((function e(t){g(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Wm(sg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var fg=function(){function e(t,n){g(this,e);var r=0,i="";Km(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return b(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Km(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if($m()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(ag.apply(null,i))}var a=n.map((function(e){return Qm(e)?ug(sg.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),l=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[l++]=e[t]})),new e(s,!0)}}]),e}();function pg(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function vg(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function mg(e,t){return t}var gg=b((function e(t,n,r,i){g(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||mg})),yg=null;function bg(){if(yg)return yg;var e=[];e.push(new gg("bucket")),e.push(new gg("generation")),e.push(new gg("metageneration")),e.push(new gg("name","fullPath",!0));var t=new gg("name");t.xform=function(e,t){return function(e){return!Qm(e)||e.length<2?e:vg(e)}(t)},e.push(t);var n=new gg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new gg("timeCreated")),e.push(new gg("updated")),e.push(new gg("md5Hash",null,!0)),e.push(new gg("cacheControl",null,!0)),e.push(new gg("contentDisposition",null,!0)),e.push(new gg("contentEncoding",null,!0)),e.push(new gg("contentLanguage",null,!0)),e.push(new gg("contentType",null,!0)),e.push(new gg("metadata","customMetadata",!0)),yg=e}function xg(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Xm(n,r);return t._makeStorageReference(i)}})}(r,e),r}function _g(e,t,n){var r=pg(t);return null===r?null:xg(e,r,n)}function wg(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Eg=b((function e(t,n,r,i){g(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Sg(e){if(!e)throw Fm()}function Tg(e,t){return function(n,r){var i=_g(e,r,t);return Sg(null!==i),i}}function Mg(e,t){return function(n,r){var i=_g(e,r,t);return Sg(null!==i),function(e,t,n,r){var i=pg(t);if(null===i)return null;if(!Qm(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,s=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Zm("/b/"+o(i)+"/o/"+o(a),n,r)+eg({alt:"media",token:t})}));return s[0]}(i,r,e.host,e._protocol)}}function kg(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Lm(Pm.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Lm(Pm.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Lm(Pm.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Lm(Pm.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Ag(e){var t=kg(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Lm(Pm.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Rg(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Cg(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var l=Rg(t,r,i),u="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wg(l,n)+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",c="\r\n--"+s+"--",h=fg.getBlob(u,r,c);if(null===h)throw zm();var d={name:l.fullPath},f=Zm(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Eg(f,"POST",Tg(e,n),p);return v.urlParams=d,v.headers=o,v.body=h.uploadData(),v.errorHandler=kg(t),v}var Og=null,Ig=function(){function e(){var t=this;g(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qm.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=qm.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=qm.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return b(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Gm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Gm("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Gm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Gm("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Gm("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Pg=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Ig);function Ng(){return Og?Og():new Pg}var Dg=function(){function e(t,n){g(this,e),this._service=t,this._location=n instanceof Xm?n:Xm.makeFromUrl(n,t.host)}return b(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Xm(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return vg(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Xm(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Lm(Pm.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Lg(e,t,n){e._throwIfRoot("uploadBytes");var r=Cg(e.storage,e._location,bg(),new fg(t,!0),n);return e.storage.makeRequestWithTokens(r,Ng).then((function(t){return{metadata:t,ref:e}}))}function Ug(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Zm(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Eg(r,"GET",Mg(e,n),i);return a.errorHandler=Ag(t),a}(e.storage,e._location,bg());return e.storage.makeRequestWithTokens(t,Ng).then((function(e){if(null===e)throw new Lm(Pm.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Fg(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Xm(e._location.bucket,n);return new Dg(e.storage,r)}function jg(e,t){if(e instanceof Hg){var n=e;if(null==n._bucket)throw new Lm(Pm.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Dm+"' property when initializing the app?");var r=new Dg(n,n._bucket);return null!=t?jg(r,t):r}return void 0!==t?Fg(e,t):e}function Bg(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Hg)return new Dg(e,t);throw Vm("To use ref(service, url), the first argument must be a Storage instance.")}return jg(e,t)}function zg(e,t){var n=null===t||void 0===t?void 0:t[Dm];return null==n?null:Xm.makeFromBucketSpec(n,e)}function Vg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[sv(JSON.stringify({alg:"none",type:"JWT"})),sv(JSON.stringify(a)),""].join(".")}(i,e.app.options.projectId))}var Hg=function(){function e(t,n,r,i,a){g(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Nm,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Xm.makeFromBucketSpec(i,this._host):zg(this._host,this.app.options)}return b(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Xm.makeFromBucketSpec(this._url,e):this._bucket=zg(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Jm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Jm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Xo(Go().mark((function e(){var t,n;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Xo(Go().mark((function e(){var t,n;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Dg(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ym(Hm());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=eg(e.urlParams),l=e.url+s,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new ng(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Xo(Go().mark((function e(t,n){var r,i,a,o;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=p(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Wg="@firebase/storage",Gg="0.11.2",qg="storage";function Xg(e,t,n){return Lg(e=_v(e),t,n)}function Yg(e){return Ug(e=_v(e))}function Qg(e,t){return Bg(e=_v(e),t)}function Kg(e,t,n){Vg(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function $g(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Hg(r,i,a,n,pm)}um(new wv(qg,$g,"PUBLIC").setMultipleInstances(!0)),mm(Wg,Gg,""),mm(Wg,Gg,"esm2017");var Jg,Zg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:im,t=om.get(e);if(!t&&e===im&&dv())return vm();if(!t)throw dm.create("no-app",{appName:e});return t}(),t=arguments.length>1?arguments[1]:void 0,n=cm(e=_v(e),qg).getImmediate({identifier:t}),r=hv("storage");return r&&Kg.apply(void 0,[n].concat(m(r))),n}(vm({apiKey:"AIzaSyBwPpi8YVw9jfJ5oTIcb8pKGXGEzP1oax8",authDomain:"paradise-hemp-imgbucket.firebaseapp.com",databaseURL:"https://paradise-hemp-imgbucket-default-rtdb.firebaseio.com",projectId:"paradise-hemp-imgbucket",storageBucket:"paradise-hemp-imgbucket.appspot.com",messagingSenderId:"224439582538",appId:"1:224439582538:web:e6604abb40b81067574bb3"})),ey={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},ty=new Uint8Array(16);function ny(){if(!Jg&&!(Jg="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jg(ty)}for(var ry=[],iy=0;iy<256;++iy)ry.push((iy+256).toString(16).slice(1));function ay(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ry[e[t+0]]+ry[e[t+1]]+ry[e[t+2]]+ry[e[t+3]]+"-"+ry[e[t+4]]+ry[e[t+5]]+"-"+ry[e[t+6]]+ry[e[t+7]]+"-"+ry[e[t+8]]+ry[e[t+9]]+"-"+ry[e[t+10]]+ry[e[t+11]]+ry[e[t+12]]+ry[e[t+13]]+ry[e[t+14]]+ry[e[t+15]]).toLowerCase()}var oy=function(e,t,n){if(ey.randomUUID&&!t&&!e)return ey.randomUUID();var r=(e=e||{}).random||(e.rng||ny)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return ay(r)},sy=function(e){var n=e.action,r=e.productData,i=e.onSubmitSuccess,a=e.displayModal,o=p((0,t.useState)(null),2),l=o[0],c=o[1],h=(0,t.useRef)(null),d=oy(),f=p(Jo(ul),1)[0],v=p(Jo(fl),1)[0],m=p((0,t.useState)({name:"",cloverId:"",category:"",description:"",image:"",price:"",quantity:""}),2),g=m[0],y=m[1];(0,t.useEffect)((function(){"update"===n&&r&&(y({name:r.name,cloverId:r.cloverId,category:r.category.name,description:r.description,image:r.image,price:r.price,quantity:r.quantity}),c(r.image))}),[n,r]);var b=function(e){var t=e.target,n=t.name,r=t.value;y(u(u({},g),{},s({},n,r)))},x=function(){var e=Xo(Go().mark((function e(){var t,n;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Qg(Zg,"images/".concat(d,"-").concat(g.image.name)),e.next=3,Xg(t,g.image);case 3:return e.next=5,Yg(t);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Xo(Go().mark((function e(t){var a,o,s,l,u,h,d,p,m,b;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=g.image,!g.name){e.next=38;break}if(e.prev=3,!(g.image&&g.image instanceof File)){e.next=8;break}return e.next=7,x();case 7:a=e.sent;case 8:if(o=g.name,s=g.cloverId,l=g.category,u=g.description,h=g.price,d=g.quantity,p={name:o,cloverId:s,category:l,description:u,image:a,price:parseFloat(h),quantity:parseInt(d)},"add"!==n){e.next=19;break}return e.next=13,f({variables:p});case 13:if(m=e.sent,m.data){e.next=17;break}throw new Error("Something went wrong while adding a product!");case 17:e.next=27;break;case 19:if("update"!==n||!r||!r.id){e.next=27;break}return p.id=r.id,e.next=23,v({variables:p});case 23:if(b=e.sent,b.data){e.next=27;break}throw new Error("Something went wrong while updating the product!");case 27:i(),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(3),console.error(e.t0);case 33:return e.prev=33,y({name:"",cloverId:"",category:"",description:"",image:"",price:"",quantity:""}),c(null),window.location.reload(),e.finish(33);case 38:case"end":return e.stop()}}),e,null,[[3,30,33,38]])})));return function(t){return e.apply(this,arguments)}}();return(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)("div",{style:{display:"block"},children:[(0,El.jsx)("div",{style:{overflowX:"hidden",overflowY:"auto",position:"fixed",inset:"0",zIndex:"50",outline:"none",focus:"outline-none",backdropFilter:a?"blur(20px)":"none"},children:(0,El.jsx)("div",{style:{width:"auto",margin:"6rem auto",maxWidth:750},children:(0,El.jsxs)("div",{style:s({border:"none",borderRadius:"10px",boxShadow:"lg",position:"relative",display:"flex",flexDirection:"column",width:"full",backgroundColor:"rgba(255,255,255, .1)",outline:"none",focus:"outline-none"},"boxShadow","0 0 1rem rgba(220, 220, 220, 0.3)"),children:[(0,El.jsxs)("div",{style:{display:"flex",alignItems:"start",justifyContent:"between",padding:"1.25rem",borderBottom:"1px solid rgba(246, 246, 246, 0.5)",borderRadius:"t-lg"},children:[(0,El.jsx)("h3",{className:"container",style:{marginLeft:"48px"},children:"update"===n?"Update Product":"Add Product"}),(0,El.jsx)("button",{style:{padding:"0.25rem",marginLeft:"auto",backgroundColor:"transparent",border:"none",color:"black",opacity:"0.5",float:"right",fontSize:"1.875rem",lineHeight:"none",fontWeight:"bold",outline:"none",focus:"outline-none"},onClick:function(){return a(!1)},children:(0,El.jsx)("span",{style:{backgroundColor:"transparent",color:"white",opacity:"0.5",height:"1.5rem",width:"1.5rem",fontSize:"1.25rem",display:"block",outline:"none",focus:"outline-none"},children:"\xd7"})})]}),(0,El.jsxs)("div",{className:" container p-4",style:{maxWidth:"1020px",display:"grid",placeItems:"center"},children:[(0,El.jsx)("br",{}),(0,El.jsxs)("form",{onSubmit:_,className:"flex flex-col items-center space-y-4",children:[(0,El.jsxs)("div",{className:"flex flex-col space-y-4 w-full",children:[(0,El.jsx)("label",{htmlFor:"name",className:"w-full",children:"Product Name:"}),(0,El.jsx)("input",{label:"name",name:"name",placeholder:"Product Name",value:g.name,onChange:b,className:"w-full py-2 px-4 border rounded"})]}),(0,El.jsxs)("div",{className:"flex flex-col space-y-4 w-full",children:[(0,El.jsx)("label",{htmlFor:"cloverId",className:"w-full",children:"CloverId:"}),(0,El.jsx)("input",{label:"cloverId",name:"cloverId",placeholder:"cloverId",value:g.cloverId,onChange:b,className:"w-full py-2 px-4 border rounded"})]}),(0,El.jsxs)("div",{className:"flex flex-col space-y-4 w-full",children:[(0,El.jsx)("label",{htmlFor:"category",className:"w-full",children:"Category:"}),(0,El.jsxs)("select",{name:"category",onChange:b,value:g.category,className:"w-full py-1 px-4 border rounded text-black",children:[(0,El.jsx)("option",{value:"",children:"Select a category"}),(0,El.jsx)("option",{value:"Edible",children:"Edible"}),(0,El.jsx)("option",{value:"Flower",children:"Flower"}),(0,El.jsx)("option",{value:"Pens",children:"Pens"}),(0,El.jsx)("option",{value:"Accessories",children:"Accessories"}),(0,El.jsx)("option",{value:"Hookah",children:"Hookah"}),(0,El.jsx)("option",{value:"Glass",children:"Glass"}),(0,El.jsx)("option",{value:"CBD",children:"CBD"}),(0,El.jsx)("option",{value:"Nootropics",children:"Nootropics"}),(0,El.jsx)("option",{value:"Batteries",children:"Batteries"})]})]}),(0,El.jsxs)("div",{className:"flex flex-col space-y-4 w-full",children:[(0,El.jsx)("label",{htmlFor:"price",className:"w-full",children:"Price:"}),(0,El.jsx)("input",{label:"price",name:"price",placeholder:"Price",value:g.price,onChange:b,className:"w-full py-2 px-4 border rounded"})]}),(0,El.jsxs)("div",{className:"flex flex-col space-y-4 w-full",children:[(0,El.jsx)("label",{htmlFor:"quantity",className:"w-full",children:"Quantity:"}),(0,El.jsx)("input",{label:"quantity",name:"quantity",placeholder:"Quantity",value:g.quantity,onChange:b,className:"w-full py-2 px-4 border rounded"})]}),(0,El.jsxs)("div",{className:"flex flex-col space-y-4 w-full",children:[(0,El.jsx)("label",{htmlFor:"description",className:"w-full",children:"Description:"}),(0,El.jsx)("textarea",{label:"description",name:"description",placeholder:"Product Description",cols:"60",rows:"10",value:g.description,onChange:b,className:"w-full py-2 px-4 border rounded"})]}),(0,El.jsxs)("div",{className:"flex flex-col space-y-4 w-full",children:[(0,El.jsx)("label",{htmlFor:"image",children:"Image File:"}),(0,El.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,El.jsx)("button",{type:"button",onClick:function(){h.current.click()},className:"py-1 bg-red-400 opacity-80 text-white rounded hover:bg-blue-500",children:"Upload Image"}),(0,El.jsx)("input",{type:"file",accept:"image/*",name:"image",ref:h,onChange:function(e){var t=e.target.files[0];y(u(u({},g),{},{image:t})),c(URL.createObjectURL(t))},style:{display:"none"}})]})]}),l&&(0,El.jsx)("img",{src:l,alt:"Preview",className:"w-full py-2 px-4 border rounded"}),(0,El.jsx)("br",{}),(0,El.jsx)("div",{className:"flex-row flex-end",children:(0,El.jsx)("button",{disabled:!g.name||!g.category||!g.price||!g.quantity||!g.image||!g.description,type:"submit",className:"py-2 bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 text-white rounded",children:"update"===n?"Update Product":"Add Product"})})]})]}),(0,El.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"end",padding:"1.5rem",borderTop:"1px solid rgba(246, 246, 246, 0.5)",borderRadius:"b-lg"},children:(0,El.jsx)("button",{style:{fontWeight:"bold",textTransform:"uppercase",padding:"0.75rem 1.5rem",fontSize:"0.875rem",outline:"none",focus:"outline-none",marginRight:"0.25rem",marginBottom:"0.25rem",transition:"all 0.15s ease-linear"},type:"button",onClick:function(){return a(!1)},className:"bg-red-500 opacity-70 text-white",children:"Close"})})]})})}),(0,El.jsx)("div",{style:{opacity:"0.25",position:"fixed",inset:"0",zIndex:"40",backgroundColor:"black"}})]})})},ly=function(e){return(0,El.jsx)(sy,{action:"update",productData:e,displayModal:e.displayModal,onSubmitSuccess:function(){console.log("Product updated successfully!"),e.displayModal(!1)}})};var uy,cy,hy=function(e){var n=p((0,t.useState)(),2),r=n[0],i=n[1],a=p(Jo(cl),1)[0],o=p(ru(),2),s=o[0],l=o[1],c=e.image,h=e.name,d=e._id,f=e.price,v=e.quantity,m=e.description,g=e.cloverId,y=e.category,b=s.cart,x=function(){var e=Xo(Go().mark((function e(t){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Deleting this product deletes it everywhere. Are you sure you want to delete this product?")){e.next=10;break}return e.prev=1,e.next=4,a({variables:{id:t}});case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return wl.isAdmin()?(0,El.jsxs)("div",{className:"card px-1 py-1",children:[(0,El.jsxs)(Ye,{to:"/products/".concat(d),children:[(0,El.jsx)("img",{style:{height:220,width:260},alt:h,src:"".concat(c)}),(0,El.jsx)("p",{className:"text-white",children:h})]}),(0,El.jsxs)("div",{children:[(0,El.jsxs)("div",{children:[v," ",fu("item",v)," in stock"]}),(0,El.jsxs)("span",{children:["$",f]})]}),(0,El.jsx)("button",{className:"bg-red-400 text-white rounded ",onClick:function(){x(d)},children:"Delete"}),(0,El.jsx)("button",{className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 text-white rounded",onClick:function(){i(!0)},children:"Update"}),r?(0,El.jsx)(ly,{displayModal:i,id:d,name:h,cloverId:g,category:y,description:m,image:c,price:f,quantity:v}):console.log("display: false")]}):(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)("div",{className:"card px-10 mx-1 py-1 borderwrap bg-white bg-opacity-10",children:[(0,El.jsxs)(Ye,{to:"/products/".concat(d),children:[(0,El.jsx)("img",{style:{height:220,width:280},alt:h,src:"".concat(c)}),(0,El.jsx)("p",{children:h})]}),(0,El.jsxs)("div",{children:[(0,El.jsxs)("div",{children:[v," ",fu("item",v)," in stock"]}),(0,El.jsxs)("span",{children:["$",f]})]}),(0,El.jsx)("button",{className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 bg-opacity-40 text-white h-15 mt-2",onClick:function(){var t=b.find((function(e){return e._id===d}));t?(l({type:Fl,_id:d,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),pu("cart","put",u(u({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(l({type:Dl,product:u(u({},e),{},{purchaseQuantity:1})}),pu("cart","put",u(u({},e),{},{purchaseQuantity:1})))},children:"Add to cart"})]})})},dy={color:"rgba(230, 230, 230, 0.8)",fontSize:"35px",marginLeft:"-5%",marginRight:"-5%",zIndex:1},fy=function(){var e=Cl(du),t=e.data;return e.loading?(0,El.jsx)("div",{children:"Loading..."}):(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("h3",{className:"text-center py-2",style:{fontWeight:"bolder",textTransform:"uppercase"},children:"Recently Added"}),(0,El.jsx)("div",{style:{maxWidth:"80vw",position:"relative",left:"9%"},children:(0,El.jsx)(rv,{prevArrow:(0,El.jsx)("div",{style:u({},dy),onClick:console.log("hit"),children:"<"}),nextArrow:(0,El.jsx)("div",{style:u({},dy),children:">"}),responsive:[{breakpoint:1300,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:950,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:400,settings:{slidesToShow:1,slidesToScroll:1}}],children:t.queryNewProducts.map((function(e,t){return(0,El.jsx)("div",{children:(0,El.jsx)("div",{className:"flex justify-center rounded-10 mb-4",children:(0,El.jsx)(hy,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity},e._id)})},t)}))})})]})};function py(){return py="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},py.apply(this,arguments)}var vy="153",my=1,gy=2,yy=3,by=0,xy=1,_y=100,wy=0,Ey=1,Sy=2,Ty=0,My=1,ky=2,Ay=3,Ry=4,Cy=5,Oy=301,Iy=302,Py=303,Ny=304,Dy=306,Ly=1e3,Uy=1001,Fy=1002,jy=1003,By=1004,zy=1005,Vy=1006,Hy=1007,Wy=1008,Gy=1009,qy=1012,Xy=1013,Yy=1014,Qy=1015,Ky=1016,$y=1020,Jy=1023,Zy=1026,eb=1027,tb=33776,nb=33777,rb=33778,ib=33779,ab=36492,ob=2300,sb=2301,lb=2302,ub=2400,cb=2401,hb=2402,db=2500,fb=3001,pb="",vb="srgb",mb="srgb-linear",gb="display-p3",yb=7680,bb=35044,xb="300 es",_b=1035,wb=2e3,Eb=2001,Sb=function(){function e(){g(this,e)}return b(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Tb=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Mb=1234567,kb=Math.PI/180,Ab=180/Math.PI;function Rb(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Tb[255&e]+Tb[e>>8&255]+Tb[e>>16&255]+Tb[e>>24&255]+"-"+Tb[255&t]+Tb[t>>8&255]+"-"+Tb[t>>16&15|64]+Tb[t>>24&255]+"-"+Tb[63&n|128]+Tb[n>>8&255]+"-"+Tb[n>>16&255]+Tb[n>>24&255]+Tb[255&r]+Tb[r>>8&255]+Tb[r>>16&255]+Tb[r>>24&255]).toLowerCase()}function Cb(e,t,n){return Math.max(t,Math.min(n,e))}function Ob(e,t){return(e%t+t)%t}function Ib(e,t,n){return(1-n)*e+n*t}function Pb(e){return 0===(e&e-1)&&0!==e}function Nb(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Db(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Lb(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Ub(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Fb={DEG2RAD:kb,RAD2DEG:Ab,generateUUID:Rb,clamp:Cb,euclideanModulo:Ob,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Ib,damp:function(e,t,n,r){return Ib(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Ob(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Mb=e);var t=Mb+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*kb},radToDeg:function(e){return e*Ab},isPowerOfTwo:Pb,ceilPowerOfTwo:Nb,floorPowerOfTwo:Db,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),h=a((t-r)/2),d=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*h,l*d,s*u);break;case"YZY":e.set(l*d,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*d,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Ub,denormalize:Lb},jb=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return b(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Cb(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:Go().mark((function e(){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(),Bb=function(){function e(t,n,r,i,a,o,s,l,u){g(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u)}return b(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],f=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=a*p+o*g+s*x,i[3]=a*v+o*y+s*_,i[6]=a*m+o*b+s*w,i[1]=l*p+u*g+c*x,i[4]=l*v+u*y+c*_,i[7]=l*m+u*b+c*w,i[2]=h*p+d*g+f*x,i[5]=h*v+d*y+f*_,i[8]=h*m+d*b+f*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*i,d=l*i-a*s,f=t*c+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(zb.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(zb.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(zb.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),zb=new Bb;function Vb(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function Hb(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var Wb={};function Gb(e){e in Wb||(Wb[e]=!0,console.warn(e))}function qb(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Xb(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Yb=(new Bb).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Qb=(new Bb).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);var Kb,$b=(s(uy={},mb,(function(e){return e})),s(uy,vb,(function(e){return e.convertSRGBToLinear()})),s(uy,gb,(function(e){return e.convertSRGBToLinear().applyMatrix3(Qb)})),uy),Jb=(s(cy={},mb,(function(e){return e})),s(cy,vb,(function(e){return e.convertLinearToSRGB()})),s(cy,gb,(function(e){return e.applyMatrix3(Yb).convertLinearToSRGB()})),cy),Zb={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return mb},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=$b[t],i=Jb[n];if(void 0===r||void 0===i)throw new Error('Unsupported color space conversion, "'.concat(t,'" to "').concat(n,'".'));return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},ex=function(){function e(){g(this,e)}return b(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Kb&&(Kb=Hb("canvas")),Kb.width=e.width,Kb.height=e.height;var n=Kb.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Kb}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=Hb("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*qb(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*qb(o[s]/255)):o[s]=qb(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),tx=0,nx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;g(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:tx++}),this.uuid=Rb(),this.data=t,this.version=0}return b(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(rx(r[a].image)):i.push(rx(r[a]))}else i=rx(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function rx(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?ex.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var ix=0,ax=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uy,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Uy,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vy,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Wy,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jy,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Gy,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:pb;return g(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty(S(e),"id",{value:ix++}),e.uuid=Rb(),e.name="",e.source=new nx(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=h,e.format=u,e.internalFormat=null,e.type=c,e.offset=new jb(0,0),e.repeat=new jb(1,1),e.center=new jb(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Bb,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof d?e.colorSpace=d:(Gb("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=d===fb?vb:pb),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return b(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ly:e.x=e.x-Math.floor(e.x);break;case Uy:e.x=e.x<0?0:1;break;case Fy:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ly:e.y=e.y-Math.floor(e.y);break;case Uy:e.y=e.y<0?0:1;break;case Fy:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return Gb("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===vb?fb:3e3},set:function(e){Gb("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===fb?vb:pb}}]),n}(Sb);ax.DEFAULT_IMAGE=null,ax.DEFAULT_MAPPING=300,ax.DEFAULT_ANISOTROPY=1;var ox=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;g(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return b(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],d=s[5],f=s[9],p=s[2],v=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(f-v)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(f+v)<o&&Math.abs(l+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(d+1)/2,b=(m+1)/2,x=(u+h)/4,_=(c+p)/4,w=(f+v)/4;return g>y&&g>b?g<a?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(g)),i=_/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=w/r):b<a?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var E=Math.sqrt((v-f)*(v-f)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(E)<.001&&(E=1),this.x=(v-f)/E,this.y=(c-p)/E,this.z=(h-u)/E,this.w=Math.acos((l+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:Go().mark((function e(){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(),sx=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};g(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new ox(0,0,r,i),e.scissorTest=!1,e.viewport=new ox(0,0,r,i);var o={width:r,height:i,depth:1};return void 0!==a.encoding&&(Gb("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===fb?vb:pb),e.texture=new ax(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:Vy,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return b(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new nx(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Sb),lx=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return g(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=jy,e.minFilter=jy,e.wrapR=Uy,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return b(n)}(ax),ux=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return g(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=jy,e.minFilter=jy,e.wrapR=Uy,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return b(n)}(ax),cx=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;g(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return b(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),h=s(n/2),d=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"YXZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"ZXY":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"ZYX":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"YZX":this._x=h*u*c+l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c-h*d*f;break;case"XZY":this._x=h*u*c-l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-s)*d,this._y=(i-l)*d,this._z=(a-r)*d}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(i+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Cb(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Go().mark((function e(){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(c!==p||s!==h||l!==d||u!==f){var v=1-o,m=s*h+l*d+u*f+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,m*g);v=Math.sin(v*x)/b,o=Math.sin(o*x)/b}var _=o*g;if(s=s*v+h*_,l=l*v+d*_,u=u*v+f*_,c=c*v+p*_,v===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],h=i[a+1],d=i[a+2],f=i[a+3];return e[t]=o*f+u*c+s*d-l*h,e[t+1]=s*f+u*h+l*c-o*d,e[t+2]=l*f+u*d+o*h-s*c,e[t+3]=u*f-o*c-s*h-l*d,e}}]),t}(),hx=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;g(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return b(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(fx.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(fx.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=l*s+h*-i+u*-o-c*-a,this.y=u*s+h*-a+c*-i-l*-o,this.z=c*s+h*-o+l*-a-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return dx.copy(this).projectOnVector(e),this.sub(dx)}},{key:"reflect",value:function(e){return this.sub(dx.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Cb(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:Go().mark((function e(){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),dx=new hx,fx=new cx,px=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hx(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hx(-1/0,-1/0,-1/0);g(this,e),this.isBox3=!0,this.min=t,this.max=n}return b(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(mx.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(mx.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=mx.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),gx.copy(e.boundingBox),gx.applyMatrix4(e.matrixWorld),this.union(gx);else{var n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)mx.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(mx);else null===n.boundingBox&&n.computeBoundingBox(),gx.copy(n.boundingBox),gx.applyMatrix4(e.matrixWorld),this.union(gx)}for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,mx),mx.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Sx),Tx.subVectors(this.max,Sx),yx.subVectors(e.a,Sx),bx.subVectors(e.b,Sx),xx.subVectors(e.c,Sx),_x.subVectors(bx,yx),wx.subVectors(xx,bx),Ex.subVectors(yx,xx);var t=[0,-_x.z,_x.y,0,-wx.z,wx.y,0,-Ex.z,Ex.y,_x.z,0,-_x.x,wx.z,0,-wx.x,Ex.z,0,-Ex.x,-_x.y,_x.x,0,-wx.y,wx.x,0,-Ex.y,Ex.x,0];return!!Ax(t,yx,bx,xx,Tx)&&(!!Ax(t=[1,0,0,0,1,0,0,0,1],yx,bx,xx,Tx)&&(Mx.crossVectors(_x,wx),Ax(t=[Mx.x,Mx.y,Mx.z],yx,bx,xx,Tx)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,mx).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(mx).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(vx[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),vx[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),vx[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),vx[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),vx[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),vx[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),vx[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),vx[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(vx)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),vx=[new hx,new hx,new hx,new hx,new hx,new hx,new hx,new hx],mx=new hx,gx=new px,yx=new hx,bx=new hx,xx=new hx,_x=new hx,wx=new hx,Ex=new hx,Sx=new hx,Tx=new hx,Mx=new hx,kx=new hx;function Ax(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){kx.fromArray(e,a);var s=i.x*Math.abs(kx.x)+i.y*Math.abs(kx.y)+i.z*Math.abs(kx.z),l=t.dot(kx),u=n.dot(kx),c=r.dot(kx);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var Rx=new px,Cx=new hx,Ox=new hx,Ix=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;g(this,e),this.center=t,this.radius=n}return b(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):Rx.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cx.subVectors(e,this.center);var t=Cx.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(Cx,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Ox.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cx.copy(e.center).add(Ox)),this.expandByPoint(Cx.copy(e.center).sub(Ox))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Px=new hx,Nx=new hx,Dx=new hx,Lx=new hx,Ux=new hx,Fx=new hx,jx=new hx,Bx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hx(0,0,-1);g(this,e),this.origin=t,this.direction=n}return b(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Px)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Px.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Px.copy(this.origin).addScaledVector(this.direction,t),Px.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Nx.copy(e).add(t).multiplyScalar(.5),Dx.copy(t).sub(e).normalize(),Lx.copy(this.origin).sub(Nx);var i,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Dx),c=Lx.dot(this.direction),h=-Lx.dot(Dx),d=Lx.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*c-h,s=l*f,(i=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(i*=p)*(i+u*(a*=p)+2*c)+a*(u*i+a+2*h)+d}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+d;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+d;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+d):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(Nx).addScaledVector(Dx,a),o}},{key:"intersectSphere",value:function(e,t){Px.subVectors(e.center,this.origin);var n=Px.dot(this.direction),r=Px.dot(Px)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(i=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(i=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Px)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Ux.subVectors(t,e),Fx.subVectors(n,e),jx.crossVectors(Ux,Fx);var a,o=this.direction.dot(jx);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Lx.subVectors(this.origin,e);var s=a*this.direction.dot(Fx.crossVectors(Lx,Fx));if(s<0)return null;var l=a*this.direction.dot(Ux.cross(Lx));if(l<0)return null;if(s+l>o)return null;var u=-a*Lx.dot(jx);return u<0?null:this.at(u/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),zx=function(){function e(t,n,r,i,a,o,s,l,u,c,h,d,f,p,v,m){g(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u,c,h,d,f,p,v,m)}return b(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,h,d,f,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=d,m[7]=f,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Vx.setFromMatrixColumn(e,0).length(),i=1/Vx.setFromMatrixColumn(e,1).length(),a=1/Vx.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*u,d=a*c,f=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=d+f*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=f+d*l,t[10]=a*s}else if("YXZ"===e.order){var v=s*u,m=s*c,g=l*u,y=l*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*u,x=s*c,_=l*u,w=l*c;t[0]=b-w*o,t[4]=-a*c,t[8]=_+x*o,t[1]=x+_*o,t[5]=a*u,t[9]=w-b*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var E=a*u,S=a*c,T=o*u,M=o*c;t[0]=s*u,t[4]=T*l-S,t[8]=E*l+M,t[1]=s*c,t[5]=M*l+E,t[9]=S*l-T,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var k=a*s,A=a*l,R=o*s,C=o*l;t[0]=s*u,t[4]=C-k*c,t[8]=R*c+A,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=A*c+R,t[10]=k-C*c}else if("XZY"===e.order){var O=a*s,I=a*l,P=o*s,N=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=O*c+N,t[5]=a*u,t[9]=I*c-P,t[2]=P*c-I,t[6]=o*u,t[10]=N*c+O}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Wx,e,Gx)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Yx.subVectors(e,t),0===Yx.lengthSq()&&(Yx.z=1),Yx.normalize(),qx.crossVectors(n,Yx),0===qx.lengthSq()&&(1===Math.abs(n.z)?Yx.x+=1e-4:Yx.z+=1e-4,Yx.normalize(),qx.crossVectors(n,Yx)),qx.normalize(),Xx.crossVectors(Yx,qx),r[0]=qx.x,r[4]=Xx.x,r[8]=Yx.x,r[1]=qx.y,r[5]=Xx.y,r[9]=Yx.y,r[2]=qx.z,r[6]=Xx.z,r[10]=Yx.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],E=r[8],S=r[12],T=r[1],M=r[5],k=r[9],A=r[13],R=r[2],C=r[6],O=r[10],I=r[14],P=r[3],N=r[7],D=r[11],L=r[15];return i[0]=a*_+o*T+s*R+l*P,i[4]=a*w+o*M+s*C+l*N,i[8]=a*E+o*k+s*O+l*D,i[12]=a*S+o*A+s*I+l*L,i[1]=u*_+c*T+h*R+d*P,i[5]=u*w+c*M+h*C+d*N,i[9]=u*E+c*k+h*O+d*D,i[13]=u*S+c*A+h*I+d*L,i[2]=f*_+p*T+v*R+m*P,i[6]=f*w+p*M+v*C+m*N,i[10]=f*E+p*k+v*O+m*D,i[14]=f*S+p*A+v*I+m*L,i[3]=g*_+y*T+b*R+x*P,i[7]=g*w+y*M+b*C+x*N,i[11]=g*E+y*k+b*O+x*D,i[15]=g*S+y*A+b*I+x*L,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*a*h-r*a*d+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*d-i*a*c+n*a*d+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*h+r*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],v=e[14],m=e[15],g=c*v*l-p*h*l+p*s*d-o*v*d-c*s*m+o*h*m,y=f*h*l-u*v*l-f*s*d+a*v*d+u*s*m-a*h*m,b=u*p*l-f*c*l+f*o*d-a*p*d-u*o*m+a*c*m,x=f*c*s-u*p*s-f*o*h+a*p*h+u*o*v-a*c*v,_=t*g+n*y+r*b+i*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/_;return e[0]=g*w,e[1]=(p*h*i-c*v*i-p*r*d+n*v*d+c*r*m-n*h*m)*w,e[2]=(o*v*i-p*s*i+p*r*l-n*v*l-o*r*m+n*s*m)*w,e[3]=(c*s*i-o*h*i-c*r*l+n*h*l+o*r*d-n*s*d)*w,e[4]=y*w,e[5]=(u*v*i-f*h*i+f*r*d-t*v*d-u*r*m+t*h*m)*w,e[6]=(f*s*i-a*v*i-f*r*l+t*v*l+a*r*m-t*s*m)*w,e[7]=(a*h*i-u*s*i+u*r*l-t*h*l-a*r*d+t*s*d)*w,e[8]=b*w,e[9]=(f*c*i-u*p*i-f*n*d+t*p*d+u*n*m-t*c*m)*w,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*m+t*o*m)*w,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*d-t*o*d)*w,e[12]=x*w,e[13]=(u*p*r-f*c*r+f*n*h-t*p*h-u*n*v+t*c*v)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*v-t*o*v)*w,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,h=i*l,d=i*u,f=i*c,p=a*u,v=a*c,m=o*c,g=s*l,y=s*u,b=s*c,x=n.x,_=n.y,w=n.z;return r[0]=(1-(p+m))*x,r[1]=(d+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(d-b)*_,r[5]=(1-(h+m))*_,r[6]=(v+g)*_,r[7]=0,r[8]=(f+y)*w,r[9]=(v-g)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Vx.set(r[0],r[1],r[2]).length(),a=Vx.set(r[4],r[5],r[6]).length(),o=Vx.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Hx.copy(this);var s=1/i,l=1/a,u=1/o;return Hx.elements[0]*=s,Hx.elements[1]*=s,Hx.elements[2]*=s,Hx.elements[4]*=l,Hx.elements[5]*=l,Hx.elements[6]*=l,Hx.elements[8]*=u,Hx.elements[9]*=u,Hx.elements[10]*=u,t.setFromRotationMatrix(Hx),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wb,u=this.elements,c=2*i/(t-e),h=2*i/(n-r),d=(t+e)/(t-e),f=(n+r)/(n-r);if(l===wb)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(l!==Eb)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);o=-a/(a-i),s=-a*i/(a-i)}return u[0]=c,u[4]=0,u[8]=d,u[12]=0,u[1]=0,u[5]=h,u[9]=f,u[13]=0,u[2]=0,u[6]=0,u[10]=o,u[14]=s,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wb,u=this.elements,c=1/(t-e),h=1/(n-r),d=1/(a-i),f=(t+e)*c,p=(n+r)*h;if(l===wb)o=(a+i)*d,s=-2*d;else{if(l!==Eb)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);o=i*d,s=-1*d}return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-f,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=s,u[14]=-o,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Vx=new hx,Hx=new zx,Wx=new hx(0,0,0),Gx=new hx(1,1,1),qx=new hx,Xx=new hx,Yx=new hx,Qx=new zx,Kx=new cx,$x=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;g(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return b(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Cb(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Cb(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Cb(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Cb(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Cb(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Cb(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Qx.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Qx,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Kx.setFromEuler(this),this.setFromQuaternion(Kx,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:Go().mark((function e(){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();$x.DEFAULT_ORDER="XYZ";var Jx=function(){function e(){g(this,e),this.mask=1}return b(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Zx=0,e_=new hx,t_=new cx,n_=new zx,r_=new hx,i_=new hx,a_=new hx,o_=new cx,s_=new hx(1,0,0),l_=new hx(0,1,0),u_=new hx(0,0,1),c_={type:"added"},h_={type:"removed"},d_=function(e){_(n,e);var t=T(n);function n(){var e;g(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty(S(e),"id",{value:Zx++}),e.uuid=Rb(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new hx,i=new $x,a=new cx,o=new hx(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(S(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new zx},normalMatrix:{value:new Bb}}),e.matrix=new zx,e.matrixWorld=new zx,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new Jx,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return b(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return t_.setFromAxisAngle(e,t),this.quaternion.multiply(t_),this}},{key:"rotateOnWorldAxis",value:function(e,t){return t_.setFromAxisAngle(e,t),this.quaternion.premultiply(t_),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(s_,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(l_,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(u_,e)}},{key:"translateOnAxis",value:function(e,t){return e_.copy(e).applyQuaternion(this.quaternion),this.position.add(e_.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(s_,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(l_,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(u_,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(n_.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?r_.copy(e):r_.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),i_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?n_.lookAt(i_,r_,this.up):n_.lookAt(r_,i_,this.up),this.quaternion.setFromRotationMatrix(n_),r&&(n_.extractRotation(r.matrixWorld),t_.setFromRotationMatrix(n_),this.quaternion.premultiply(t_.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(c_)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(h_)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(h_)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),n_.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),n_.multiply(e.parent.matrixWorld)),e.applyMatrix4(n_),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(i_,e,a_),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(i_,o_,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,d=this.material.length;h<d;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=S(e.geometries),g=S(e.materials),y=S(e.textures),b=S(e.images),x=S(e.shapes),_=S(e.skeletons),w=S(e.animations),E=S(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),x.length>0&&(n.shapes=x),_.length>0&&(n.skeletons=_),w.length>0&&(n.animations=w),E.length>0&&(n.nodes=E)}return n.object=r,n;function S(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Sb);d_.DEFAULT_UP=new hx(0,1,0),d_.DEFAULT_MATRIX_AUTO_UPDATE=!0,d_.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var f_=new hx,p_=new hx,v_=new hx,m_=new hx,g_=new hx,y_=new hx,b_=new hx,x_=new hx,__=new hx,w_=new hx,E_=!1,S_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hx,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new hx;g(this,e),this.a=t,this.b=n,this.c=r}return b(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return f_.subVectors(this.c,this.b),p_.subVectors(this.a,this.b),.5*f_.cross(p_).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===E_&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),E_=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;g_.subVectors(a,i),y_.subVectors(o,i),x_.subVectors(e,i);var s=g_.dot(x_),l=y_.dot(x_);if(s<=0&&l<=0)return t.copy(i);__.subVectors(e,a);var u=g_.dot(__),c=y_.dot(__);if(u>=0&&c<=u)return t.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(g_,n);w_.subVectors(e,o);var d=g_.dot(w_),f=y_.dot(w_);if(f>=0&&d<=f)return t.copy(o);var p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(i).addScaledVector(y_,r);var v=u*f-d*c;if(v<=0&&c-u>=0&&d-f>=0)return b_.subVectors(o,a),r=(c-u)/(c-u+(d-f)),t.copy(a).addScaledVector(b_,r);var m=1/(v+p+h);return n=p*m,r=h*m,t.copy(i).addScaledVector(g_,n).addScaledVector(y_,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),f_.subVectors(e,t),r.cross(f_);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){f_.subVectors(r,t),p_.subVectors(n,t),v_.subVectors(e,t);var a=f_.dot(f_),o=f_.dot(p_),s=f_.dot(v_),l=p_.dot(p_),u=p_.dot(v_),c=a*l-o*o;if(0===c)return i.set(-2,-1,-1);var h=1/c,d=(l*s-o*u)*h,f=(a*u-o*s)*h;return i.set(1-d-f,f,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,m_),m_.x>=0&&m_.y>=0&&m_.x+m_.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return!1===E_&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),E_=!0),this.getInterpolation(e,t,n,r,i,a,o,s)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,m_),s.setScalar(0),s.addScaledVector(i,m_.x),s.addScaledVector(a,m_.y),s.addScaledVector(o,m_.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return f_.subVectors(n,t),p_.subVectors(e,t),f_.cross(p_).dot(r)<0}}]),e}(),T_=0,M_=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty(S(e),"id",{value:T_++}),e.uuid=Rb(),e.name="",e.type="Material",e.blending=1,e.side=by,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=_y,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=yb,e.stencilZFail=yb,e.stencilZPass=yb,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return b(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==by&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Sb),k_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},A_={h:0,s:0,l:0},R_={h:0,s:0,l:0};function C_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var O_=function(e){function t(e,n,r){return g(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}return b(t,[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vb;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Zb.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zb.workingColorSpace;return this.r=e,this.g=t,this.b=n,Zb.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zb.workingColorSpace;if(e=Ob(e,1),t=Cb(t,0,1),n=Cb(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=C_(a,i,e+1/3),this.g=C_(a,i,e),this.b=C_(a,i,e-1/3)}return Zb.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vb;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],l=s.length;if(3===l)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===l)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vb,n=k_[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=qb(e.r),this.g=qb(e.g),this.b=qb(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Xb(e.r),this.g=Xb(e.g),this.b=Xb(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vb;return Zb.fromWorkingColorSpace(I_.copy(this),e),65536*Math.round(Cb(255*I_.r,0,255))+256*Math.round(Cb(255*I_.g,0,255))+Math.round(Cb(255*I_.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vb;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zb.workingColorSpace;Zb.fromWorkingColorSpace(I_.copy(this),t);var n,r,i=I_.r,a=I_.g,o=I_.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zb.workingColorSpace;return Zb.fromWorkingColorSpace(I_.copy(this),t),e.r=I_.r,e.g=I_.g,e.b=I_.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vb;Zb.fromWorkingColorSpace(I_.copy(this),e);var t=I_.r,n=I_.g,r=I_.b;return e!==vb?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(A_),A_.h+=e,A_.s+=t,A_.l+=n,this.setHSL(A_.h,A_.s,A_.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(A_),e.getHSL(R_);var n=Ib(A_.h,R_.h,t),r=Ib(A_.s,R_.s,t),i=Ib(A_.l,R_.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:Go().mark((function e(){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(),I_=new O_;O_.NAMES=k_;var P_=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new O_(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=wy,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(M_);var N_=new hx,D_=new jb,L_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(g(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=bb,this.updateRange={offset:0,count:-1},this.gpuType=Qy,this.version=0}return b(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)D_.fromBufferAttribute(this,t),D_.applyMatrix3(e),this.setXY(t,D_.x,D_.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)N_.fromBufferAttribute(this,r),N_.applyMatrix3(e),this.setXYZ(r,N_.x,N_.y,N_.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)N_.fromBufferAttribute(this,t),N_.applyMatrix4(e),this.setXYZ(t,N_.x,N_.y,N_.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)N_.fromBufferAttribute(this,t),N_.applyNormalMatrix(e),this.setXYZ(t,N_.x,N_.y,N_.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)N_.fromBufferAttribute(this,t),N_.transformDirection(e),this.setXYZ(t,N_.x,N_.y,N_.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=Lb(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ub(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=Lb(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ub(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=Lb(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ub(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=Lb(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ub(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ub(t,this.array),n=Ub(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ub(t,this.array),n=Ub(n,this.array),r=Ub(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Ub(t,this.array),n=Ub(n,this.array),r=Ub(r,this.array),i=Ub(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==bb&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),U_=function(e){_(n,e);var t=T(n);function n(e,r,i){return g(this,n),t.call(this,new Uint16Array(e),r,i)}return b(n)}(L_),F_=function(e){_(n,e);var t=T(n);function n(e,r,i){return g(this,n),t.call(this,new Uint32Array(e),r,i)}return b(n)}(L_),j_=function(e){_(n,e);var t=T(n);function n(e,r,i){return g(this,n),t.call(this,new Float32Array(e),r,i)}return b(n)}(L_),B_=0,z_=new zx,V_=new d_,H_=new hx,W_=new px,G_=new px,q_=new hx,X_=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty(S(e),"id",{value:B_++}),e.uuid=Rb(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return b(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Vb(e)?F_:U_)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Bb).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return z_.makeRotationFromQuaternion(e),this.applyMatrix4(z_),this}},{key:"rotateX",value:function(e){return z_.makeRotationX(e),this.applyMatrix4(z_),this}},{key:"rotateY",value:function(e){return z_.makeRotationY(e),this.applyMatrix4(z_),this}},{key:"rotateZ",value:function(e){return z_.makeRotationZ(e),this.applyMatrix4(z_),this}},{key:"translate",value:function(e,t,n){return z_.makeTranslation(e,t,n),this.applyMatrix4(z_),this}},{key:"scale",value:function(e,t,n){return z_.makeScale(e,t,n),this.applyMatrix4(z_),this}},{key:"lookAt",value:function(e){return V_.lookAt(e),V_.updateMatrix(),this.applyMatrix4(V_.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(H_).negate(),this.translate(H_.x,H_.y,H_.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new j_(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new px);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new hx(-1/0,-1/0,-1/0),new hx(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];W_.setFromBufferAttribute(i),this.morphTargetsRelative?(q_.addVectors(this.boundingBox.min,W_.min),this.boundingBox.expandByPoint(q_),q_.addVectors(this.boundingBox.max,W_.max),this.boundingBox.expandByPoint(q_)):(this.boundingBox.expandByPoint(W_.min),this.boundingBox.expandByPoint(W_.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Ix);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new hx,1/0);if(e){var n=this.boundingSphere.center;if(W_.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];G_.setFromBufferAttribute(a),this.morphTargetsRelative?(q_.addVectors(W_.min,G_.min),W_.expandByPoint(q_),q_.addVectors(W_.max,G_.max),W_.expandByPoint(q_)):(W_.expandByPoint(G_.min),W_.expandByPoint(G_.max))}W_.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)q_.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(q_));if(t)for(var u=0,c=t.length;u<c;u++)for(var h=t[u],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)q_.fromBufferAttribute(h,f),d&&(H_.fromBufferAttribute(e,f),q_.add(H_)),o=Math.max(o,n.distanceToSquared(q_));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new L_(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new hx,u[c]=new hx;var h=new hx,d=new hx,f=new hx,p=new jb,v=new jb,m=new jb,g=new hx,y=new hx,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var x=0,_=b.length;x<_;++x)for(var w=b[x],E=w.start,S=E,T=E+w.count;S<T;S+=3)L(n[S+0],n[S+1],n[S+2]);for(var M=new hx,k=new hx,A=new hx,R=new hx,C=0,O=b.length;C<O;++C)for(var I=b[C],P=I.start,N=P,D=P+I.count;N<D;N+=3)U(n[N+0]),U(n[N+1]),U(n[N+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function L(e,t,n){h.fromArray(r,3*e),d.fromArray(r,3*t),f.fromArray(r,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(h),f.sub(h),v.sub(p),m.sub(p);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(f,-v.y).multiplyScalar(i),y.copy(f).multiplyScalar(v.x).addScaledVector(d,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(y),u[t].add(y),u[n].add(y))}function U(e){A.fromArray(i,3*e),R.copy(A);var t=l[e];M.copy(t),M.sub(A.multiplyScalar(A.dot(t))).normalize(),k.crossVectors(R,t);var n=k.dot(u[e])<0?-1:1;s[4*e]=M.x,s[4*e+1]=M.y,s[4*e+2]=M.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new L_(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new hx,o=new hx,s=new hx,l=new hx,u=new hx,c=new hx,h=new hx,d=new hx;if(e)for(var f=0,p=e.count;f<p;f+=3){var v=e.getX(f+0),m=e.getX(f+1),g=e.getX(f+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),l.add(h),u.add(h),c.add(h),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)q_.fromBufferAttribute(e,t),q_.normalize(),e.setXYZ(t,q_.x,q_.y,q_.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new L_(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,d=c.length;h<d;h++){var f=e(c[h],r);u.push(f)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],d=0,f=c.length;d<f;d++){var p=c[d];h.push(p.toJSON(e.data))}h.length>0&&(s[u]=h,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,f=0,p=d.length;f<p;f++){var v=d[f];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Sb),Y_=new zx,Q_=new Bx,K_=new Ix,$_=new hx,J_=new hx,Z_=new hx,ew=new hx,tw=new hx,nw=new hx,rw=new jb,iw=new jb,aw=new jb,ow=new hx,sw=new hx,lw=new hx,uw=new hx,cw=new hx,hw=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new X_,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new P_;return g(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return b(n,[{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){nw.set(0,0,0);for(var s=0,l=i.length;s<l;s++){var u=o[s],c=i[s];0!==u&&(tw.fromBufferAttribute(c,e),a?nw.addScaledVector(tw,u):nw.addScaledVector(tw.sub(t),u))}t.add(nw)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),K_.copy(n.boundingSphere),K_.applyMatrix4(i),Q_.copy(e.ray).recast(e.near),!1===K_.containsPoint(Q_.origin)){if(null===Q_.intersectSphere(K_,$_))return;if(Q_.origin.distanceToSquared($_)>Math.pow(e.far-e.near,2))return}Y_.copy(i).invert(),Q_.copy(e.ray).applyMatrix4(Y_),null!==n.boundingBox&&!1===Q_.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Q_)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,h=i.groups,d=i.drawRange;if(null!==o)if(Array.isArray(a))for(var f=0,p=h.length;f<p;f++)for(var v=h[f],m=a[v.materialIndex],g=Math.max(v.start,d.start),y=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count));g<y;g+=3){(r=dw(this,m,e,n,l,u,c,o.getX(g),o.getX(g+1),o.getX(g+2)))&&(r.faceIndex=Math.floor(g/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(var b=Math.max(0,d.start),x=Math.min(o.count,d.start+d.count);b<x;b+=3){(r=dw(this,a,e,n,l,u,c,o.getX(b),o.getX(b+1),o.getX(b+2)))&&(r.faceIndex=Math.floor(b/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var _=0,w=h.length;_<w;_++)for(var E=h[_],S=a[E.materialIndex],T=Math.max(E.start,d.start),M=Math.min(s.count,Math.min(E.start+E.count,d.start+d.count));T<M;T+=3){(r=dw(this,S,e,n,l,u,c,T,T+1,T+2))&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=E.materialIndex,t.push(r))}else for(var k=Math.max(0,d.start),A=Math.min(s.count,d.start+d.count);k<A;k+=3){(r=dw(this,a,e,n,l,u,c,k,k+1,k+2))&&(r.faceIndex=Math.floor(k/3),t.push(r))}}}]),n}(d_);function dw(e,t,n,r,i,a,o,s,l,u){e.getVertexPosition(s,J_),e.getVertexPosition(l,Z_),e.getVertexPosition(u,ew);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===xy?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===by,s)))return null;cw.copy(s),cw.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(cw);return l<n.near||l>n.far?null:{distance:l,point:cw.clone(),object:e}}(e,t,n,r,J_,Z_,ew,uw);if(c){i&&(rw.fromBufferAttribute(i,s),iw.fromBufferAttribute(i,l),aw.fromBufferAttribute(i,u),c.uv=S_.getInterpolation(uw,J_,Z_,ew,rw,iw,aw,new jb)),a&&(rw.fromBufferAttribute(a,s),iw.fromBufferAttribute(a,l),aw.fromBufferAttribute(a,u),c.uv1=S_.getInterpolation(uw,J_,Z_,ew,rw,iw,aw,new jb),c.uv2=c.uv1),o&&(ow.fromBufferAttribute(o,s),sw.fromBufferAttribute(o,l),lw.fromBufferAttribute(o,u),c.normal=S_.getInterpolation(uw,J_,Z_,ew,ow,sw,lw,new hx),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var h={a:s,b:l,c:u,normal:new hx,materialIndex:0};S_.getNormal(J_,Z_,ew,h.normal),c.face=h}return c}var fw=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;g(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=S(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],d=[],f=[],p=0,v=0;function m(e,t,n,r,i,a,o,s,l,m,g){for(var y=a/l,b=o/m,x=a/2,_=o/2,w=s/2,E=l+1,S=m+1,T=0,M=0,k=new hx,A=0;A<S;A++)for(var R=A*b-_,C=0;C<E;C++){var O=C*y-x;k[e]=O*r,k[t]=R*i,k[n]=w,h.push(k.x,k.y,k.z),k[e]=0,k[t]=0,k[n]=s>0?1:-1,d.push(k.x,k.y,k.z),f.push(C/l),f.push(1-A/m),T+=1}for(var I=0;I<m;I++)for(var P=0;P<l;P++){var N=p+P+E*I,D=p+P+E*(I+1),L=p+(P+1)+E*(I+1),U=p+(P+1)+E*I;c.push(N,D,U),c.push(D,L,U),M+=6}u.addGroup(v,M,g),v+=M,p+=T}return m("z","y","x",-1,-1,a,i,r,l,s,0),m("z","y","x",1,-1,a,i,-r,l,s,1),m("x","z","y",1,1,r,a,i,o,l,2),m("x","z","y",1,-1,r,a,-i,o,l,3),m("x","y","z",1,-1,r,i,a,o,s,4),m("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new j_(h,3)),e.setAttribute("normal",new j_(d,3)),e.setAttribute("uv",new j_(f,2)),e}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(X_);function pw(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function vw(e){for(var t={},n=0;n<e.length;n++){var r=pw(e[n]);for(var i in r)t[i]=r[i]}return t}function mw(e){return null===e.getRenderTarget()?e.outputColorSpace:mb}var gw={clone:pw,merge:vw},yw=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=pw(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=py(w(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(M_),bw=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new zx,e.projectionMatrix=new zx,e.projectionMatrixInverse=new zx,e.coordinateSystem=wb,e}return b(n,[{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){py(w(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){py(w(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(d_),xw=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return g(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return b(n,[{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Ab*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*kb*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Ab*Math.atan(Math.tan(.5*kb*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*kb*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=py(w(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(bw),_w=-90,ww=function(e){_(n,e);var t=T(n);function n(e,r,i){var a;g(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i,a.coordinateSystem=null;var o=new xw(_w,1,e,r);o.layers=a.layers,a.add(o);var s=new xw(_w,1,e,r);s.layers=a.layers,a.add(s);var l=new xw(_w,1,e,r);l.layers=a.layers,a.add(l);var u=new xw(_w,1,e,r);u.layers=a.layers,a.add(u);var c=new xw(_w,1,e,r);c.layers=a.layers,a.add(c);var h=new xw(_w,1,e,r);return h.layers=a.layers,a.add(h),a}return b(n,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=p(n,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=A(n);try{for(c.s();!(e=c.n()).done;){var h=e.value;this.remove(h)}}catch(m){c.e(m)}finally{c.f()}if(t===wb)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else{if(t!==Eb)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1)}var d,f=A(n);try{for(f.s();!(d=f.n()).done;){var v=d.value;this.add(v),v.updateMatrixWorld()}}catch(m){f.e(m)}finally{f.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var r=p(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=e.getRenderTarget(),h=e.toneMapping,d=e.xr.enabled;e.toneMapping=Ty,e.xr.enabled=!1;var f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}]),n}(d_),Ew=function(e){_(n,e);var t=T(n);function n(e,r,i,a,o,s,l,u,c,h){var d;return g(this,n),e=void 0!==e?e:[],r=void 0!==r?r:Oy,(d=t.call(this,e,r,i,a,o,s,l,u,c,h)).isCubeTexture=!0,d.flipY=!1,d}return b(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(ax),Sw=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return void 0!==i.encoding&&(Gb("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===fb?vb:pb),e.texture=new Ew(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:Vy,e}return b(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new fw(5,5,5),o=new yw({name:"CubemapFromEquirect",uniforms:pw(n),vertexShader:r,fragmentShader:i,side:xy,blending:0});o.uniforms.tEquirect.value=t;var s=new hw(a,o),l=t.minFilter;return t.minFilter===Wy&&(t.minFilter=Vy),new ww(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(sx),Tw=new hx,Mw=new hx,kw=new Bb,Aw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hx(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return b(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Tw.subVectors(n,t).cross(Mw.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(Tw),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||kw.getNormalMatrix(e),r=this.coplanarPoint(Tw).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Rw=new Ix,Cw=new hx,Ow=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Aw,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Aw,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Aw,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Aw,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Aw,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Aw;g(this,e),this.planes=[t,n,r,i,a,o]}return b(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wb,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],h=r[7],d=r[8],f=r[9],p=r[10],v=r[11],m=r[12],g=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,h-l,v-d,b-m).normalize(),n[1].setComponents(s+i,h+l,v+d,b+m).normalize(),n[2].setComponents(s+a,h+u,v+f,b+g).normalize(),n[3].setComponents(s-a,h-u,v-f,b-g).normalize(),n[4].setComponents(s-o,h-c,v-p,b-y).normalize(),t===wb)n[5].setComponents(s+o,h+c,v+p,b+y).normalize();else{if(t!==Eb)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Rw.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Rw.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Rw)}},{key:"intersectsSprite",value:function(e){return Rw.center.set(0,0,0),Rw.radius=.7071067811865476,Rw.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rw)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Cw.x=r.normal.x>0?e.max.x:e.min.x,Cw.y=r.normal.y>0?e.max.y:e.min.y,Cw.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Cw)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function Iw(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Pw(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=e.UNSIGNED_BYTE}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var Nw=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;g(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,u=Math.floor(a),c=Math.floor(o),h=u+1,d=c+1,f=r/u,p=i/c,v=[],m=[],y=[],b=[],x=0;x<d;x++)for(var _=x*p-l,w=0;w<h;w++){var E=w*f-s;m.push(E,-_,0),y.push(0,0,1),b.push(w/u),b.push(1-x/c)}for(var S=0;S<c;S++)for(var T=0;T<u;T++){var M=T+h*S,k=T+h*(S+1),A=T+1+h*(S+1),R=T+1+h*S;v.push(M,k,R),v.push(k,A,R)}return e.setIndex(v),e.setAttribute("position",new j_(m,3)),e.setAttribute("normal",new j_(y,3)),e.setAttribute("uv",new j_(b,2)),e}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(X_),Dw={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Lw={common:{diffuse:{value:new O_(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bb},alphaMap:{value:null},alphaMapTransform:{value:new Bb},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bb}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bb}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bb}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bb},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bb},normalScale:{value:new jb(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bb},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bb}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bb}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bb}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new O_(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new O_(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Bb},alphaTest:{value:0},uvTransform:{value:new Bb}},sprite:{diffuse:{value:new O_(16777215)},opacity:{value:1},center:{value:new jb(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bb},alphaMap:{value:null},alphaMapTransform:{value:new Bb},alphaTest:{value:0}}},Uw={basic:{uniforms:vw([Lw.common,Lw.specularmap,Lw.envmap,Lw.aomap,Lw.lightmap,Lw.fog]),vertexShader:Dw.meshbasic_vert,fragmentShader:Dw.meshbasic_frag},lambert:{uniforms:vw([Lw.common,Lw.specularmap,Lw.envmap,Lw.aomap,Lw.lightmap,Lw.emissivemap,Lw.bumpmap,Lw.normalmap,Lw.displacementmap,Lw.fog,Lw.lights,{emissive:{value:new O_(0)}}]),vertexShader:Dw.meshlambert_vert,fragmentShader:Dw.meshlambert_frag},phong:{uniforms:vw([Lw.common,Lw.specularmap,Lw.envmap,Lw.aomap,Lw.lightmap,Lw.emissivemap,Lw.bumpmap,Lw.normalmap,Lw.displacementmap,Lw.fog,Lw.lights,{emissive:{value:new O_(0)},specular:{value:new O_(1118481)},shininess:{value:30}}]),vertexShader:Dw.meshphong_vert,fragmentShader:Dw.meshphong_frag},standard:{uniforms:vw([Lw.common,Lw.envmap,Lw.aomap,Lw.lightmap,Lw.emissivemap,Lw.bumpmap,Lw.normalmap,Lw.displacementmap,Lw.roughnessmap,Lw.metalnessmap,Lw.fog,Lw.lights,{emissive:{value:new O_(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dw.meshphysical_vert,fragmentShader:Dw.meshphysical_frag},toon:{uniforms:vw([Lw.common,Lw.aomap,Lw.lightmap,Lw.emissivemap,Lw.bumpmap,Lw.normalmap,Lw.displacementmap,Lw.gradientmap,Lw.fog,Lw.lights,{emissive:{value:new O_(0)}}]),vertexShader:Dw.meshtoon_vert,fragmentShader:Dw.meshtoon_frag},matcap:{uniforms:vw([Lw.common,Lw.bumpmap,Lw.normalmap,Lw.displacementmap,Lw.fog,{matcap:{value:null}}]),vertexShader:Dw.meshmatcap_vert,fragmentShader:Dw.meshmatcap_frag},points:{uniforms:vw([Lw.points,Lw.fog]),vertexShader:Dw.points_vert,fragmentShader:Dw.points_frag},dashed:{uniforms:vw([Lw.common,Lw.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dw.linedashed_vert,fragmentShader:Dw.linedashed_frag},depth:{uniforms:vw([Lw.common,Lw.displacementmap]),vertexShader:Dw.depth_vert,fragmentShader:Dw.depth_frag},normal:{uniforms:vw([Lw.common,Lw.bumpmap,Lw.normalmap,Lw.displacementmap,{opacity:{value:1}}]),vertexShader:Dw.meshnormal_vert,fragmentShader:Dw.meshnormal_frag},sprite:{uniforms:vw([Lw.sprite,Lw.fog]),vertexShader:Dw.sprite_vert,fragmentShader:Dw.sprite_frag},background:{uniforms:{uvTransform:{value:new Bb},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dw.background_vert,fragmentShader:Dw.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Dw.backgroundCube_vert,fragmentShader:Dw.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dw.cube_vert,fragmentShader:Dw.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dw.equirect_vert,fragmentShader:Dw.equirect_frag},distanceRGBA:{uniforms:vw([Lw.common,Lw.displacementmap,{referencePosition:{value:new hx},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dw.distanceRGBA_vert,fragmentShader:Dw.distanceRGBA_frag},shadow:{uniforms:vw([Lw.lights,Lw.fog,{color:{value:new O_(0)},opacity:{value:1}}]),vertexShader:Dw.shadow_vert,fragmentShader:Dw.shadow_frag}};Uw.physical={uniforms:vw([Uw.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bb},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bb},clearcoatNormalScale:{value:new jb(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bb},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bb},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bb},sheen:{value:0},sheenColor:{value:new O_(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bb},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bb},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bb},transmissionSamplerSize:{value:new jb},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bb},attenuationDistance:{value:0},attenuationColor:{value:new O_(0)},specularColor:{value:new O_(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bb},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bb},anisotropyVector:{value:new jb},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Bb}}]),vertexShader:Dw.meshphysical_vert,fragmentShader:Dw.meshphysical_frag};var Fw={r:0,b:0,g:0};function jw(e,t,n,r,i,a,o){var s,l,u=new O_(0),c=!0===a?0:1,h=null,d=0,f=null;function p(t,n){t.getRGB(Fw,mw(e)),r.buffers.color.setClear(Fw.r,Fw.g,Fw.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),p(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(u,c=e)},render:function(a,v){var m=!1,g=!0===v.isScene?v.background:null;switch(g&&g.isTexture&&(g=(v.backgroundBlurriness>0?n:t).get(g)),null===g?p(u,c):g&&g.isColor&&(p(g,1),m=!0),e.xr.getEnvironmentBlendMode()){case"opaque":m=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),m=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),m=!0}(e.autoClear||m)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===Dy)?(void 0===l&&((l=new hw(new fw(1,1,1),new yw({name:"BackgroundCubeMaterial",uniforms:pw(Uw.backgroundCube.uniforms),vertexShader:Uw.backgroundCube.vertexShader,fragmentShader:Uw.backgroundCube.fragmentShader,side:xy,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=g,l.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,l.material.toneMapped=g.colorSpace!==vb,h===g&&d===g.version&&f===e.toneMapping||(l.material.needsUpdate=!0,h=g,d=g.version,f=e.toneMapping),l.layers.enableAll(),a.unshift(l,l.geometry,l.material,0,0,null)):g&&g.isTexture&&(void 0===s&&((s=new hw(new Nw(2,2),new yw({name:"BackgroundMaterial",uniforms:pw(Uw.background.uniforms),vertexShader:Uw.background.vertexShader,fragmentShader:Uw.background.fragmentShader,side:by,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=g,s.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,s.material.toneMapped=g.colorSpace!==vb,!0===g.matrixAutoUpdate&&g.updateMatrix(),s.material.uniforms.uvTransform.value.copy(g.matrix),h===g&&d===g.version&&f===e.toneMapping||(s.material.needsUpdate=!0,h=g,d=g.version,f=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function Bw(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=f(null),u=l,c=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function f(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,i){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function g(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function b(){x(),c=!0,u!==l&&h((u=l).object)}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,b,x){var _=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c);return c}(b,d,l);u!==w&&h((u=w).object),_=function(e,t,n,r){var i=u.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=i[l],h=a[l];if(void 0===h&&("instanceMatrix"===l&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(h=e.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}}return u.attributesNum!==o||u.index!==r}(i,b,d,x),_&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=a[l];void 0===c&&("instanceMatrix"===l&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(c=e.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),i[l]=h,o++}}u.attributes=i,u.attributesNum=o,u.index=r}(i,b,d,x)}else{var E=!0===l.wireframe;u.geometry===b.id&&u.program===d.id&&u.wireframe===E||(u.geometry=b.id,u.program=d.id,u.wireframe=E,_=!0)}null!==x&&n.update(x,e.ELEMENT_ARRAY_BUFFER),(_||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var d=u[h];if(d.location>=0){var f=l[h];if(void 0===f&&("instanceMatrix"===h&&i.instanceMatrix&&(f=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(f=i.instanceColor)),void 0!==f){var b=f.normalized,x=f.itemSize,_=n.get(f);if(void 0===_)continue;var w=_.buffer,E=_.type,S=_.bytesPerElement,T=!0===r.isWebGL2&&(E===e.INT||E===e.UNSIGNED_INT||f.gpuType===Xy);if(f.isInterleavedBufferAttribute){var M=f.data,k=M.stride,A=f.offset;if(M.isInstancedInterleavedBuffer){for(var R=0;R<d.locationSize;R++)m(d.location+R,M.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=M.meshPerAttribute*M.count)}else for(var C=0;C<d.locationSize;C++)v(d.location+C);e.bindBuffer(e.ARRAY_BUFFER,w);for(var O=0;O<d.locationSize;O++)y(d.location+O,x/d.locationSize,E,b,k*S,(A+x/d.locationSize*O)*S,T)}else{if(f.isInstancedBufferAttribute){for(var I=0;I<d.locationSize;I++)m(d.location+I,f.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=f.meshPerAttribute*f.count)}else for(var P=0;P<d.locationSize;P++)v(d.location+P);e.bindBuffer(e.ARRAY_BUFFER,w);for(var N=0;N<d.locationSize;N++)y(d.location+N,x/d.locationSize,E,b,x*S,x/d.locationSize*N*S,T)}}else if(void 0!==c){var D=c[h];if(void 0!==D)switch(D.length){case 2:e.vertexAttrib2fv(d.location,D);break;case 3:e.vertexAttrib3fv(d.location,D);break;case 4:e.vertexAttrib4fv(d.location,D);break;default:e.vertexAttrib1fv(d.location,D)}}}}g()}(i,l,d,b),null!==x&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(x).buffer))},reset:b,resetDefaultState:x,dispose:function(){for(var e in b(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:g}}function zw(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(a)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,o,s),n.update(o,i,s)}}}function Vw(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_TEXTURE_SIZE),f=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),v=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=h>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function Hw(e){var t=this,n=null,r=0,i=!1,a=!1,o=new Aw,s=new Bb,l={value:null,needsUpdate:!1};function u(e,n,r,i){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){var c=r+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,f=r;d!==a;++d,f+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){var h=o.clippingPlanes,d=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(!i||null===h||0===h.length||a&&!f)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var v=a?0:r,m=4*v,g=p.clippingState||null;l.value=g,g=u(h,s,m,c);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=v}}}function Ww(e){var t=new WeakMap;function n(e,t){return t===Py?e.mapping=Oy:t===Ny&&(e.mapping=Iy),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===Py||a===Ny){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Sw(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var Gw=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return g(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return b(n,[{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=py(w(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(bw),qw=[.125,.215,.35,.446,.526,.582],Xw=20,Yw=new Gw,Qw=new O_,Kw=null,$w=(1+Math.sqrt(5))/2,Jw=1/$w,Zw=[new hx(1,1,1),new hx(-1,1,1),new hx(1,1,-1),new hx(-1,1,-1),new hx(0,$w,Jw),new hx(0,$w,-Jw),new hx(Jw,0,$w),new hx(-Jw,0,$w),new hx($w,Jw,0),new hx(-$w,Jw,0)],eE=function(){function e(t){g(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return b(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Kw=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=iE(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=rE(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Kw),e.scissorTest=!1,nE(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Oy||e.mapping===Iy?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Kw=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Vy,minFilter:Vy,generateMipmaps:!1,type:Ky,format:Jy,colorSpace:mb,depthBuffer:!1},r=tE(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=tE(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+qw.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var l=1/s;o>e-4?l=qw[o-e+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-2),c=-u,h=1+u,d=[c,c,h,c,h,h,c,c,h,h,c,h],f=6,p=6,v=3,m=2,g=1,y=new Float32Array(v*p*f),b=new Float32Array(m*p*f),x=new Float32Array(g*p*f),_=0;_<f;_++){var w=_%3*2/3-1,E=_>2?0:-1,S=[w,E,0,w+2/3,E,0,w+2/3,E+1,0,w,E,0,w+2/3,E+1,0,w,E+1,0];y.set(S,v*p*_),b.set(d,m*p*_);var T=[_,_,_,_,_,_];x.set(T,g*p*_)}var M=new X_;M.setAttribute("position",new L_(y,v)),M.setAttribute("uv",new L_(b,m)),M.setAttribute("faceIndex",new L_(x,g)),t.push(M),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(Xw),i=new hx(0,1,0),a=new yw({name:"SphericalGaussianBlur",defines:{n:Xw,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new hw(this._lodPlanes[0],e);this._renderer.compile(t,Yw)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new xw(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(Qw),s.toneMapping=Ty,s.autoClear=!1;var c=new P_({name:"PMREM.Background",side:xy,depthWrite:!1,depthTest:!1}),h=new hw(new fw,c),d=!1,f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,d=!0):(c.color.copy(Qw),d=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;nE(r,v*m,p>2?m:0,m,m),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=f}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Oy||e.mapping===Iy;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=iE()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=rE());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new hw(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;nE(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Yw)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Zw[(r-1)%Zw.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new hw(this._lodPlanes[r],l),c=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):Xw;p>Xw&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Xw));for(var v=[],m=0,g=0;g<Xw;++g){var y=g/f,b=Math.exp(-y*y/2);v.push(b),0===g?m+=b:g<p&&(m+=2*b)}for(var x=0;x<v.length;x++)v[x]=v[x]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var _=this._lodMax;c.dTheta.value=d,c.mipInt.value=_-n;var w=this._sizeLods[r];nE(t,3*w*(r>_-4?r-_+4:0),4*(this._cubeSize-w),3*w,2*w),s.setRenderTarget(t),s.render(u,Yw)}}]),e}();function tE(e,t,n){var r=new sx(e,t,n);return r.texture.mapping=Dy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function nE(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function rE(){return new yw({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function iE(){return new yw({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function aE(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===Py||a===Ny,s=a===Oy||a===Iy;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=t.get(i);return null===n&&(n=new eE(e)),l=o?n.fromEquirectangular(i,l):n.fromCubemap(i,l),t.set(i,l),l.texture}if(t.has(i))return t.get(i).texture;var u=i.image;if(o&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(u)){null===n&&(n=new eE(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function oE(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function sE(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);for(var u in s.morphAttributes)for(var c=s.morphAttributes[u],h=0,d=c.length;h<d;h++)t.remove(c[h]);s.removeEventListener("dispose",o),delete i[s.id];var f=a.get(s);f&&(t.remove(f),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],d=s[l+2];n.push(c,h,h,d,d,c)}}else{var f=i.array;o=i.version;for(var p=0,v=f.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var b=new(Vb(n)?F_:U_)(n,1);b.version=o;var x=a.get(e);x&&t.remove(x),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],l=0,u=s.length;l<u;l++)t.update(s[l],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function lE(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,l,a,r*o,u),n.update(l,i,u)}}}function uE(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function cE(e,t){return e[0]-t[0]}function hE(e,t){return Math.abs(t[1])-Math.abs(e[1])}function dE(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new ox,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c){var h=l.morphTargetInfluences;if(!0===t.isWebGL2){var d=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,f=void 0!==d?d.length:0,p=a.get(u);if(void 0===p||p.count!==f){void 0!==p&&p.texture.dispose();var v=void 0!==u.morphAttributes.position,m=void 0!==u.morphAttributes.normal,g=void 0!==u.morphAttributes.color,y=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],x=u.morphAttributes.color||[],_=0;!0===v&&(_=1),!0===m&&(_=2),!0===g&&(_=3);var w=u.attributes.position.count*_,E=1;w>t.maxTextureSize&&(E=Math.ceil(w/t.maxTextureSize),w=t.maxTextureSize);var S=new Float32Array(w*E*4*f),T=new lx(S,w,E,f);T.type=Qy,T.needsUpdate=!0;for(var M=4*_,k=0;k<f;k++)for(var A=y[k],R=b[k],C=x[k],O=w*E*4*k,I=0;I<A.count;I++){var P=I*M;!0===v&&(o.fromBufferAttribute(A,I),S[O+P+0]=o.x,S[O+P+1]=o.y,S[O+P+2]=o.z,S[O+P+3]=0),!0===m&&(o.fromBufferAttribute(R,I),S[O+P+4]=o.x,S[O+P+5]=o.y,S[O+P+6]=o.z,S[O+P+7]=0),!0===g&&(o.fromBufferAttribute(C,I),S[O+P+8]=o.x,S[O+P+9]=o.y,S[O+P+10]=o.z,S[O+P+11]=4===C.itemSize?o.w:1)}p={count:f,texture:T,size:new jb(w,E)},a.set(u,p),u.addEventListener("dispose",(function e(){T.dispose(),a.delete(u),u.removeEventListener("dispose",e)}))}for(var N=0,D=0;D<h.length;D++)N+=h[D];var L=u.morphTargetsRelative?1:1-N;c.getUniforms().setValue(e,"morphTargetBaseInfluence",L),c.getUniforms().setValue(e,"morphTargetInfluences",h),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var U=void 0===h?0:h.length,F=r[u.id];if(void 0===F||F.length!==U){F=[];for(var j=0;j<U;j++)F[j]=[j,0];r[u.id]=F}for(var B=0;B<U;B++){var z=F[B];z[0]=B,z[1]=h[B]}F.sort(hE);for(var V=0;V<8;V++)V<U&&F[V][1]?(s[V][0]=F[V][0],s[V][1]=F[V][1]):(s[V][0]=Number.MAX_SAFE_INTEGER,s[V][1]=0);s.sort(cE);for(var H=u.morphAttributes.position,W=u.morphAttributes.normal,G=0,q=0;q<8;q++){var X=s[q],Y=X[0],Q=X[1];Y!==Number.MAX_SAFE_INTEGER&&Q?(H&&u.getAttribute("morphTarget"+q)!==H[Y]&&u.setAttribute("morphTarget"+q,H[Y]),W&&u.getAttribute("morphNormal"+q)!==W[Y]&&u.setAttribute("morphNormal"+q,W[Y]),i[q]=Q,G+=Q):(H&&!0===u.hasAttribute("morphTarget"+q)&&u.deleteAttribute("morphTarget"+q),W&&!0===u.hasAttribute("morphNormal"+q)&&u.deleteAttribute("morphNormal"+q),i[q]=0)}var K=u.morphTargetsRelative?1:1-G;c.getUniforms().setValue(e,"morphTargetBaseInfluence",K),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function fE(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,l=o.geometry,u=t.get(o,l);return i.get(u)!==s&&(t.update(u),i.set(u,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER)),u},dispose:function(){i=new WeakMap}}}var pE=new ax,vE=new lx,mE=new ux,gE=new Ew,yE=[],bE=[],xE=new Float32Array(16),_E=new Float32Array(9),wE=new Float32Array(4);function EE(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=yE[i];if(void 0===a&&(a=new Float32Array(i),yE[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function SE(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function TE(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function ME(e,t){var n=bE[t];void 0===n&&(n=new Int32Array(t),bE[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function kE(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function AE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(SE(n,t))return;e.uniform2fv(this.addr,t),TE(n,t)}}function RE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(SE(n,t))return;e.uniform3fv(this.addr,t),TE(n,t)}}function CE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(SE(n,t))return;e.uniform4fv(this.addr,t),TE(n,t)}}function OE(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(SE(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),TE(n,t)}else{if(SE(n,r))return;wE.set(r),e.uniformMatrix2fv(this.addr,!1,wE),TE(n,r)}}function IE(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(SE(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),TE(n,t)}else{if(SE(n,r))return;_E.set(r),e.uniformMatrix3fv(this.addr,!1,_E),TE(n,r)}}function PE(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(SE(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),TE(n,t)}else{if(SE(n,r))return;xE.set(r),e.uniformMatrix4fv(this.addr,!1,xE),TE(n,r)}}function NE(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function DE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(SE(n,t))return;e.uniform2iv(this.addr,t),TE(n,t)}}function LE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(SE(n,t))return;e.uniform3iv(this.addr,t),TE(n,t)}}function UE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(SE(n,t))return;e.uniform4iv(this.addr,t),TE(n,t)}}function FE(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function jE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(SE(n,t))return;e.uniform2uiv(this.addr,t),TE(n,t)}}function BE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(SE(n,t))return;e.uniform3uiv(this.addr,t),TE(n,t)}}function zE(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(SE(n,t))return;e.uniform4uiv(this.addr,t),TE(n,t)}}function VE(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||pE,i)}function HE(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||mE,i)}function WE(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||gE,i)}function GE(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||vE,i)}function qE(e,t){e.uniform1fv(this.addr,t)}function XE(e,t){var n=EE(t,this.size,2);e.uniform2fv(this.addr,n)}function YE(e,t){var n=EE(t,this.size,3);e.uniform3fv(this.addr,n)}function QE(e,t){var n=EE(t,this.size,4);e.uniform4fv(this.addr,n)}function KE(e,t){var n=EE(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function $E(e,t){var n=EE(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function JE(e,t){var n=EE(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function ZE(e,t){e.uniform1iv(this.addr,t)}function eS(e,t){e.uniform2iv(this.addr,t)}function tS(e,t){e.uniform3iv(this.addr,t)}function nS(e,t){e.uniform4iv(this.addr,t)}function rS(e,t){e.uniform1uiv(this.addr,t)}function iS(e,t){e.uniform2uiv(this.addr,t)}function aS(e,t){e.uniform3uiv(this.addr,t)}function oS(e,t){e.uniform4uiv(this.addr,t)}function sS(e,t,n){var r=this.cache,i=t.length,a=ME(n,i);SE(r,a)||(e.uniform1iv(this.addr,a),TE(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||pE,a[o])}function lS(e,t,n){var r=this.cache,i=t.length,a=ME(n,i);SE(r,a)||(e.uniform1iv(this.addr,a),TE(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||mE,a[o])}function uS(e,t,n){var r=this.cache,i=t.length,a=ME(n,i);SE(r,a)||(e.uniform1iv(this.addr,a),TE(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||gE,a[o])}function cS(e,t,n){var r=this.cache,i=t.length,a=ME(n,i);SE(r,a)||(e.uniform1iv(this.addr,a),TE(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||vE,a[o])}var hS=b((function e(t,n,r){g(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return kE;case 35664:return AE;case 35665:return RE;case 35666:return CE;case 35674:return OE;case 35675:return IE;case 35676:return PE;case 5124:case 35670:return NE;case 35667:case 35671:return DE;case 35668:case 35672:return LE;case 35669:case 35673:return UE;case 5125:return FE;case 36294:return jE;case 36295:return BE;case 36296:return zE;case 35678:case 36198:case 36298:case 36306:case 35682:return VE;case 35679:case 36299:case 36307:return HE;case 35680:case 36300:case 36308:case 36293:return WE;case 36289:case 36303:case 36311:case 36292:return GE}}(n.type)})),dS=b((function e(t,n,r){g(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return qE;case 35664:return XE;case 35665:return YE;case 35666:return QE;case 35674:return KE;case 35675:return $E;case 35676:return JE;case 5124:case 35670:return ZE;case 35667:case 35671:return eS;case 35668:case 35672:return tS;case 35669:case 35673:return nS;case 5125:return rS;case 36294:return iS;case 36295:return aS;case 36296:return oS;case 35678:case 36198:case 36298:case 36306:case 35682:return sS;case 35679:case 36299:case 36307:return lS;case 35680:case 36300:case 36308:case 36293:return uS;case 36289:case 36303:case 36311:case 36292:return cS}}(n.type)})),fS=function(){function e(t){g(this,e),this.id=t,this.seq=[],this.map={}}return b(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),pS=/(\w+)(\])?(\[|\.)?/g;function vS(e,t){e.seq.push(t),e.map[t.id]=t}function mS(e,t,n){var r=e.name,i=r.length;for(pS.lastIndex=0;;){var a=pS.exec(r),o=pS.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){vS(n,void 0===u?new hS(s,e,t):new dS(s,e,t));break}var c=n.map[s];void 0===c&&vS(n,c=new fS(s)),n=c}}var gS=function(){function e(t,n){g(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);mS(a,t.getUniformLocation(n,a.name),this)}}return b(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function yS(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var bS=0;function xS(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function _S(e,t){var n=function(e){switch(e){case mb:return["Linear","( value )"];case vb:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function wS(e,t){var n;switch(t){case My:n="Linear";break;case ky:n="Reinhard";break;case Ay:n="OptimizedCineon";break;case Ry:n="ACESFilmic";break;case Cy:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ES(e){return""!==e}function SS(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function TS(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var MS=/^[ \t]*#include +<([\w\d./]+)>/gm;function kS(e){return e.replace(MS,AS)}function AS(e,t){var n=Dw[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return kS(n)}var RS=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function CS(e){return e.replace(RS,OS)}function OS(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function IS(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function PS(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===my?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===gy?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===yy&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Oy:case Iy:t="ENVMAP_TYPE_CUBE";break;case Dy:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Iy&&(t="ENVMAP_MODE_REFRACTION");return t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case wy:t="ENVMAP_BLENDING_MULTIPLY";break;case Ey:t="ENVMAP_BLENDING_MIX";break;case Sy:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ES).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(ES).join("\n")).length>0&&(i+="\n"),(a=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(ES).join("\n")).length>0&&(a+="\n")):(i=[IS(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ES).join("\n"),a=[v,IS(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ty?"#define TONE_MAPPING":"",n.toneMapping!==Ty?Dw.tonemapping_pars_fragment:"",n.toneMapping!==Ty?wS("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Dw.encodings_pars_fragment,_S("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ES).join("\n")),l=TS(l=SS(l=kS(l),n),n),u=TS(u=SS(u=kS(u),n),n),l=CS(l),u=CS(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===xb?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===xb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,x,_=y+i+l,w=y+a+u,E=yS(o,o.VERTEX_SHADER,_),S=yS(o,o.FRAGMENT_SHADER,w);if(o.attachShader(g,E),o.attachShader(g,S),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var T=o.getProgramInfoLog(g).trim(),M=o.getShaderInfoLog(E).trim(),k=o.getShaderInfoLog(S).trim(),A=!0,R=!0;if(!1===o.getProgramParameter(g,o.LINK_STATUS))if(A=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,g,E,S);else{var C=xS(o,E,"vertex"),O=xS(o,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,o.VALIDATE_STATUS)+"\n\nProgram Info Log: "+T+"\n"+C+"\n"+O)}else""!==T?console.warn("THREE.WebGLProgram: Program Info Log:",T):""!==M&&""!==k||(R=!1);R&&(this.diagnostics={runnable:A,programLog:T,vertexShader:{log:M,prefix:i},fragmentShader:{log:k,prefix:a}})}return o.deleteShader(E),o.deleteShader(S),this.getUniforms=function(){return void 0===b&&(b=new gS(o,g)),b},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,g)),x},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=bS++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=E,this.fragmentShader=S,this}var NS=0,DS=function(){function e(){g(this,e),this.shaderCache=new Map,this.materialCache=new Map}return b(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=A(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new LS(e),t.set(e,n)),n}}]),e}(),LS=b((function e(t){g(this,e),this.id=NS++,this.code=t,this.usedTimes=0}));function US(e,t,n,r,i,a,o){var s=new Jx,l=new DS,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures,f=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){return 0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,u,m,g){var y=m.fog,b=g.geometry,x=a.isMeshStandardMaterial?m.environment:null,_=(a.isMeshStandardMaterial?n:t).get(a.envMap||x),w=_&&_.mapping===Dy?_.image.height:null,E=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead.");var S,T,M,k,A=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,R=void 0!==A?A.length:0,C=0;if(void 0!==b.morphAttributes.position&&(C=1),void 0!==b.morphAttributes.normal&&(C=2),void 0!==b.morphAttributes.color&&(C=3),E){var O=Uw[E];S=O.vertexShader,T=O.fragmentShader}else S=a.vertexShader,T=a.fragmentShader,l.update(a),M=l.getVertexShaderID(a),k=l.getFragmentShaderID(a);var I=e.getRenderTarget(),P=!0===g.isInstancedMesh,N=!!a.map,D=!!a.matcap,L=!!_,U=!!a.aoMap,F=!!a.lightMap,j=!!a.bumpMap,B=!!a.normalMap,z=!!a.displacementMap,V=!!a.emissiveMap,H=!!a.metalnessMap,W=!!a.roughnessMap,G=a.anisotropy>0,q=a.clearcoat>0,X=a.iridescence>0,Y=a.sheen>0,Q=a.transmission>0,K=G&&!!a.anisotropyMap,$=q&&!!a.clearcoatMap,J=q&&!!a.clearcoatNormalMap,Z=q&&!!a.clearcoatRoughnessMap,ee=X&&!!a.iridescenceMap,te=X&&!!a.iridescenceThicknessMap,ne=Y&&!!a.sheenColorMap,re=Y&&!!a.sheenRoughnessMap,ie=!!a.specularMap,ae=!!a.specularColorMap,oe=!!a.specularIntensityMap,se=Q&&!!a.transmissionMap,le=Q&&!!a.thicknessMap,ue=!!a.gradientMap,ce=!!a.alphaMap,he=a.alphaTest>0,de=!!a.extensions,fe=!!b.attributes.uv1,pe=!!b.attributes.uv2,ve=!!b.attributes.uv3;return{isWebGL2:c,shaderID:E,shaderType:a.type,shaderName:a.name,vertexShader:S,fragmentShader:T,defines:a.defines,customVertexShaderID:M,customFragmentShaderID:k,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,instancing:P,instancingColor:P&&null!==g.instanceColor,supportsVertexTextures:d,outputColorSpace:null===I?e.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:mb,map:N,matcap:D,envMap:L,envMapMode:L&&_.mapping,envMapCubeUVHeight:w,aoMap:U,lightMap:F,bumpMap:j,normalMap:B,displacementMap:d&&z,emissiveMap:V,normalMapObjectSpace:B&&1===a.normalMapType,normalMapTangentSpace:B&&0===a.normalMapType,metalnessMap:H,roughnessMap:W,anisotropy:G,anisotropyMap:K,clearcoat:q,clearcoatMap:$,clearcoatNormalMap:J,clearcoatRoughnessMap:Z,iridescence:X,iridescenceMap:ee,iridescenceThicknessMap:te,sheen:Y,sheenColorMap:ne,sheenRoughnessMap:re,specularMap:ie,specularColorMap:ae,specularIntensityMap:oe,transmission:Q,transmissionMap:se,thicknessMap:le,gradientMap:ue,opaque:!1===a.transparent&&1===a.blending,alphaMap:ce,alphaTest:he,combine:a.combine,mapUv:N&&v(a.map.channel),aoMapUv:U&&v(a.aoMap.channel),lightMapUv:F&&v(a.lightMap.channel),bumpMapUv:j&&v(a.bumpMap.channel),normalMapUv:B&&v(a.normalMap.channel),displacementMapUv:z&&v(a.displacementMap.channel),emissiveMapUv:V&&v(a.emissiveMap.channel),metalnessMapUv:H&&v(a.metalnessMap.channel),roughnessMapUv:W&&v(a.roughnessMap.channel),anisotropyMapUv:K&&v(a.anisotropyMap.channel),clearcoatMapUv:$&&v(a.clearcoatMap.channel),clearcoatNormalMapUv:J&&v(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Z&&v(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&v(a.iridescenceMap.channel),iridescenceThicknessMapUv:te&&v(a.iridescenceThicknessMap.channel),sheenColorMapUv:ne&&v(a.sheenColorMap.channel),sheenRoughnessMapUv:re&&v(a.sheenRoughnessMap.channel),specularMapUv:ie&&v(a.specularMap.channel),specularColorMapUv:ae&&v(a.specularColorMap.channel),specularIntensityMapUv:oe&&v(a.specularIntensityMap.channel),transmissionMapUv:se&&v(a.transmissionMap.channel),thicknessMapUv:le&&v(a.thicknessMap.channel),alphaMapUv:ce&&v(a.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(B||G),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUv1s:fe,vertexUv2s:pe,vertexUv3s:ve,pointsUvs:!0===g.isPoints&&!!b.attributes.uv&&(N||ce),fog:!!y,useFog:!0===a.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:R,morphTextureStride:C,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:Ty,useLegacyLights:e.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:a.side===xy,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:de&&!0===a.extensions.derivatives,extensionFragDepth:de&&!0===a.extensions.fragDepth,extensionDrawBuffers:de&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:de&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=Uw[n];t=gw.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=u.length;i<o;i++){var s=u[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new PS(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function FS(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function jS(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function BS(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function zS(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||jS),r.length>1&&r.sort(t||BS),i.length>1&&i.sort(t||BS)}}}function VS(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new zS,e.set(t,[r])):n>=i.length?(r=new zS,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function HS(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new hx,color:new O_};break;case"SpotLight":n={position:new hx,direction:new hx,color:new O_,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new hx,color:new O_,distance:0,decay:0};break;case"HemisphereLight":n={direction:new hx,skyColor:new O_,groundColor:new O_};break;case"RectAreaLight":n={color:new O_,position:new hx,halfWidth:new hx,halfHeight:new hx}}return e[t.id]=n,n}}}var WS=0;function GS(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function qS(e,t){for(var n=new HS,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jb};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jb,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new hx);var o=new hx,s=new zx,l=new zx;return{setup:function(a,o){for(var s=0,l=0,u=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,d=0,f=0,p=0,v=0,m=0,g=0,y=0,b=0,x=0;a.sort(GS);for(var _=!0===o?Math.PI:1,w=0,E=a.length;w<E;w++){var S=a[w],T=S.color,M=S.intensity,k=S.distance,A=S.shadow&&S.shadow.map?S.shadow.map.texture:null;if(S.isAmbientLight)s+=T.r*M*_,l+=T.g*M*_,u+=T.b*M*_;else if(S.isLightProbe)for(var R=0;R<9;R++)i.probe[R].addScaledVector(S.sh.coefficients[R],M);else if(S.isDirectionalLight){var C=n.get(S);if(C.color.copy(S.color).multiplyScalar(S.intensity*_),S.castShadow){var O=S.shadow,I=r.get(S);I.shadowBias=O.bias,I.shadowNormalBias=O.normalBias,I.shadowRadius=O.radius,I.shadowMapSize=O.mapSize,i.directionalShadow[h]=I,i.directionalShadowMap[h]=A,i.directionalShadowMatrix[h]=S.shadow.matrix,m++}i.directional[h]=C,h++}else if(S.isSpotLight){var P=n.get(S);P.position.setFromMatrixPosition(S.matrixWorld),P.color.copy(T).multiplyScalar(M*_),P.distance=k,P.coneCos=Math.cos(S.angle),P.penumbraCos=Math.cos(S.angle*(1-S.penumbra)),P.decay=S.decay,i.spot[f]=P;var N=S.shadow;if(S.map&&(i.spotLightMap[b]=S.map,b++,N.updateMatrices(S),S.castShadow&&x++),i.spotLightMatrix[f]=N.matrix,S.castShadow){var D=r.get(S);D.shadowBias=N.bias,D.shadowNormalBias=N.normalBias,D.shadowRadius=N.radius,D.shadowMapSize=N.mapSize,i.spotShadow[f]=D,i.spotShadowMap[f]=A,y++}f++}else if(S.isRectAreaLight){var L=n.get(S);L.color.copy(T).multiplyScalar(M),L.halfWidth.set(.5*S.width,0,0),L.halfHeight.set(0,.5*S.height,0),i.rectArea[p]=L,p++}else if(S.isPointLight){var U=n.get(S);if(U.color.copy(S.color).multiplyScalar(S.intensity*_),U.distance=S.distance,U.decay=S.decay,S.castShadow){var F=S.shadow,j=r.get(S);j.shadowBias=F.bias,j.shadowNormalBias=F.normalBias,j.shadowRadius=F.radius,j.shadowMapSize=F.mapSize,j.shadowCameraNear=F.camera.near,j.shadowCameraFar=F.camera.far,i.pointShadow[d]=j,i.pointShadowMap[d]=A,i.pointShadowMatrix[d]=S.shadow.matrix,g++}i.point[d]=U,d++}else if(S.isHemisphereLight){var B=n.get(S);B.skyColor.copy(S.color).multiplyScalar(M*_),B.groundColor.copy(S.groundColor).multiplyScalar(M*_),i.hemi[v]=B,v++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Lw.LTC_FLOAT_1,i.rectAreaLTC2=Lw.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Lw.LTC_HALF_1,i.rectAreaLTC2=Lw.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;var z=i.hash;z.directionalLength===h&&z.pointLength===d&&z.spotLength===f&&z.rectAreaLength===p&&z.hemiLength===v&&z.numDirectionalShadows===m&&z.numPointShadows===g&&z.numSpotShadows===y&&z.numSpotMaps===b||(i.directional.length=h,i.spot.length=f,i.rectArea.length=p,i.point.length=d,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=y+b-x,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=x,z.directionalLength=h,z.pointLength=d,z.spotLength=f,z.rectAreaLength=p,z.hemiLength=v,z.numDirectionalShadows=m,z.numPointShadows=g,z.numSpotShadows=y,z.numSpotMaps=b,i.version=WS++)},setupView:function(e,t){for(var n=0,r=0,a=0,u=0,c=0,h=t.matrixWorldInverse,d=0,f=e.length;d<f;d++){var p=e[d];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(h),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var g=i.rectArea[u];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),l.identity(),s.copy(p.matrixWorld),s.premultiply(h),l.extractRotation(s),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(l),g.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),r++}else if(p.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(h),c++}}},state:i}}function XS(e,t){var n=new qS(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function YS(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new XS(e,t),n.set(r,[i])):a>=o.length?(i=new XS(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var QS=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(M_),KS=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(M_);function $S(e,t,n){var r,i=new Ow,a=new jb,o=new jb,l=new ox,u=new QS({depthPacking:3201}),c=new KS,h={},d=n.maxTextureSize,f=(s(r={},by,xy),s(r,xy,by),s(r,2,2),r),p=new yw({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new jb},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),v=p.clone();v.defines.HORIZONTAL_PASS=1;var m=new X_;m.setAttribute("position",new L_(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var g=new hw(m,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=my;var b=this.type;function x(n,r){var i=t.update(g);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,v.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,v.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new sx(a.x,a.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,p,g,null),v.uniforms.shadow_pass.value=n.mapPass.texture,v.uniforms.resolution.value=n.mapSize,v.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,v,g,null)}function _(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?c:u,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var s=a.uuid,l=n.uuid,d=h[s];void 0===d&&(d={},h[s]=d);var p=d[l];void 0===p&&(p=a.clone(),d[l]=p),a=p}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===yy?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function w(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===yy)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,d=c.length;h<d;h++){var f=c[h],p=u[f.materialIndex];if(p&&p.visible){var v=_(n,p,o,s);e.renderBufferDirect(a,null,l,v,n,f)}}else if(u.visible){var m=_(n,u,o,s);e.renderBufferDirect(a,null,l,m,n,null)}}for(var g=n.children,y=0,b=g.length;y<b;y++)w(g[y],r,a,o,s)}}this.render=function(t,n,r){if(!1!==y.enabled&&(!1!==y.autoUpdate||!1!==y.needsUpdate)&&0!==t.length){var s=e.getRenderTarget(),u=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var f=b!==yy&&this.type===yy,p=b===yy&&this.type!==yy,v=0,m=t.length;v<m;v++){var g=t[v],_=g.shadow;if(void 0!==_){if(!1!==_.autoUpdate||!1!==_.needsUpdate){a.copy(_.mapSize);var E=_.getFrameExtents();if(a.multiply(E),o.copy(_.mapSize),(a.x>d||a.y>d)&&(a.x>d&&(o.x=Math.floor(d/E.x),a.x=o.x*E.x,_.mapSize.x=o.x),a.y>d&&(o.y=Math.floor(d/E.y),a.y=o.y*E.y,_.mapSize.y=o.y)),null===_.map||!0===f||!0===p){var S=this.type!==yy?{minFilter:jy,magFilter:jy}:{};null!==_.map&&_.map.dispose(),_.map=new sx(a.x,a.y,S),_.map.texture.name=g.name+".shadowMap",_.camera.updateProjectionMatrix()}e.setRenderTarget(_.map),e.clear();for(var T=_.getViewportCount(),M=0;M<T;M++){var k=_.getViewport(M);l.set(o.x*k.x,o.y*k.y,o.x*k.z,o.y*k.w),h.viewport(l),_.updateMatrices(g,M),i=_.getFrustum(),w(n,r,_.camera,g,this.type)}!0!==_.isPointLightShadow&&this.type===yy&&x(_,r),_.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}b=this.type,y.needsUpdate=!1,e.setRenderTarget(s,u,c)}}}function JS(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new ox,r=null,i=new ox(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},l=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?H(e.DEPTH_TEST):W(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(n){t||(n?H(e.STENCIL_TEST):W(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},c=new WeakMap,h=new WeakMap,d={},f={},p=new WeakMap,v=[],m=null,g=!1,y=null,b=null,x=null,_=null,w=null,E=null,S=null,T=!1,M=null,k=null,A=null,R=null,C=null,O=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),I=!1,P=0,N=e.getParameter(e.VERSION);-1!==N.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(N)[1]),I=P>=1):-1!==N.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),I=P>=2);var D=null,L={},U=e.getParameter(e.SCISSOR_BOX),F=e.getParameter(e.VIEWPORT),j=(new ox).fromArray(U),B=(new ox).fromArray(F);function z(t,n,r,i){var o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var l=0;l<r;l++)!a||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}var V={};function H(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function W(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}V[e.TEXTURE_2D]=z(e.TEXTURE_2D,e.TEXTURE_2D,1),V[e.TEXTURE_CUBE_MAP]=z(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(V[e.TEXTURE_2D_ARRAY]=z(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),V[e.TEXTURE_3D]=z(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),u.setClear(0),H(e.DEPTH_TEST),l.setFunc(3),Q(!1),K(1),H(e.CULL_FACE),Y(0);var G=(s(r={},_y,e.FUNC_ADD),s(r,101,e.FUNC_SUBTRACT),s(r,102,e.FUNC_REVERSE_SUBTRACT),r);if(a)G[103]=e.MIN,G[104]=e.MAX;else{var q=t.get("EXT_blend_minmax");null!==q&&(G[103]=q.MIN_EXT,G[104]=q.MAX_EXT)}var X=(s(i={},200,e.ZERO),s(i,201,e.ONE),s(i,202,e.SRC_COLOR),s(i,204,e.SRC_ALPHA),s(i,210,e.SRC_ALPHA_SATURATE),s(i,208,e.DST_COLOR),s(i,206,e.DST_ALPHA),s(i,203,e.ONE_MINUS_SRC_COLOR),s(i,205,e.ONE_MINUS_SRC_ALPHA),s(i,209,e.ONE_MINUS_DST_COLOR),s(i,207,e.ONE_MINUS_DST_ALPHA),i);function Y(t,n,r,i,a,o,s,l){if(0!==t){if(!1===g&&(H(e.BLEND),g=!0),5===t)a=a||n,o=o||r,s=s||i,n===b&&a===w||(e.blendEquationSeparate(G[n],G[a]),b=n,w=a),r===x&&i===_&&o===E&&s===S||(e.blendFuncSeparate(X[r],X[i],X[o],X[s]),x=r,_=i,E=o,S=s),y=t,T=!1;else if(t!==y||l!==T){if(b===_y&&w===_y||(e.blendEquation(e.FUNC_ADD),b=_y,w=_y),l)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}x=null,_=null,E=null,S=null,y=t,T=l}}else!0===g&&(W(e.BLEND),g=!1)}function Q(t){M!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),M=t)}function K(t){0!==t?(H(e.CULL_FACE),t!==k&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):W(e.CULL_FACE),k=t}function $(t,n,r){t?(H(e.POLYGON_OFFSET_FILL),R===n&&C===r||(e.polygonOffset(n,r),R=n,C=r)):W(e.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:l,stencil:u},enable:H,disable:W,bindFramebuffer:function(t,n){return f[t]!==n&&(e.bindFramebuffer(t,n),f[t]=n,a&&(t===e.DRAW_FRAMEBUFFER&&(f[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(f[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=v,o=!1;if(r)if(void 0===(a=p.get(i))&&(a=[],p.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||a[0]!==e.COLOR_ATTACHMENT0){for(var l=0,u=s.length;l<u;l++)a[l]=e.COLOR_ATTACHMENT0+l;a.length=s.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0);else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:Y,setMaterial:function(t,n){2===t.side?W(e.CULL_FACE):H(e.CULL_FACE);var r=t.side===xy;n&&(r=!r),Q(r),1===t.blending&&!1===t.transparent?Y(0):Y(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),l.setFunc(t.depthFunc),l.setTest(t.depthTest),l.setMask(t.depthWrite),o.setMask(t.colorWrite);var i=t.stencilWrite;u.setTest(i),i&&(u.setMask(t.stencilWriteMask),u.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),u.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),$(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?H(e.SAMPLE_ALPHA_TO_COVERAGE):W(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Q,setCullFace:K,setLineWidth:function(t){t!==A&&(I&&e.lineWidth(t),A=t)},setPolygonOffset:$,setScissorTest:function(t){t?H(e.SCISSOR_TEST):W(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+O-1),D!==t&&(e.activeTexture(t),D=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===D?e.TEXTURE0+O-1:D);var i=L[r];void 0===i&&(i={type:void 0,texture:void 0},L[r]=i),i.type===t&&i.texture===n||(D!==r&&(e.activeTexture(r),D=r),e.bindTexture(t,n||V[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=L[D];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=h.get(n);void 0===r&&(r=new WeakMap,h.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=h.get(n).get(t);c.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),c.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===j.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),j.copy(t))},viewport:function(t){!1===B.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),B.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===a&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),d={},D=null,L={},f={},p=new WeakMap,v=[],m=null,g=!1,y=null,b=null,x=null,_=null,w=null,E=null,S=null,T=!1,M=null,k=null,A=null,R=null,C=null,j.set(0,0,e.canvas.width,e.canvas.height),B.set(0,0,e.canvas.width,e.canvas.height),o.reset(),l.reset(),u.reset()}}}function ZS(e,t,n,r,i,a,o){var l,u,c,h,d=i.isWebGL2,f=i.maxTextures,p=i.maxCubemapSize,v=i.maxTextureSize,m=i.maxSamples,g=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,y="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),b=new WeakMap,x=new WeakMap,_=!1;try{_="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(X){}function w(e,t){return _?new OffscreenCanvas(e,t):Hb("canvas")}function E(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Db:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===h&&(h=w(o,s));var l=n?w(o,s):h;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function S(e){return Pb(e.width)&&Pb(e.height)}function T(e,t){return e.generateMipmaps&&t&&e.minFilter!==jy&&e.minFilter!==Vy}function M(t){e.generateMipmap(t)}function k(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===d)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RGBA&&(i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=a===vb&&!1===o?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)),s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function A(e,t,n){return!0===T(e,n)||e.isFramebufferTexture&&e.minFilter!==jy&&e.minFilter!==Vy?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function R(t){return t===jy||t===By||t===zy?e.NEAREST:e.LINEAR}function C(e){var t=e.target;t.removeEventListener("dispose",C),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=x.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&I(e),0===Object.keys(i).length&&x.delete(n)}r.remove(e)}(t),t.isVideoTexture&&b.delete(t)}function O(t){var n=t.target;n.removeEventListener("dispose",O),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var l=0;l<i.__webglColorRenderbuffer.length;l++)i.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[l]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var h=r.get(n[u]);h.__webglTexture&&(e.deleteTexture(h.__webglTexture),o.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(t)}(n)}function I(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete x.get(i)[n.__cacheKey],o.memory.textures--}var P=0;function N(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=o.render.frame;b.get(e)!==t&&(b.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void B(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var D=(s(l={},Ly,e.REPEAT),s(l,Uy,e.CLAMP_TO_EDGE),s(l,Fy,e.MIRRORED_REPEAT),l),L=(s(u={},jy,e.NEAREST),s(u,By,e.NEAREST_MIPMAP_NEAREST),s(u,zy,e.NEAREST_MIPMAP_LINEAR),s(u,Vy,e.LINEAR),s(u,Hy,e.LINEAR_MIPMAP_NEAREST),s(u,Wy,e.LINEAR_MIPMAP_LINEAR),u),U=(s(c={},512,e.NEVER),s(c,519,e.ALWAYS),s(c,513,e.LESS),s(c,515,e.LEQUAL),s(c,514,e.EQUAL),s(c,518,e.GEQUAL),s(c,516,e.GREATER),s(c,517,e.NOTEQUAL),c);function F(n,a,o){if(o?(e.texParameteri(n,e.TEXTURE_WRAP_S,D[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,D[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,D[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,L[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,L[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===Uy&&a.wrapT===Uy||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,R(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,R(a.minFilter)),a.minFilter!==jy&&a.minFilter!==Vy&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,U[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===jy)return;if(a.minFilter!==zy&&a.minFilter!==Wy)return;if(a.type===Qy&&!1===t.has("OES_texture_float_linear"))return;if(!1===d&&a.type===Ky&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function j(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",C));var i=n.source,a=x.get(i);void 0===a&&(a={},x.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var l=a[t.__cacheKey];void 0!==l&&(a[t.__cacheKey].usedTimes--,0===l.usedTimes&&I(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function B(t,i,o){var s=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(s=e.TEXTURE_3D);var l=j(t,i),u=i.source;n.bindTexture(s,t.__webglTexture,e.TEXTURE0+o);var c=r.get(u);if(u.version!==c.__version||!0===l){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);var h,f=function(e){return!d&&(e.wrapS!==Uy||e.wrapT!==Uy||e.minFilter!==jy&&e.minFilter!==Vy)}(i)&&!1===S(i.image),p=E(i.image,f,!1,v),m=S(p=q(i,p))||d,g=a.convert(i.format,i.colorSpace),y=a.convert(i.type),b=k(i.internalFormat,g,y,i.colorSpace);F(s,i,m);var x=i.mipmaps,_=d&&!0!==i.isVideoTexture,w=void 0===c.__version||!0===l,R=A(i,p,m);if(i.isDepthTexture)b=e.DEPTH_COMPONENT,d?b=i.type===Qy?e.DEPTH_COMPONENT32F:i.type===Yy?e.DEPTH_COMPONENT24:i.type===$y?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===Qy&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Zy&&b===e.DEPTH_COMPONENT&&i.type!==qy&&i.type!==Yy&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Yy,y=a.convert(i.type)),i.format===eb&&b===e.DEPTH_COMPONENT&&(b=e.DEPTH_STENCIL,i.type!==$y&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=$y,y=a.convert(i.type))),w&&(_?n.texStorage2D(e.TEXTURE_2D,1,b,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,b,p.width,p.height,0,g,y,null));else if(i.isDataTexture)if(x.length>0&&m){_&&w&&n.texStorage2D(e.TEXTURE_2D,R,b,x[0].width,x[0].height);for(var C=0,O=x.length;C<O;C++)h=x[C],_?n.texSubImage2D(e.TEXTURE_2D,C,0,0,h.width,h.height,g,y,h.data):n.texImage2D(e.TEXTURE_2D,C,b,h.width,h.height,0,g,y,h.data);i.generateMipmaps=!1}else _?(w&&n.texStorage2D(e.TEXTURE_2D,R,b,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,p.width,p.height,g,y,p.data)):n.texImage2D(e.TEXTURE_2D,0,b,p.width,p.height,0,g,y,p.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){_&&w&&n.texStorage3D(e.TEXTURE_2D_ARRAY,R,b,x[0].width,x[0].height,p.depth);for(var I=0,P=x.length;I<P;I++)h=x[I],i.format!==Jy?null!==g?_?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,h.width,h.height,p.depth,g,h.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,I,b,h.width,h.height,p.depth,0,h.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?n.texSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,h.width,h.height,p.depth,g,y,h.data):n.texImage3D(e.TEXTURE_2D_ARRAY,I,b,h.width,h.height,p.depth,0,g,y,h.data)}else{_&&w&&n.texStorage2D(e.TEXTURE_2D,R,b,x[0].width,x[0].height);for(var N=0,D=x.length;N<D;N++)h=x[N],i.format!==Jy?null!==g?_?n.compressedTexSubImage2D(e.TEXTURE_2D,N,0,0,h.width,h.height,g,h.data):n.compressedTexImage2D(e.TEXTURE_2D,N,b,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?n.texSubImage2D(e.TEXTURE_2D,N,0,0,h.width,h.height,g,y,h.data):n.texImage2D(e.TEXTURE_2D,N,b,h.width,h.height,0,g,y,h.data)}else if(i.isDataArrayTexture)_?(w&&n.texStorage3D(e.TEXTURE_2D_ARRAY,R,b,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,g,y,p.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,b,p.width,p.height,p.depth,0,g,y,p.data);else if(i.isData3DTexture)_?(w&&n.texStorage3D(e.TEXTURE_3D,R,b,p.width,p.height,p.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,g,y,p.data)):n.texImage3D(e.TEXTURE_3D,0,b,p.width,p.height,p.depth,0,g,y,p.data);else if(i.isFramebufferTexture){if(w)if(_)n.texStorage2D(e.TEXTURE_2D,R,b,p.width,p.height);else for(var L=p.width,U=p.height,B=0;B<R;B++)n.texImage2D(e.TEXTURE_2D,B,b,L,U,0,g,y,null),L>>=1,U>>=1}else if(x.length>0&&m){_&&w&&n.texStorage2D(e.TEXTURE_2D,R,b,x[0].width,x[0].height);for(var z=0,V=x.length;z<V;z++)h=x[z],_?n.texSubImage2D(e.TEXTURE_2D,z,0,0,g,y,h):n.texImage2D(e.TEXTURE_2D,z,b,g,y,h);i.generateMipmaps=!1}else _?(w&&n.texStorage2D(e.TEXTURE_2D,R,b,p.width,p.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,g,y,p)):n.texImage2D(e.TEXTURE_2D,0,b,g,y,p);T(i,m)&&M(s),c.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function z(t,i,o,s,l){var u=a.convert(o.format,o.colorSpace),c=a.convert(o.type),h=k(o.internalFormat,u,c,o.colorSpace);r.get(i).__hasExternalTextures||(l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,0,h,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,h,i.width,i.height,0,u,c,null)),n.bindFramebuffer(e.FRAMEBUFFER,t),G(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0,W(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(e.FRAMEBUFFER,null)}function V(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=e.DEPTH_COMPONENT16;if(r||G(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Qy?i=e.DEPTH_COMPONENT32F:o.type===Yy&&(i=e.DEPTH_COMPONENT24));var s=W(n);G(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=W(n);r&&!1===G(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,l,e.DEPTH24_STENCIL8,n.width,n.height):G(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,l,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var u=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<u.length;c++){var h=u[c],d=a.convert(h.format,h.colorSpace),f=a.convert(h.type),p=k(h.internalFormat,d,f,h.colorSpace),v=W(n);r&&!1===G(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,v,p,n.width,n.height):G(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,v,p,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,p,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function H(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),N(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=W(i);if(i.depthTexture.format===Zy)G(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==eb)throw new Error("Unknown depthTexture format");G(i)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),V(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),V(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function W(e){return Math.min(m,e.samples)}function G(e){var n=r.get(e);return d&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function q(e,n){var r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||e.format===_b||r!==mb&&r!==pb&&(r===vb?!1===d?!0===t.has("EXT_sRGB")&&i===Jy?(e.format=_b,e.minFilter=Vy,e.generateMipmaps=!1):n=ex.sRGBToLinear(n):i===Jy&&a===Gy||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var e=P;return e>=f&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+f),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=N,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?B(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?B(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var s=j(t,i),l=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+o);var u=r.get(l);if(l.version!==u.__version||!0===s){n.activeTexture(e.TEXTURE0+o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);for(var c=i.isCompressedTexture||i.image[0].isCompressedTexture,h=i.image[0]&&i.image[0].isDataTexture,f=[],v=0;v<6;v++)f[v]=c||h?h?i.image[v].image:i.image[v]:E(i.image[v],!1,!0,p),f[v]=q(i,f[v]);var m,g=f[0],y=S(g)||d,b=a.convert(i.format,i.colorSpace),x=a.convert(i.type),_=k(i.internalFormat,b,x,i.colorSpace),w=d&&!0!==i.isVideoTexture,R=void 0===u.__version||!0===s,C=A(i,g,y);if(F(e.TEXTURE_CUBE_MAP,i,y),c){w&&R&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,_,g.width,g.height);for(var O=0;O<6;O++){m=f[O].mipmaps;for(var I=0;I<m.length;I++){var P=m[I];i.format!==Jy?null!==b?w?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,I,0,0,P.width,P.height,b,P.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,I,_,P.width,P.height,0,P.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):w?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,I,0,0,P.width,P.height,b,x,P.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+O,I,_,P.width,P.height,0,b,x,P.data)}}}else{m=i.mipmaps,w&&R&&(m.length>0&&C++,n.texStorage2D(e.TEXTURE_CUBE_MAP,C,_,f[0].width,f[0].height));for(var N=0;N<6;N++)if(h){w?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,0,0,0,f[N].width,f[N].height,b,x,f[N].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,0,_,f[N].width,f[N].height,0,b,x,f[N].data);for(var D=0;D<m.length;D++){var L=m[D].image[N].image;w?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,D+1,0,0,L.width,L.height,b,x,L.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,D+1,_,L.width,L.height,0,b,x,L.data)}}else{w?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,0,0,0,b,x,f[N]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,0,_,b,x,f[N]);for(var U=0;U<m.length;U++){var B=m[U];w?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,U+1,0,0,b,x,B.image[N]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+N,U+1,_,b,x,B.image[N])}}}T(i,y)&&M(e.TEXTURE_CUBE_MAP),u.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&z(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==i&&H(t)},this.setupRenderTarget=function(t){var s=t.texture,l=r.get(t),u=r.get(s);t.addEventListener("dispose",O),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,o.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,f=S(t)||d;if(c){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=e.createFramebuffer()}else{if(l.__webglFramebuffer=e.createFramebuffer(),h)if(i.drawBuffers)for(var v=t.texture,m=0,g=v.length;m<g;m++){var y=r.get(v[m]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(d&&t.samples>0&&!1===G(t)){var b=h?s:[s];l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,l.__webglMultisampledFramebuffer);for(var x=0;x<b.length;x++){var _=b[x];l.__webglColorRenderbuffer[x]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,l.__webglColorRenderbuffer[x]);var w=a.convert(_.format,_.colorSpace),E=a.convert(_.type),A=k(_.internalFormat,w,E,_.colorSpace,!0===t.isXRRenderTarget),R=W(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,R,A,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+x,e.RENDERBUFFER,l.__webglColorRenderbuffer[x])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),V(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,u.__webglTexture),F(e.TEXTURE_CUBE_MAP,s,f);for(var C=0;C<6;C++)z(l.__webglFramebuffer[C],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+C);T(s,f)&&M(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){for(var I=t.texture,P=0,N=I.length;P<N;P++){var D=I[P],L=r.get(D);n.bindTexture(e.TEXTURE_2D,L.__webglTexture),F(e.TEXTURE_2D,D,f),z(l.__webglFramebuffer,t,D,e.COLOR_ATTACHMENT0+P,e.TEXTURE_2D),T(D,f)&&M(e.TEXTURE_2D)}n.unbindTexture()}else{var U=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(d?U=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(U,u.__webglTexture),F(U,s,f),z(l.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,U),T(s,f)&&M(U),n.unbindTexture()}t.depthBuffer&&H(t)},this.updateRenderTargetMipmap=function(t){for(var i=S(t)||d,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=0,s=a.length;o<s;o++){var l=a[o];if(T(l,i)){var u=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,c=r.get(l).__webglTexture;n.bindTexture(u,c),M(u),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(d&&t.samples>0&&!1===G(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,l=[],u=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),h=!0===t.isWebGLMultipleRenderTargets;if(h)for(var f=0;f<i.length;f++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+f,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+f,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(var p=0;p<i.length;p++){l.push(e.COLOR_ATTACHMENT0+p),t.depthBuffer&&l.push(u);var v=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),h&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[p]),!0===v&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[u]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[u])),h){var m=r.get(i[p]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,m,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),y&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),h)for(var g=0;g<i.length;g++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.RENDERBUFFER,c.__webglColorRenderbuffer[g]);var b=r.get(i[g]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+g,e.TEXTURE_2D,b,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=H,this.setupFrameBufferTexture=z,this.useMultisampledRTT=G}function eT(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pb;if(n===Gy)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===qy)return e.UNSIGNED_SHORT;if(n===Xy)return e.INT;if(n===Yy)return e.UNSIGNED_INT;if(n===Qy)return e.FLOAT;if(n===Ky)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(1021===n)return e.ALPHA;if(n===Jy)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(n===Zy)return e.DEPTH_COMPONENT;if(n===eb)return e.DEPTH_STENCIL;if(n===_b)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(n===tb||n===nb||n===rb||n===ib)if(a===vb){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===tb)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===nb)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===rb)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===ib)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===tb)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===nb)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===rb)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===ib)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===n)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(37492===n)return a===vb?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(37808===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return a===vb?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===ab){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===ab)return a===vb?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===n||36284===n||36285===n||36286===n){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===ab)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===$y?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var tT=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return g(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return b(n)}(xw),nT=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return b(n)}(d_),rT={type:"move"},iT=function(){function e(){g(this,e),this._targetRay=null,this._grip=null,this._hand=null}return b(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new nT,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new nT,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new hx,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new hx),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new nT,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new hx,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new hx),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=A(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;var u,c=A(e.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,d=t.getJointPose(h,n),f=this._getHandJoint(l,h);null!==d&&(f.matrix.fromArray(d.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,f.jointRadius=d.radius),f.visible=null!==d}}catch(g){c.e(g)}finally{c.f()}var p=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],m=p.position.distanceTo(v.position);l.inputState.pinching&&m>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&m<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(rT)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new nT;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),aT=function(e){_(n,e);var t=T(n);function n(e,r,i,a,o,s,l,u,c,h){var d;if(g(this,n),(h=void 0!==h?h:Zy)!==Zy&&h!==eb)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&h===Zy&&(i=Yy),void 0===i&&h===eb&&(i=$y),(d=t.call(this,null,a,o,s,l,u,h,i,c)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==l?l:jy,d.minFilter=void 0!==u?u:jy,d.flipY=!1,d.generateMipmaps=!1,d.compareFunction=null,d}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var t=py(w(n.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}]),n}(ax),oT=function(e){_(n,e);var t=T(n);function n(e,r){var i;g(this,n);var a=S(i=t.call(this)),o=null,s=1,l=null,u="local-floor",c=1,h=null,d=null,f=null,p=null,v=null,m=null,y=r.getContextAttributes(),b=null,x=null,_=[],w=[],E=null,T=new xw;T.layers.enable(1),T.viewport=new ox;var M=new xw;M.layers.enable(2),M.viewport=new ox;var k=[T,M],A=new tT;A.layers.enable(1),A.layers.enable(2);var R=null,C=null;function O(e){var t=w.indexOf(e.inputSource);if(-1!==t){var n=_[t];void 0!==n&&(n.update(e.inputSource,e.frame,h||l),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function I(){o.removeEventListener("select",O),o.removeEventListener("selectstart",O),o.removeEventListener("selectend",O),o.removeEventListener("squeeze",O),o.removeEventListener("squeezestart",O),o.removeEventListener("squeezeend",O),o.removeEventListener("end",I),o.removeEventListener("inputsourceschange",P);for(var t=0;t<_.length;t++){var n=w[t];null!==n&&(w[t]=null,_[t].disconnect(n))}R=null,C=null,e.setRenderTarget(b),v=null,p=null,f=null,o=null,x=null,F.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function P(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=w.indexOf(n);r>=0&&(w[r]=null,_[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=w.indexOf(a);if(-1===o){for(var s=0;s<_.length;s++){if(s>=w.length){w.push(a),o=s;break}if(null===w[s]){w[s]=a,o=s;break}}if(-1===o)break}var l=_[o];l&&l.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getCamera=function(){},i.setUserCamera=function(e){E=e},i.getController=function(e){var t=_[e];return void 0===t&&(t=new iT,_[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=_[e];return void 0===t&&(t=new iT,_[e]=t),t.getGripSpace()},i.getHand=function(e){var t=_[e];return void 0===t&&(t=new iT,_[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){u=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return h||l},i.setReferenceSpace=function(e){h=e},i.getBaseLayer=function(){return null!==p?p:v},i.getBinding=function(){return f},i.getFrame=function(){return m},i.getSession=function(){return o},i.setSession=function(){var t=Xo(Go().mark((function t(n){var i,d,m,g,_;return Go().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=25;break}if(b=e.getRenderTarget(),o.addEventListener("select",O),o.addEventListener("selectstart",O),o.addEventListener("selectend",O),o.addEventListener("squeeze",O),o.addEventListener("squeezestart",O),o.addEventListener("squeezeend",O),o.addEventListener("end",I),o.addEventListener("inputsourceschange",P),!0===y.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s},v=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:v}),x=new sx(v.framebufferWidth,v.framebufferHeight,{format:Jy,type:Gy,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})):(d=null,m=null,g=null,y.depth&&(g=y.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,d=y.stencil?eb:Zy,m=y.stencil?$y:Yy),_={colorFormat:r.RGBA8,depthFormat:g,scaleFactor:s},f=new XRWebGLBinding(o,r),p=f.createProjectionLayer(_),o.updateRenderState({layers:[p]}),x=new sx(p.textureWidth,p.textureHeight,{format:Jy,type:Gy,depthTexture:new aT(p.textureWidth,p.textureHeight,m,void 0,void 0,void 0,void 0,void 0,void 0,d),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0}),e.properties.get(x).__ignoreDepthValues=p.ignoreDepthValues),x.isXRRenderTarget=!0,this.setFoveation(c),h=null,t.next=20,o.requestReferenceSpace(u);case 20:l=t.sent,F.setContext(o),F.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.getEnvironmentBlendMode=function(){if(null!==o)return o.environmentBlendMode};var N=new hx,D=new hx;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCameraXR=function(e){if(null===o)return e;E&&(e=E),A.near=M.near=T.near=e.near,A.far=M.far=T.far=e.far,R===A.near&&C===A.far||(o.updateRenderState({depthNear:A.near,depthFar:A.far}),R=A.near,C=A.far);var t=e.parent,n=A.cameras;L(A,t);for(var r=0;r<n.length;r++)L(n[r],t);return 2===n.length?function(e,t,n){N.setFromMatrixPosition(t.matrixWorld),D.setFromMatrixPosition(n.matrixWorld);var r=N.distanceTo(D),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,f=o*h,p=r/(-c+h),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,g=s+p,y=d-v,b=f+(r-v),x=l*s/g*m,_=u*s/g*m;e.projectionMatrix.makePerspective(y,b,x,_,m,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(A,T,M):A.projectionMatrix.copy(T.projectionMatrix),E&&function(e,t){var n=E;null===t?n.matrix.copy(e.matrixWorld):(n.matrix.copy(t.matrixWorld),n.matrix.invert(),n.matrix.multiply(e.matrixWorld));n.matrix.decompose(n.position,n.quaternion,n.scale),n.updateMatrixWorld(!0);for(var r=n.children,i=0,a=r.length;i<a;i++)r[i].updateMatrixWorld(!0);n.projectionMatrix.copy(e.projectionMatrix),n.projectionMatrixInverse.copy(e.projectionMatrixInverse),n.isPerspectiveCamera&&(n.fov=2*Ab*Math.atan(1/n.projectionMatrix.elements[5]),n.zoom=1)}(A,t),A},i.getFoveation=function(){if(null!==p||null!==v)return c},i.setFoveation=function(e){c=e,null!==p&&(p.fixedFoveation=e),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=e)};var U=null;var F=new Iw;return F.setAnimationLoop((function(t,n){if(d=n.getViewerPose(h||l),m=n,null!==d){var r=d.views;null!==v&&(e.setRenderTargetFramebuffer(x,v.framebuffer),e.setRenderTarget(x));var i=!1;r.length!==A.cameras.length&&(A.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var s=r[o],u=null;if(null!==v)u=v.getViewport(s);else{var c=f.getViewSubImage(p,s);u=c.viewport,0===o&&(e.setRenderTargetTextures(x,c.colorTexture,p.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(x))}var g=k[o];void 0===g&&((g=new xw).layers.enable(o),g.viewport=new ox,k[o]=g),g.matrix.fromArray(s.transform.matrix),g.matrix.decompose(g.position,g.quaternion,g.scale),g.projectionMatrix.fromArray(s.projectionMatrix),g.projectionMatrixInverse.copy(g.projectionMatrix).invert(),g.viewport.set(u.x,u.y,u.width,u.height),0===o&&(A.matrix.copy(g.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),!0===i&&A.cameras.push(g)}}for(var y=0;y<_.length;y++){var b=w[y],E=_[y];null!==b&&void 0!==E&&E.update(b,n,h||l)}U&&U(t,n),n.detectedPlanes&&a.dispatchEvent({type:"planesdetected",data:n}),m=null})),i.setAnimationLoop=function(e){U=e},i.dispose=function(){},i}return b(n)}(Sb);function sT(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===xy&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===xy&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,mw(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===xy&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function lT(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],l=Array.isArray(r)?r:[r],u=0;u<s.length;u++){var c=s[u];if(!1===c.equals(l[u]))return c.copy(l[u]),!0}return!1}function u(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){var d=i[n.id];void 0===d&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){for(var s=t[a],l={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],h=0,d=c.length;h<d;h++){var f=u(c[h]);l.boundary+=f.boundary,l.storage+=f.storage}if(s.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-l.boundary<0&&(n+=r-i,s.__offset=n);n+=l.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c));var f=h.program;r.updateUBOMapping(n,f);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===l(c,o,a)){for(var h=c.__offset,d=Array.isArray(c.value)?c.value:[c.value],f=0,p=0;p<d.length;p++){var v=d[p],m=u(v);"number"===typeof v?(c.__data[0]=v,e.bufferSubData(e.UNIFORM_BUFFER,h+f,c.__data)):v.isMatrix3?(c.__data[0]=v.elements[0],c.__data[1]=v.elements[1],c.__data[2]=v.elements[2],c.__data[3]=v.elements[0],c.__data[4]=v.elements[3],c.__data[5]=v.elements[4],c.__data[6]=v.elements[5],c.__data[7]=v.elements[0],c.__data[8]=v.elements[6],c.__data[9]=v.elements[7],c.__data[10]=v.elements[8],c.__data[11]=v.elements[0]):(v.toArray(c.__data,f),f+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,h,c.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var uT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,e);var n,r=t.canvas,i=void 0===r?function(){var e=Hb("canvas");return e.style.display="block",e}():r,a=t.context,o=void 0===a?null:a,s=t.depth,l=void 0===s||s,u=t.stencil,c=void 0===u||u,h=t.alpha,d=void 0!==h&&h,f=t.antialias,p=void 0!==f&&f,v=t.premultipliedAlpha,m=void 0===v||v,y=t.preserveDrawingBuffer,b=void 0!==y&&y,x=t.powerPreference,_=void 0===x?"default":x,w=t.failIfMajorPerformanceCaveat,E=void 0!==w&&w;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:d;var S=new Uint32Array(4),T=new Int32Array(4),M=null,k=null,A=[],R=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=vb,this.useLegacyLights=!0,this.toneMapping=Ty,this.toneMappingExposure=1;var C=this,O=!1,I=0,P=0,N=null,D=-1,L=null,U=new ox,F=new ox,j=null,B=new O_(0),z=0,V=i.width,H=i.height,W=1,G=null,q=null,X=new ox(0,0,V,H),Y=new ox(0,0,V,H),Q=!1,K=new Ow,$=!1,J=!1,Z=null,ee=new zx,te=new jb,ne=new hx,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return null===N?W:1}var ae,oe,se,le,ue,ce,he,de,fe,pe,ve,me,ge,ye,be,xe,_e,we,Ee,Se,Te,Me,ke,Ae,Re=o;function Ce(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var Oe={alpha:!0,depth:l,stencil:c,antialias:p,premultipliedAlpha:m,preserveDrawingBuffer:b,powerPreference:_,failIfMajorPerformanceCaveat:E};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(vy)),i.addEventListener("webglcontextlost",De,!1),i.addEventListener("webglcontextrestored",Le,!1),i.addEventListener("webglcontextcreationerror",Ue,!1),null===Re){var Ie=["webgl2","webgl","experimental-webgl"];if(!0===C.isWebGL1Renderer&&Ie.shift(),null===(Re=Ce(Ie,Oe)))throw Ce(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Re instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Re.getShaderPrecisionFormat&&(Re.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Qe){throw console.error("THREE.WebGLRenderer: "+Qe.message),Qe}function Pe(){ae=new oE(Re),oe=new Vw(Re,ae,t),ae.init(oe),Me=new eT(Re,ae,oe),se=new JS(Re,ae,oe),le=new uE(Re),ue=new FS,ce=new ZS(Re,ae,se,ue,oe,Me,le),he=new Ww(C),de=new aE(C),fe=new Pw(Re,oe),ke=new Bw(Re,ae,fe,oe),pe=new sE(Re,fe,le,ke),ve=new fE(Re,pe,fe,le),Ee=new dE(Re,oe,ce),xe=new Hw(ue),me=new US(C,he,de,ae,oe,ke,xe),ge=new sT(C,ue),ye=new VS,be=new YS(ae,oe),we=new jw(C,he,de,se,ve,n,m),_e=new $S(C,ve,oe),Ae=new lT(Re,le,oe,se),Se=new zw(Re,ae,le,oe),Te=new lE(Re,ae,le,oe),le.programs=me.programs,C.capabilities=oe,C.extensions=ae,C.properties=ue,C.renderLists=ye,C.shadowMap=_e,C.state=se,C.info=le}Pe();var Ne=new oT(C,Re);function De(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;var e=le.autoReset,t=_e.enabled,n=_e.autoUpdate,r=_e.needsUpdate,i=_e.type;Pe(),le.autoReset=e,_e.enabled=t,_e.autoUpdate=n,_e.needsUpdate=r,_e.type=i}function Ue(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Fe(e){var t=e.target;t.removeEventListener("dispose",Fe),function(e){(function(e){var t=ue.get(e).programs;void 0!==t&&(t.forEach((function(e){me.releaseProgram(e)})),e.isShaderMaterial&&me.releaseShaderCache(e))})(e),ue.remove(e)}(t)}this.xr=Ne,this.getContext=function(){return Re},this.getContextAttributes=function(){return Re.getContextAttributes()},this.forceContextLoss=function(){var e=ae.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ae.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(e){void 0!==e&&(W=e,this.setSize(V,H,!1))},this.getSize=function(e){return e.set(V,H)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ne.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(V=e,H=t,i.width=Math.floor(e*W),i.height=Math.floor(t*W),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(V*W,H*W).floor()},this.setDrawingBufferSize=function(e,t,n){V=e,H=t,W=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(U)},this.getViewport=function(e){return e.copy(X)},this.setViewport=function(e,t,n,r){e.isVector4?X.set(e.x,e.y,e.z,e.w):X.set(e,t,n,r),se.viewport(U.copy(X).multiplyScalar(W).floor())},this.getScissor=function(e){return e.copy(Y)},this.setScissor=function(e,t,n,r){e.isVector4?Y.set(e.x,e.y,e.z,e.w):Y.set(e,t,n,r),se.scissor(F.copy(Y).multiplyScalar(W).floor())},this.getScissorTest=function(){return Q},this.setScissorTest=function(e){se.setScissorTest(Q=e)},this.setOpaqueSort=function(e){G=e},this.setTransparentSort=function(e){q=e},this.getClearColor=function(e){return e.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var r=!1;if(null!==N){var i=N.texture.format;r=1033===i||1031===i||1029===i}if(r){var a=N.texture.type,o=a===Gy||a===Yy||a===qy||a===$y||1017===a||1018===a,s=we.getClearColor(),l=we.getClearAlpha(),u=s.r,c=s.g,h=s.b,d=ue.get(N).__webglFramebuffer;o?(S[0]=u,S[1]=c,S[2]=h,S[3]=l,Re.clearBufferuiv(Re.COLOR,d,S)):(T[0]=u,T[1]=c,T[2]=h,T[3]=l,Re.clearBufferiv(Re.COLOR,d,T))}else n|=Re.COLOR_BUFFER_BIT}e&&(n|=Re.DEPTH_BUFFER_BIT),t&&(n|=Re.STENCIL_BUFFER_BIT),Re.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",De,!1),i.removeEventListener("webglcontextrestored",Le,!1),i.removeEventListener("webglcontextcreationerror",Ue,!1),ye.dispose(),be.dispose(),ue.dispose(),he.dispose(),de.dispose(),ve.dispose(),ke.dispose(),Ae.dispose(),me.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",Be),Ne.removeEventListener("sessionend",ze),Z&&(Z.dispose(),Z=null),Ve.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=re);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=re);ce.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===N?C.outputColorSpace:!0===N.isXRRenderTarget?N.texture.colorSpace:mb,l=(r.isMeshStandardMaterial?de:he).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,f=!!n.morphAttributes.color,p=r.toneMapped?C.toneMapping:Ty,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==v?v.length:0,g=ue.get(r),y=k.state.lights;if(!0===$&&(!0===J||e!==L)){var b=e===L&&r.id===D;xe.setState(r,e,b)}var x=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputColorSpace!==s||i.isInstancedMesh&&!1===g.instancing?x=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?x=!0:i.isSkinnedMesh||!0!==g.skinning?g.envMap!==l||!0===r.fog&&g.fog!==a?x=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===xe.numPlanes&&g.numIntersection===xe.numIntersection?(g.vertexAlphas!==u||g.vertexTangents!==c||g.morphTargets!==h||g.morphNormals!==d||g.morphColors!==f||g.toneMapping!==p||!0===oe.isWebGL2&&g.morphTargetsCount!==m)&&(x=!0):x=!0:x=!0:x=!0:(x=!0,g.__version=r.version);var _=g.currentProgram;!0===x&&(_=Xe(r,t,i));var w=!1,E=!1,S=!1,T=_.getUniforms(),M=g.uniforms;se.useProgram(_.program)&&(w=!0,E=!0,S=!0);r.id!==D&&(D=r.id,E=!0);if(w||L!==e){if(T.setValue(Re,"projectionMatrix",e.projectionMatrix),oe.logarithmicDepthBuffer&&T.setValue(Re,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),L!==e&&(L=e,E=!0,S=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var A=T.map.cameraPosition;void 0!==A&&A.setValue(Re,ne.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&T.setValue(Re,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&T.setValue(Re,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){T.setOptional(Re,i,"bindMatrix"),T.setOptional(Re,i,"bindMatrixInverse");var R=i.skeleton;R&&(oe.floatVertexTextures?(null===R.boneTexture&&R.computeBoneTexture(),T.setValue(Re,"boneTexture",R.boneTexture,ce),T.setValue(Re,"boneTextureSize",R.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var O=n.morphAttributes;(void 0!==O.position||void 0!==O.normal||void 0!==O.color&&!0===oe.isWebGL2)&&Ee.update(i,n,_);(E||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,T.setValue(Re,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(M.envMap.value=l,M.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);E&&(T.setValue(Re,"toneMappingExposure",C.toneMappingExposure),g.needsLights&&(P=S,(I=M).ambientLightColor.needsUpdate=P,I.lightProbe.needsUpdate=P,I.directionalLights.needsUpdate=P,I.directionalLightShadows.needsUpdate=P,I.pointLights.needsUpdate=P,I.pointLightShadows.needsUpdate=P,I.spotLights.needsUpdate=P,I.spotLightShadows.needsUpdate=P,I.rectAreaLights.needsUpdate=P,I.hemisphereLights.needsUpdate=P),a&&!0===r.fog&&ge.refreshFogUniforms(M,a),ge.refreshMaterialUniforms(M,r,W,H,Z),gS.upload(Re,g.uniformsList,M,ce));var I,P;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(gS.upload(Re,g.uniformsList,M,ce),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&T.setValue(Re,"center",i.center);if(T.setValue(Re,"modelViewMatrix",i.modelViewMatrix),T.setValue(Re,"normalMatrix",i.normalMatrix),T.setValue(Re,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var U=r.uniformsGroups,F=0,j=U.length;F<j;F++)if(oe.isWebGL2){var B=U[F];Ae.update(B,_),Ae.bind(B,_)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return _}(e,t,n,r,i);se.setMaterial(r,o);var l=n.index,u=1;!0===r.wireframe&&(l=pe.getWireframeAttribute(n),u=2);var c=n.drawRange,h=n.attributes.position,d=c.start*u,f=(c.start+c.count)*u;null!==a&&(d=Math.max(d,a.start*u),f=Math.min(f,(a.start+a.count)*u)),null!==l?(d=Math.max(d,0),f=Math.min(f,l.count)):void 0!==h&&null!==h&&(d=Math.max(d,0),f=Math.min(f,h.count));var p=f-d;if(!(p<0||p===1/0)){var v;ke.setup(i,r,s,n,l);var m=Se;if(null!==l&&(v=fe.get(l),(m=Te).setIndex(v)),i.isMesh)!0===r.wireframe?(se.setLineWidth(r.wireframeLinewidth*ie()),m.setMode(Re.LINES)):m.setMode(Re.TRIANGLES);else if(i.isLine){var g=r.linewidth;void 0===g&&(g=1),se.setLineWidth(g*ie()),i.isLineSegments?m.setMode(Re.LINES):i.isLineLoop?m.setMode(Re.LINE_LOOP):m.setMode(Re.LINE_STRIP)}else i.isPoints?m.setMode(Re.POINTS):i.isSprite&&m.setMode(Re.TRIANGLES);if(i.isInstancedMesh)m.renderInstances(d,p,i.count);else if(n.isInstancedBufferGeometry){var y=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,b=Math.min(n.instanceCount,y);m.renderInstances(d,p,b)}else m.render(d,p)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=xy,e.needsUpdate=!0,Xe(e,t,n),e.side=by,e.needsUpdate=!0,Xe(e,t,n),e.side=2):Xe(e,t,n)}(k=be.get(e)).init(),R.push(k),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(k.pushLight(e),e.castShadow&&k.pushShadow(e))})),k.setupLights(C.useLegacyLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),R.pop(),k=null};var je=null;function Be(){Ve.stop()}function ze(){Ve.start()}var Ve=new Iw;function He(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)k.pushLight(e),e.castShadow&&k.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||K.intersectsSprite(e)){r&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ee);var i=ve.update(e),a=e.material;a.visible&&M.push(e,i,a,n,ne.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||K.intersectsObject(e))){e.isSkinnedMesh&&e.skeleton.frame!==le.render.frame&&(e.skeleton.update(),e.skeleton.frame=le.render.frame);var o=ve.update(e),s=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),ne.copy(e.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),ne.copy(o.boundingSphere.center)),ne.applyMatrix4(e.matrixWorld).applyMatrix4(ee)),Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var h=l[u],d=s[h.materialIndex];d&&d.visible&&M.push(e,o,d,n,ne.z,h)}else s.visible&&M.push(e,o,s,n,ne.z,null)}for(var f=e.children,p=0,v=f.length;p<v;p++)He(f[p],t,n,r)}}function We(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;k.setupLightsView(n),!0===$&&xe.setGlobalState(C.clippingPlanes,n),a.length>0&&function(e,t,n,r){var i=oe.isWebGL2;null===Z&&(Z=new sx(1,1,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?Ky:Gy,minFilter:Wy,samples:i&&!0===p?4:0}));C.getDrawingBufferSize(te),i?Z.setSize(te.x,te.y):Z.setSize(Db(te.x),Db(te.y));var a=C.getRenderTarget();C.setRenderTarget(Z),C.getClearColor(B),(z=C.getClearAlpha())<1&&C.setClearColor(16777215,.5);C.clear();var o=C.toneMapping;C.toneMapping=Ty,Ge(e,n,r),ce.updateMultisampleRenderTarget(Z),ce.updateRenderTargetMipmap(Z);for(var s=!1,l=0,u=t.length;l<u;l++){var c=t[l],h=c.object,d=c.geometry,f=c.material,v=c.group;if(2===f.side&&h.layers.test(r.layers)){var m=f.side;f.side=xy,f.needsUpdate=!0,qe(h,n,r,d,f,v),f.side=m,f.needsUpdate=!0,s=!0}}!0===s&&(ce.updateMultisampleRenderTarget(Z),ce.updateRenderTargetMipmap(Z));C.setRenderTarget(a),C.setClearColor(B,z),C.toneMapping=o}(i,a,t,n),r&&se.viewport(U.copy(r)),i.length>0&&Ge(i,t,n),a.length>0&&Ge(a,t,n),o.length>0&&Ge(o,t,n),se.buffers.depth.setTest(!0),se.buffers.depth.setMask(!0),se.buffers.color.setMask(!0),se.setPolygonOffset(!1)}function Ge(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&qe(s,t,n,l,u,c)}}function qe(e,t,n,r,i,a){e.onBeforeRender(C,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(C,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=xy,i.needsUpdate=!0,C.renderBufferDirect(n,t,r,i,e,a),i.side=by,i.needsUpdate=!0,C.renderBufferDirect(n,t,r,i,e,a),i.side=2):C.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(C,t,n,r,i,a)}function Xe(e,t,n){!0!==t.isScene&&(t=re);var r=ue.get(e),i=k.state.lights,a=k.state.shadowsArray,o=i.state.version,s=me.getParameters(e,i.state,a,t,n),l=me.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?de:he).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",Fe),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Ye(e,s),c}else s.uniforms=me.getUniforms(e),e.onBuild(n,s,C),e.onBeforeCompile(s,C),c=me.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=xe.uniform),Ye(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),f=gS.seqWithValue(d.seq,h);return r.currentProgram=c,r.uniformsList=f,c}function Ye(e,t){var n=ue.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Ve.setAnimationLoop((function(e){je&&je(e)})),"undefined"!==typeof self&&Ve.setContext(self),this.setAnimationLoop=function(e){je=e,Ne.setAnimationLoop(e),null===e?Ve.stop():Ve.start()},Ne.addEventListener("sessionstart",Be),Ne.addEventListener("sessionend",ze),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==O){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ne.enabled&&!0===Ne.isPresenting&&(t=Ne.updateCameraXR(t)),!0===e.isScene&&e.onBeforeRender(C,e,t,N),(k=be.get(e,R.length)).init(),R.push(k),ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),K.setFromProjectionMatrix(ee),J=this.localClippingEnabled,$=xe.init(this.clippingPlanes,J),(M=ye.get(e,A.length)).init(),A.push(M),He(e,t,0,C.sortObjects),M.finish(),!0===C.sortObjects&&M.sort(G,q),!0===$&&xe.beginShadows();var n=k.state.shadowsArray;if(_e.render(n,e,t),!0===$&&xe.endShadows(),!0===this.info.autoReset&&this.info.reset(),this.info.render.frame++,we.render(M,e),k.setupLights(C.useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];We(M,e,o,o.viewport)}else We(M,e,t);null!==N&&(ce.updateMultisampleRenderTarget(N),ce.updateRenderTargetMipmap(N)),!0===e.isScene&&e.onAfterRender(C,e,t),ke.resetDefaultState(),D=-1,L=null,R.pop(),k=R.length>0?R[R.length-1]:null,A.pop(),M=A.length>0?A[A.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(e,t,n){ue.get(e.texture).__webglTexture=t,ue.get(e.depthTexture).__webglTexture=n;var r=ue.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===ae.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=ue.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;N=e,I=t,P=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=ue.get(e);void 0!==s.__useDefaultFramebuffer?(se.bindFramebuffer(Re.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?ce.setupRenderTarget(e):s.__hasExternalTextures&&ce.rebindTextures(e,ue.get(e.texture).__webglTexture,ue.get(e.depthTexture).__webglTexture);var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var u=ue.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=u[t],a=!0):i=oe.isWebGL2&&e.samples>0&&!1===ce.useMultisampledRTT(e)?ue.get(e).__webglMultisampledFramebuffer:u,U.copy(e.viewport),F.copy(e.scissor),j=e.scissorTest}else U.copy(X).multiplyScalar(W).floor(),F.copy(Y).multiplyScalar(W).floor(),j=Q;if(se.bindFramebuffer(Re.FRAMEBUFFER,i)&&oe.drawBuffers&&r&&se.drawBuffers(e,i),se.viewport(U),se.scissor(F),se.setScissorTest(j),a){var c=ue.get(e.texture);Re.framebufferTexture2D(Re.FRAMEBUFFER,Re.COLOR_ATTACHMENT0,Re.TEXTURE_CUBE_MAP_POSITIVE_X+t,c.__webglTexture,n)}else if(o){var h=ue.get(e.texture),d=t||0;Re.framebufferTextureLayer(Re.FRAMEBUFFER,Re.COLOR_ATTACHMENT0,h.__webglTexture,n||0,d)}D=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=ue.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){se.bindFramebuffer(Re.FRAMEBUFFER,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==Jy&&Me.convert(u)!==Re.getParameter(Re.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===Ky&&(ae.has("EXT_color_buffer_half_float")||oe.isWebGL2&&ae.has("EXT_color_buffer_float"));if(c!==Gy&&Me.convert(c)!==Re.getParameter(Re.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==Qy||!(oe.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Re.readPixels(t,n,r,i,Me.convert(u),Me.convert(c),a)}finally{var d=null!==N?ue.get(N).__webglFramebuffer:null;se.bindFramebuffer(Re.FRAMEBUFFER,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ce.setTexture2D(t,0),Re.copyTexSubImage2D(Re.TEXTURE_2D,n,0,0,e.x,e.y,i,a),se.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=Me.convert(n.format),s=Me.convert(n.type);ce.setTexture2D(n,0),Re.pixelStorei(Re.UNPACK_FLIP_Y_WEBGL,n.flipY),Re.pixelStorei(Re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Re.pixelStorei(Re.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Re.texSubImage2D(Re.TEXTURE_2D,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?Re.compressedTexSubImage2D(Re.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Re.texSubImage2D(Re.TEXTURE_2D,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&Re.generateMipmap(Re.TEXTURE_2D),se.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(C.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=Me.convert(r.format),c=Me.convert(r.type);if(r.isData3DTexture)ce.setTexture3D(r,0),a=Re.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ce.setTexture2DArray(r,0),a=Re.TEXTURE_2D_ARRAY}Re.pixelStorei(Re.UNPACK_FLIP_Y_WEBGL,r.flipY),Re.pixelStorei(Re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Re.pixelStorei(Re.UNPACK_ALIGNMENT,r.unpackAlignment);var h=Re.getParameter(Re.UNPACK_ROW_LENGTH),d=Re.getParameter(Re.UNPACK_IMAGE_HEIGHT),f=Re.getParameter(Re.UNPACK_SKIP_PIXELS),p=Re.getParameter(Re.UNPACK_SKIP_ROWS),v=Re.getParameter(Re.UNPACK_SKIP_IMAGES),m=n.isCompressedTexture?n.mipmaps[0]:n.image;Re.pixelStorei(Re.UNPACK_ROW_LENGTH,m.width),Re.pixelStorei(Re.UNPACK_IMAGE_HEIGHT,m.height),Re.pixelStorei(Re.UNPACK_SKIP_PIXELS,e.min.x),Re.pixelStorei(Re.UNPACK_SKIP_ROWS,e.min.y),Re.pixelStorei(Re.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Re.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,m.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Re.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,m.data)):Re.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,m),Re.pixelStorei(Re.UNPACK_ROW_LENGTH,h),Re.pixelStorei(Re.UNPACK_IMAGE_HEIGHT,d),Re.pixelStorei(Re.UNPACK_SKIP_PIXELS,f),Re.pixelStorei(Re.UNPACK_SKIP_ROWS,p),Re.pixelStorei(Re.UNPACK_SKIP_IMAGES,v),0===i&&r.generateMipmaps&&Re.generateMipmap(a),se.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ce.setTextureCube(e,0):e.isData3DTexture?ce.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ce.setTexture2DArray(e,0):ce.setTexture2D(e,0),se.unbindTexture()},this.resetState=function(){I=0,P=0,N=null,se.reset(),ke.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return b(e,[{key:"coordinateSystem",get:function(){return wb}},{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===vb?fb:3e3},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===fb?vb:mb}}]),e}(),cT=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n)}(uT);cT.prototype.isWebGL1Renderer=!0;var hT=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:S(e)})),e}return b(n,[{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=py(w(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(d_),dT=function(){function e(t,n){g(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=bb,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Rb()}return b(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Rb()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Rb()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),fT=new hx,pT=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];g(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return b(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)fT.fromBufferAttribute(this,t),fT.applyMatrix4(e),this.setXYZ(t,fT.x,fT.y,fT.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)fT.fromBufferAttribute(this,t),fT.applyNormalMatrix(e),this.setXYZ(t,fT.x,fT.y,fT.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)fT.fromBufferAttribute(this,t),fT.transformDirection(e),this.setXYZ(t,fT.x,fT.y,fT.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ub(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ub(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ub(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ub(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Lb(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Lb(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Lb(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Lb(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ub(t,this.array),n=Ub(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ub(t,this.array),n=Ub(n,this.array),r=Ub(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ub(t,this.array),n=Ub(n,this.array),r=Ub(r,this.array),i=Ub(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new L_(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();var vT=new hx,mT=new ox,gT=new ox,yT=new hx,bT=new zx,xT=new hx,_T=new Ix,wT=new zx,ET=new Bx,ST=function(e){_(n,e);var t=T(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new zx,i.bindMatrixInverse=new zx,i.boundingBox=null,i.boundingSphere=null,i}return b(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry;null===this.boundingBox&&(this.boundingBox=new px),this.boundingBox.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)xT.fromBufferAttribute(t,n),this.applyBoneTransform(n,xT),this.boundingBox.expandByPoint(xT)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Ix),this.boundingSphere.makeEmpty();for(var t=e.getAttribute("position"),n=0;n<t.count;n++)xT.fromBufferAttribute(t,n),this.applyBoneTransform(n,xT),this.boundingSphere.expandByPoint(xT)}},{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"raycast",value:function(e,t){var n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),_T.copy(this.boundingSphere),_T.applyMatrix4(r),!1!==e.ray.intersectsSphere(_T)&&(wT.copy(r).invert(),ET.copy(e.ray).applyMatrix4(wT),null!==this.boundingBox&&!1===ET.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,ET)))}},{key:"getVertexPosition",value:function(e,t){return py(w(n.prototype),"getVertexPosition",this).call(this,e,t),this.applyBoneTransform(e,t),t}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new ox,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){py(w(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"applyBoneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;mT.fromBufferAttribute(r.attributes.skinIndex,e),gT.fromBufferAttribute(r.attributes.skinWeight,e),vT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=gT.getComponent(i);if(0!==a){var o=mT.getComponent(i);bT.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(yT.copy(vT).applyMatrix4(bT),a)}}return t.applyMatrix4(this.bindMatrixInverse)}},{key:"boneTransform",value:function(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}]),n}(hw),TT=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return b(n)}(d_),MT=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:jy,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:jy,f=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return g(this,n),(e=t.call(this,null,l,u,c,h,d,o,s,f,p)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return b(n)}(ax),kT=new zx,AT=new zx,RT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];g(this,e),this.uuid=Rb(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return b(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new zx)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new zx;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:AT;kT.multiplyMatrices(o,t[i]),kT.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=Nb(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new MT(t,e,e,Jy,Qy);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new TT),this.bones.push(a),this.boneInverses.push((new zx).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),CT=function(e){_(n,e);var t=T(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return g(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=py(w(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(L_),OT=new zx,IT=new zx,PT=[],NT=new px,DT=new zx,LT=new hw,UT=new Ix,FT=function(e){_(n,e);var t=T(n);function n(e,r,i){var a;g(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new CT(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.boundingBox=null,a.boundingSphere=null;for(var o=0;o<i;o++)a.setMatrixAt(o,DT);return a}return b(n,[{key:"computeBoundingBox",value:function(){var e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new px),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,OT),NT.copy(e.boundingBox).applyMatrix4(OT),this.boundingBox.union(NT)}},{key:"computeBoundingSphere",value:function(){var e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Ix),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(var n=0;n<t;n++)this.getMatrixAt(n,OT),UT.copy(e.boundingSphere).applyMatrix4(OT),this.boundingSphere.union(UT)}},{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(LT.geometry=this.geometry,LT.material=this.material,void 0!==LT.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),UT.copy(this.boundingSphere),UT.applyMatrix4(n),!1!==e.ray.intersectsSphere(UT)))for(var i=0;i<r;i++){this.getMatrixAt(i,OT),IT.multiplyMatrices(n,OT),LT.matrixWorld=IT,LT.raycast(e,PT);for(var a=0,o=PT.length;a<o;a++){var s=PT[a];s.instanceId=i,s.object=this,t.push(s)}PT.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new CT(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(hw),jT=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new O_(16777215),r.map=null,r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(M_),BT=new hx,zT=new hx,VT=new zx,HT=new Bx,WT=new Ix,GT=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new X_,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new jT;return g(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return b(n,[{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)BT.fromBufferAttribute(t,r-1),zT.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=BT.distanceTo(zT);e.setAttribute("lineDistance",new j_(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),WT.copy(n.boundingSphere),WT.applyMatrix4(r),WT.radius+=i,!1!==e.ray.intersectsSphere(WT)){VT.copy(r).invert(),HT.copy(e.ray).applyMatrix4(VT);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new hx,u=new hx,c=new hx,h=new hx,d=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f)for(var v=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count)-1;v<m;v+=d){var g=f.getX(v),y=f.getX(v+1);if(l.fromBufferAttribute(p,g),u.fromBufferAttribute(p,y),!(HT.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var x=Math.max(0,a.start),_=Math.min(p.count,a.start+a.count)-1;x<_;x+=d){if(l.fromBufferAttribute(p,x),u.fromBufferAttribute(p,x+1),!(HT.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(d_),qT=new hx,XT=new hx,YT=function(e){_(n,e);var t=T(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return b(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)qT.fromBufferAttribute(t,r),XT.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+qT.distanceTo(XT);e.setAttribute("lineDistance",new j_(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(GT),QT=function(e){_(n,e);var t=T(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return b(n)}(GT),KT=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new O_(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(M_),$T=new zx,JT=new Bx,ZT=new Ix,eM=new hx,tM=function(e){_(n,e);var t=T(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new X_,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new KT;return g(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return b(n,[{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ZT.copy(n.boundingSphere),ZT.applyMatrix4(r),ZT.radius+=i,!1!==e.ray.intersectsSphere(ZT)){$T.copy(r).invert(),JT.copy(e.ray).applyMatrix4($T);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);c<h;c++){var d=l.getX(c);eM.fromBufferAttribute(u,d),nM(eM,d,s,r,e,t,this)}else for(var f=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);f<p;f++)eM.fromBufferAttribute(u,f),nM(eM,f,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(d_);function nM(e,t,n,r,i,a,o){var s=JT.distanceSqToPoint(e);if(s<n){var l=new hx;JT.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}var rM=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new O_(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new O_(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=0,r.normalScale=new jb(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return b(n,[{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(M_),iM=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.anisotropyRotation=0,r.anisotropyMap=null,r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new jb(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(S(r),"reflectivity",{get:function(){return Cb(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new O_(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new O_(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new O_(1,1,1),r.specularColorMap=null,r._anisotropy=0,r._clearcoat=0,r._iridescence=0,r._sheen=0,r._transmission=0,r.setValues(e),r}return b(n,[{key:"anisotropy",get:function(){return this._anisotropy},set:function(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=m(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(rM);function aM(e,t,n){return sM(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function oM(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function sM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lM(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function uM(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i}function cM(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var hM=function(){function e(t,n,r,i){g(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return b(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),dM=function(e){_(n,e);var t=T(n);function n(e,r,i,a){var o;return g(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:ub,endingEnd:ub},o}return b(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case cb:i=e,o=2*t-n;break;case hb:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case cb:a=e,s=2*n-t;break;case hb:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,v=p*f,m=-h*v+2*h*p-h*f,g=(1+h)*v+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*v+(1.5+d)*p+.5*f,b=d*v-d*p,x=0;x!==o;++x)i[x]=m*a[u+x]+g*a[l+x]+y*a[s+x]+b*a[c+x];return i}}]),n}(hM),fM=function(e){_(n,e);var t=T(n);function n(e,r,i,a){return g(this,n),t.call(this,e,r,i,a)}return b(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,h=0;h!==o;++h)i[h]=a[l+h]*c+a[s+h]*u;return i}}]),n}(hM),pM=function(e){_(n,e);var t=T(n);function n(e,r,i,a){return g(this,n),t.call(this,e,r,i,a)}return b(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(hM),vM=function(){function e(t,n,r,i){if(g(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=oM(n,this.TimeBufferType),this.values=oM(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return b(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new pM(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new fM(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new dM(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case ob:t=this.InterpolantFactoryMethodDiscrete;break;case sb:t=this.InterpolantFactoryMethodLinear;break;case lb:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ob;case this.InterpolantFactoryMethodLinear:return sb;case this.InterpolantFactoryMethodSmooth:return lb}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=aM(n,i,a),this.values=aM(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&sM(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=aM(this.times),t=aM(this.values),n=this.getValueSize(),r=this.getInterpolation()===lb,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=t[u+d];if(f!==t[c+d]||f!==t[h+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=aM(e,0,a),this.values=aM(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=aM(this.times,0),t=aM(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:oM(e.times,Array),values:oM(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();vM.prototype.TimeBufferType=Float32Array,vM.prototype.ValueBufferType=Float32Array,vM.prototype.DefaultInterpolation=sb;var mM=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n)}(vM);mM.prototype.ValueTypeName="bool",mM.prototype.ValueBufferType=Array,mM.prototype.DefaultInterpolation=ob,mM.prototype.InterpolantFactoryMethodLinear=void 0,mM.prototype.InterpolantFactoryMethodSmooth=void 0;var gM=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n)}(vM);gM.prototype.ValueTypeName="color";var yM=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n)}(vM);yM.prototype.ValueTypeName="number";var bM=function(e){_(n,e);var t=T(n);function n(e,r,i,a){return g(this,n),t.call(this,e,r,i,a)}return b(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)cx.slerpFlat(i,0,a,l-o,a,l,s);return i}}]),n}(hM),xM=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new bM(this.times,this.values,this.getValueSize(),e)}}]),n}(vM);xM.prototype.ValueTypeName="quaternion",xM.prototype.DefaultInterpolation=sb,xM.prototype.InterpolantFactoryMethodSmooth=void 0;var _M=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n)}(vM);_M.prototype.ValueTypeName="string",_M.prototype.ValueBufferType=Array,_M.prototype.DefaultInterpolation=ob,_M.prototype.InterpolantFactoryMethodLinear=void 0,_M.prototype.InterpolantFactoryMethodSmooth=void 0;var wM=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n)}(vM);wM.prototype.ValueTypeName="vector";var EM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:db;g(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Rb(),this.duration<0&&this.resetDuration()}return b(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(SM(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(vM.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=lM(s);s=uM(s,1,u),l=uM(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new yM(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var h=[];for(var d in r)h.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];cM(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)h[c[d].morphTargets[f]]=-1;for(var p in h){for(var v=[],m=[],g=0;g!==c[d].morphTargets.length;++g){var y=c[d];v.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new yM(".morphTargetInfluence["+p+"]",v,m))}s=h.length*a}else{var b=".bones["+t[u].name+"]";n(wM,b+".position",c,"pos",r),n(xM,b+".quaternion",c,"rot",r),n(wM,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function SM(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yM;case"vector":case"vector2":case"vector3":case"vector4":return wM;case"color":return gM;case"quaternion":return xM;case"bool":case"boolean":return mM;case"string":return _M}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];cM(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var TM={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},MM=b((function e(t,n,r){g(this,e);var i=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),kM=new MM,AM=function(){function e(t){g(this,e),this.manager=void 0!==t?t:kM,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return b(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),RM={},CM=function(e){_(n,e);var t=T(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e)).response=r,i}return b(n)}(k(Error)),OM=function(e){_(n,e);var t=T(n);function n(e){return g(this,n),t.call(this,e)}return b(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=TM.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===RM[e]){RM[e]=[],RM[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=RM[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,l=r.value;if(i)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,h=n.length;c<h;c++){var d=n[c];d.onProgress&&d.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new CM('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){TM.add(e,t);var n=RM[e];delete RM[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=RM[e];if(void 0===n)throw i.manager.itemError(e),t;delete RM[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else RM[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(AM),IM=function(e){_(n,e);var t=T(n);function n(e){return g(this,n),t.call(this,e)}return b(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=TM.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=Hb("img");function s(){u(),TM.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(AM),PM=function(e){_(n,e);var t=T(n);function n(e){return g(this,n),t.call(this,e)}return b(n,[{key:"load",value:function(e,t,n,r){var i=new ax,a=new IM(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(AM),NM=function(e){_(n,e);var t=T(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return g(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new O_(e),r.intensity=i,r}return b(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=py(w(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(d_),DM=new zx,LM=new hx,UM=new hx,FM=function(){function e(t){g(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new jb(512,512),this.map=null,this.mapPass=null,this.matrix=new zx,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ow,this._frameExtents=new jb(1,1),this._viewportCount=1,this._viewports=[new ox(0,0,1,1)]}return b(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;LM.setFromMatrixPosition(e.matrixWorld),t.position.copy(LM),UM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(UM),t.updateMatrixWorld(),DM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(DM),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(DM)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),jM=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.call(this,new xw(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return b(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*Ab*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),py(w(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(FM),BM=function(e){_(n,e);var t=T(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return g(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(d_.DEFAULT_UP),i.updateMatrix(),i.target=new d_,i.distance=a,i.angle=o,i.penumbra=s,i.decay=l,i.map=null,i.shadow=new jM,i}return b(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(NM),zM=new zx,VM=new hx,HM=new hx,WM=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.call(this,new xw(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new jb(4,2),e._viewportCount=6,e._viewports=[new ox(2,1,1,1),new ox(0,1,1,1),new ox(3,1,1,1),new ox(1,1,1,1),new ox(3,0,1,1),new ox(1,0,1,1)],e._cubeDirections=[new hx(1,0,0),new hx(-1,0,0),new hx(0,0,1),new hx(0,0,-1),new hx(0,1,0),new hx(0,-1,0)],e._cubeUps=[new hx(0,1,0),new hx(0,1,0),new hx(0,1,0),new hx(0,1,0),new hx(0,0,1),new hx(0,0,-1)],e}return b(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),VM.setFromMatrixPosition(e.matrixWorld),n.position.copy(VM),HM.copy(n.position),HM.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(HM),n.updateMatrixWorld(),r.makeTranslation(-VM.x,-VM.y,-VM.z),zM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zM)}}]),n}(FM),GM=function(e){_(n,e);var t=T(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return g(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new WM,i}return b(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return py(w(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(NM),qM=function(e){_(n,e);var t=T(n);function n(){var e;return g(this,n),(e=t.call(this,new Gw(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return b(n)}(FM),XM=function(e){_(n,e);var t=T(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(d_.DEFAULT_UP),i.updateMatrix(),i.target=new d_,i.shadow=new qM,i}return b(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return py(w(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(NM),YM=function(e){_(n,e);var t=T(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return b(n)}(NM),QM=function(){function e(){g(this,e)}return b(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),KM=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return b(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=TM.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){TM.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(AM),$M=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];g(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return b(e,[{key:"start",value:function(){this.startTime=JM(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=JM();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function JM(){return("undefined"===typeof performance?Date:performance).now()}var ZM="\\[\\]\\.:\\/",ek=new RegExp("["+ZM+"]","g"),tk="[^"+ZM+"]",nk="[^"+ZM.replace("\\.","")+"]",rk=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",tk)+/(WCOD+)?/.source.replace("WCOD",nk)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tk)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tk)+"$"),ik=["material","materials","bones","map"],ak=function(){function e(t,n,r){g(this,e);var i=r||ok.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return b(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),ok=function(){function e(t,n,r){g(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return b(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(ek,"")}},{key:"parseTrackName",value:function(e){var t=rk.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==ik.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();ok.Composite=ak,ok.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},ok.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},ok.prototype.GetterByBindingType=[ok.prototype._getValue_direct,ok.prototype._getValue_array,ok.prototype._getValue_arrayElement,ok.prototype._getValue_toArray],ok.prototype.SetterByBindingTypeAndVersioning=[[ok.prototype._setValue_direct,ok.prototype._setValue_direct_setNeedsUpdate,ok.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ok.prototype._setValue_array,ok.prototype._setValue_array_setNeedsUpdate,ok.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ok.prototype._setValue_arrayElement,ok.prototype._setValue_arrayElement_setNeedsUpdate,ok.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ok.prototype._setValue_fromArray,ok.prototype._setValue_fromArray_setNeedsUpdate,ok.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);function sk(e,t){if(0===t)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(2===t||1===t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(2===t)for(var l=1;l<=o;l++)s.push(n.getX(0)),s.push(n.getX(l)),s.push(n.getX(l+1));else for(var u=0;u<o;u++)u%2===0?(s.push(n.getX(u)),s.push(n.getX(u+1)),s.push(n.getX(u+2))):(s.push(n.getX(u+2)),s.push(n.getX(u+1)),s.push(n.getX(u)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:vy}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=vy);var lk=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new pk(e)})),r.register((function(e){return new wk(e)})),r.register((function(e){return new Ek(e)})),r.register((function(e){return new Sk(e)})),r.register((function(e){return new mk(e)})),r.register((function(e){return new gk(e)})),r.register((function(e){return new yk(e)})),r.register((function(e){return new bk(e)})),r.register((function(e){return new fk(e)})),r.register((function(e){return new xk(e)})),r.register((function(e){return new vk(e)})),r.register((function(e){return new _k(e)})),r.register((function(e){return new hk(e)})),r.register((function(e){return new Tk(e)})),r.register((function(e){return new Mk(e)})),r}return b(n,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:QM.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new OM(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},o={},s=new TextDecoder;if("string"===typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(s.decode(new Uint8Array(e,0,4))===kk){try{a[ck.KHR_BINARY_GLTF]=new Ck(e)}catch(p){return void(r&&r(p))}i=JSON.parse(a[ck.KHR_BINARY_GLTF].content)}else i=JSON.parse(s.decode(e))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new nA(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(var u=0;u<this.pluginCallbacks.length;u++){var c=this.pluginCallbacks[u](l);o[c.name]=c,a[c.name]=!0}if(i.extensionsUsed)for(var h=0;h<i.extensionsUsed.length;++h){var d=i.extensionsUsed[h],f=i.extensionsRequired||[];switch(d){case ck.KHR_MATERIALS_UNLIT:a[d]=new dk;break;case ck.KHR_DRACO_MESH_COMPRESSION:a[d]=new Ok(i,this.dracoLoader);break;case ck.KHR_TEXTURE_TRANSFORM:a[d]=new Ik;break;case ck.KHR_MESH_QUANTIZATION:a[d]=new Pk;break;default:f.indexOf(d)>=0&&void 0===o[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(AM);function uk(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var ck={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},hk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return b(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new O_(16777215);void 0!==o.color&&s.fromArray(o.color);var l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new XM(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new GM(s)).distance=l;break;case"spot":(i=new BM(s)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,Kk(i,o),void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),dk=function(){function e(){g(this,e),this.name=ck.KHR_MATERIALS_UNLIT}return b(e,[{key:"getMaterialType",value:function(){return P_}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new O_(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,vb))}return Promise.all(r)}}]),e}(),fk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_MATERIALS_EMISSIVE_STRENGTH}return b(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),pk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_MATERIALS_CLEARCOAT}return b(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?iM:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new jb(o,o)}return Promise.all(i)}}]),e}(),vk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_MATERIALS_IRIDESCENCE}return b(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?iM:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),mk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_MATERIALS_SHEEN}return b(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?iM:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new O_(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,vb)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),gk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_MATERIALS_TRANSMISSION}return b(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?iM:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),yk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_MATERIALS_VOLUME}return b(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?iM:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new O_(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),bk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_MATERIALS_IOR}return b(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?iM:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),xk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_MATERIALS_SPECULAR}return b(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?iM:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new O_(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,vb)),Promise.all(i)}}]),e}(),_k=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_MATERIALS_ANISOTROPY}return b(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?iM:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.anisotropyStrength&&(t.anisotropy=a.anisotropyStrength),void 0!==a.anisotropyRotation&&(t.anisotropyRotation=a.anisotropyRotation),void 0!==a.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(i)}}]),e}(),wk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.KHR_TEXTURE_BASISU}return b(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),Ek=function(){function e(t){g(this,e),this.parser=t,this.name=ck.EXT_TEXTURE_WEBP,this.isSupported=null}return b(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var l=n.options.manager.getHandler(o.uri);null!==l&&(s=l)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),Sk=function(){function e(t){g(this,e),this.parser=t,this.name=ck.EXT_TEXTURE_AVIF,this.isSupported=null}return b(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var l=n.options.manager.getHandler(o.uri);null!==l&&(s=l)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),Tk=function(){function e(t){g(this,e),this.name=ck.EXT_MESHOPT_COMPRESSION,this.parser=t}return b(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),Mk=function(){function e(t){g(this,e),this.name=ck.EXT_MESH_GPU_INSTANCING,this.parser=t}return b(e,[{key:"createNodeMesh",value:function(e){var t=this,n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;var i,a=A(n.meshes[r.mesh].primitives);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.mode!==Uk.TRIANGLES&&o.mode!==Uk.TRIANGLE_STRIP&&o.mode!==Uk.TRIANGLE_FAN&&void 0!==o.mode)return null}}catch(d){a.e(d)}finally{a.f()}var s=r.extensions[this.name].attributes,l=[],u={},c=function(e){l.push(t.parser.getDependency("accessor",s[e]).then((function(t){return u[e]=t,u[e]})))};for(var h in s)c(h);return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then((function(e){var n,r=e.pop(),i=r.isGroup?r.children:[r],a=e[0].count,o=[],s=A(i);try{for(s.s();!(n=s.n()).done;){for(var l=n.value,c=new zx,h=new hx,f=new cx,p=new hx(1,1,1),v=new FT(l.geometry,l.material,a),m=0;m<a;m++)u.TRANSLATION&&h.fromBufferAttribute(u.TRANSLATION,m),u.ROTATION&&f.fromBufferAttribute(u.ROTATION,m),u.SCALE&&p.fromBufferAttribute(u.SCALE,m),v.setMatrixAt(m,c.compose(h,f,p));for(var g in u)"TRANSLATION"!==g&&"ROTATION"!==g&&"SCALE"!==g&&l.geometry.setAttribute(g,u[g]);d_.prototype.copy.call(v,l),t.parser.assignFinalMaterial(v),o.push(v)}}catch(d){s.e(d)}finally{s.f()}return r.isGroup?(r.clear(),r.add.apply(r,o),r):o[0]})))}}]),e}(),kk="glTF",Ak=1313821514,Rk=5130562,Ck=b((function e(t){g(this,e),this.name=ck.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==kk)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,a=new DataView(t,12),o=0;o<i;){var s=a.getUint32(o,!0);o+=4;var l=a.getUint32(o,!0);if(o+=4,l===Ak){var u=new Uint8Array(t,12+o,s);this.content=r.decode(u)}else if(l===Rk){var c=12+o;this.body=t.slice(c,c+s)}o+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),Ok=function(){function e(t,n){if(g(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ck.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return b(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var u in a){var c=Vk[u]||u.toLowerCase();o[c]=a[u]}for(var h in e.attributes){var d=Vk[h]||h.toLowerCase();if(void 0!==a[h]){var f=n.accessors[e.attributes[h]],p=Fk[f.componentType];l[d]=p.name,s[d]=!0===f.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,l)}))}))}}]),e}(),Ik=function(){function e(){g(this,e),this.name=ck.KHR_TEXTURE_TRANSFORM}return b(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}]),e}(),Pk=b((function e(){g(this,e),this.name=ck.KHR_MESH_QUANTIZATION})),Nk=function(e){_(n,e);var t=T(n);function n(e,r,i,a){return g(this,n),t.call(this,e,r,i,a)}return b(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=r-t,c=(n-t)/u,h=c*c,d=h*c,f=e*l,p=f-l,v=-2*d+3*h,m=d-h,g=1-v,y=m-h+c,b=0;b!==o;b++){var x=a[p+b+o],_=a[p+b+s]*u,w=a[f+b+o],E=a[f+b]*u;i[b]=g*x+y*_+v*w+m*E}return i}}]),n}(hM),Dk=new cx,Lk=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"interpolate_",value:function(e,t,r,i){var a=py(w(n.prototype),"interpolate_",this).call(this,e,t,r,i);return Dk.fromArray(a).normalize().toArray(a),a}}]),n}(Nk),Uk={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Fk={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},jk={9728:jy,9729:Vy,9984:By,9985:Hy,9986:zy,9987:Wy},Bk={33071:Uy,33648:Fy,10497:Ly},zk={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Vk={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Hk={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Wk={CUBICSPLINE:void 0,LINEAR:sb,STEP:ob},Gk="OPAQUE",qk="MASK",Xk="BLEND";function Yk(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new rM({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:by})),e.DefaultMaterial}function Qk(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Kk(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function $k(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Jk(e){var t,n=e.extensions&&e.extensions[ck.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+Zk(n.attributes):e.indices+":"+Zk(e.attributes)+":"+e.mode,void 0!==e.targets)for(var r=0,i=e.targets.length;r<i;r++)t+=":"+Zk(e.targets[r]);return t}function Zk(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function eA(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var tA=new zx,nA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new uk,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!1,i=!1,a=-1;"undefined"!==typeof navigator&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=(i=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||r||i&&a<98?this.textureLoader=new PM(this.options.manager):this.textureLoader=new KM(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new OM(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return b(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};Qk(i,a,r),Kk(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,o=A(t.children.entries());try{for(o.s();!(a=o.n()).done;){var s=p(a.value,2),l=s[0];e(s[1],n.children[l])}}catch(u){o.e(u)}finally{o.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}))))throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[ck.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(QM.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){var i=zk[r.type],a=Fk[r.componentType],o=!0===r.normalized,s=new a(r.count*i);return Promise.resolve(new L_(s,i,o))}var l=[];return void 0!==r.bufferView?l.push(this.getDependency("bufferView",r.bufferView)):l.push(null),void 0!==r.sparse&&(l.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(l).then((function(e){var i,a,o=e[0],s=zk[r.type],l=Fk[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,h=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(d&&d!==c){var p=Math.floor(h/d),v="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,m=t.cache.get(v);m||(i=new l(o,p*d,r.count*d/u),m=new dT(i,d/u),t.cache.add(v,m)),a=new pT(m,s,h%d/u,f)}else i=null===o?new l(r.count*s):new l(o,h,r.count*s),a=new L_(i,s,f);if(void 0!==r.sparse){var g=zk.SCALAR,y=Fk[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,_=new y(e[1],b,r.sparse.count*g),w=new l(e[2],x,r.sparse.count*s);null!==o&&(a=new L_(a.array.slice(),a.itemSize,a.normalized));for(var E=0,S=_.length;E<S;E++){var T=_[E];if(a.setX(T,w[E*s]),s>=2&&a.setY(T,w[E*s+1]),s>=3&&a.setZ(T,w[E*s+2]),s>=4&&a.setW(T,w[E*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||o.name||"",""===t.name&&"string"===typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(t.name=o.uri);var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=jk[n.magFilter]||Vy,t.minFilter=jk[n.minFilter]||Wy,t.wrapS=Bk[n.wrapS]||Ly,t.wrapT=Bk[n.wrapT]||Ly,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=l,l}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var l=Promise.resolve(o).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new ax(e);t.needsUpdate=!0,n(t)}),t.load(QM.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&a.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=l,l}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((a=a.clone()).channel=n.texCoord),i.extensions[ck.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[ck.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[ck.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.colorSpace=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new KT,M_.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var l="LineBasicMaterial:"+n.uuid,u=this.cache.get(l);u||(u=new jT,M_.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,this.cache.add(l,u)),n=u}if(r||i||a){var c="ClonedMaterial:"+n.uuid+":";r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),a&&(c+="flat-shading:");var h=this.cache.get(c);h||(h=n.clone(),i&&(h.vertexColors=!0),a&&(h.flatShading=!0),r&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(c,h),this.associations.set(h,this.associations.get(n))),n=h}e.material=n}},{key:"getMaterialType",value:function(){return rM}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=[];if((a.extensions||{})[ck.KHR_MATERIALS_UNLIT]){var l=i[ck.KHR_MATERIALS_UNLIT];t=l.getMaterialType(),s.push(l.extendParams(o,a,n))}else{var u=a.pbrMetallicRoughness||{};if(o.color=new O_(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){var c=u.baseColorFactor;o.color.fromArray(c),o.opacity=c[3]}void 0!==u.baseColorTexture&&s.push(n.assignTexture(o,"map",u.baseColorTexture,vb)),o.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,o.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(s.push(n.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),s.push(n.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),s.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=2);var h=a.alphaMode||Gk;if(h===Xk?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,h===qk&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==P_&&(s.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new jb(1,1),void 0!==a.normalTexture.scale)){var d=a.normalTexture.scale;o.normalScale.set(d,d)}return void 0!==a.occlusionTexture&&t!==P_&&(s.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==P_&&(o.emissive=(new O_).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==P_&&s.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,vb)),Promise.all(s).then((function(){var r=new t(o);return a.name&&(r.name=a.name),Kk(r,a),n.associations.set(r,{materials:e}),a.extensions&&Qk(i,r,a),r}))}},{key:"createUniqueName",value:function(e){var t=ok.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[ck.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return rA(n,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var l=e[o],u=Jk(l),c=r[u];if(c)a.push(c.promise);else{var h=void 0;h=l.extensions&&l.extensions[ck.KHR_DRACO_MESH_COMPRESSION]?i(l):rA(new X_,l,t),r[u]={primitive:l,promise:h},a.push(h)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[],s=0,l=a.length;s<l;s++){var u=void 0===a[s].material?Yk(this.cache):this.getDependency("material",a[s].material);o.push(u)}return o.push(t.loadGeometries(a)),Promise.all(o).then((function(n){for(var o=n.slice(0,n.length-1),s=n[n.length-1],l=[],u=0,c=s.length;u<c;u++){var h=s[u],d=a[u],f=void 0,p=o[u];if(d.mode===Uk.TRIANGLES||d.mode===Uk.TRIANGLE_STRIP||d.mode===Uk.TRIANGLE_FAN||void 0===d.mode)!0===(f=!0===i.isSkinnedMesh?new ST(h,p):new hw(h,p)).isSkinnedMesh&&f.normalizeSkinWeights(),d.mode===Uk.TRIANGLE_STRIP?f.geometry=sk(f.geometry,1):d.mode===Uk.TRIANGLE_FAN&&(f.geometry=sk(f.geometry,2));else if(d.mode===Uk.LINES)f=new YT(h,p);else if(d.mode===Uk.LINE_STRIP)f=new GT(h,p);else if(d.mode===Uk.LINE_LOOP)f=new QT(h,p);else{if(d.mode!==Uk.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);f=new tM(h,p)}Object.keys(f.geometry.morphAttributes).length>0&&$k(f,i),f.name=t.createUniqueName(i.name||"mesh_"+e),Kk(f,i),d.extensions&&Qk(r,f,d),t.assignFinalMaterial(f),l.push(f)}for(var v=0,m=l.length;v<m;v++)t.associations.set(l[v],{meshes:e,primitives:v});if(1===l.length)return i.extensions&&Qk(r,l[0],i),l[0];var g=new nT;i.extensions&&Qk(r,g,i),t.associations.set(g,{meshes:e});for(var y=0,b=l.length;y<b;y++)g.add(l[y]);return g}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new xw(Fb.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new Gw(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Kk(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){for(var t=this.json.skins[e],n=[],r=0,i=t.joints.length;r<i;r++)n.push(this._loadNodeShallow(t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){for(var n=e.pop(),r=e,i=[],a=[],o=0,s=r.length;o<s;o++){var l=r[o];if(l){i.push(l);var u=new zx;null!==n&&u.fromArray(n.array,16*o),a.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}return new RT(i,a)}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=t.name?t.name:"animation_"+e,r=[],i=[],a=[],o=[],s=[],l=0,u=t.channels.length;l<u;l++){var c=t.channels[l],h=t.samplers[c.sampler],d=c.target,f=d.node,p=void 0!==t.parameters?t.parameters[h.input]:h.input,v=void 0!==t.parameters?t.parameters[h.output]:h.output;void 0!==d.node&&(r.push(this.getDependency("node",f)),i.push(this.getDependency("accessor",p)),a.push(this.getDependency("accessor",v)),o.push(h),s.push(d))}return Promise.all([Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o),Promise.all(s)]).then((function(e){for(var t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=[],l=function(){var e,n=t[u],l=r[u],c=i[u],h=a[u],d=o[u];if(void 0===n)return"continue";switch(n.updateMatrix(),Hk[d.path]){case Hk.weights:e=yM;break;case Hk.rotation:e=xM;break;default:e=wM}var f=n.name?n.name:n.uuid,p=void 0!==h.interpolation?Wk[h.interpolation]:sb,v=[];Hk[d.path]===Hk.weights?n.traverse((function(e){e.morphTargetInfluences&&v.push(e.name?e.name:e.uuid)})):v.push(f);var m=c.array;if(c.normalized){for(var g=eA(m.constructor),y=new Float32Array(m.length),b=0,x=m.length;b<x;b++)y[b]=m[b]*g;m=y}for(var _=0,w=v.length;_<w;_++){var E=new e(v[_]+"."+Hk[d.path],l.array,m,p);"CUBICSPLINE"===h.interpolation&&(E.createInterpolant=function(e){return new(this instanceof xM?Lk:Nk)(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),s.push(E)}},u=0,c=t.length;u<c;u++)l();return new EM(n,void 0,s)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){for(var t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),i=[],a=n.children||[],o=0,s=a.length;o<s;o++)i.push(t.getDependency("node",a[o]));var l=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),l]).then((function(e){var t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,tA)}));for(var i=0,a=n.length;i<a;i++)t.add(n[i]);return t}))}},{key:"_loadNodeShallow",value:function(e){var t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];var i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"",o=[],s=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return s&&o.push(s),void 0!==i.camera&&o.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){o.push(e)})),this.nodeCache[e]=Promise.all(o).then((function(t){var o;if((o=!0===i.isBone?new TT:t.length>1?new nT:1===t.length?t[0]:new d_)!==t[0])for(var s=0,l=t.length;s<l;s++)o.add(t[s]);if(i.name&&(o.userData.name=i.name,o.name=a),Kk(o,i),i.extensions&&Qk(n,o,i),void 0!==i.matrix){var u=new zx;u.fromArray(i.matrix),o.applyMatrix4(u)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o})),this.nodeCache[e]}},{key:"loadScene",value:function(e){var t=this.extensions,n=this.json.scenes[e],r=this,i=new nT;n.name&&(i.name=r.createUniqueName(n.name)),Kk(i,n),n.extensions&&Qk(t,i,n);for(var a=n.nodes||[],o=[],s=0,l=a.length;s<l;s++)o.push(r.getDependency("node",a[s]));return Promise.all(o).then((function(e){for(var t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=function(e){var t,n=new Map,i=A(r.associations);try{for(i.s();!(t=i.n()).done;){var a=p(t.value,2),o=a[0],s=a[1];(o instanceof M_||o instanceof ax)&&n.set(o,s)}}catch(l){i.e(l)}finally{i.f()}return e.traverse((function(e){var t=r.associations.get(e);null!=t&&n.set(e,t)})),n}(i),i}))}}]),e}();function rA(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=Vk[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(l)}return Kk(e,t),function(e,t,n){var r=t.attributes,i=new px;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new hx(o[0],o[1],o[2]),new hx(s[0],s[1],s[2])),a.normalized){var l=eA(Fk[a.componentType]);i.min.multiplyScalar(l),i.max.multiplyScalar(l)}var u=t.targets;if(void 0!==u){for(var c=new hx,h=new hx,d=0,f=u.length;d<f;d++){var p=u[d];if(void 0!==p.POSITION){var v=n.json.accessors[p.POSITION],m=v.min,g=v.max;if(void 0!==m&&void 0!==g){if(h.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),h.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),h.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),v.normalized){var y=eA(Fk[v.componentType]);h.multiplyScalar(y)}c.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(c)}e.boundingBox=i;var b=new Ix;i.getCenter(b.center),b.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=b}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var l=t[o];if(void 0!==l.POSITION&&(r=!0),void 0!==l.NORMAL&&(i=!0),void 0!==l.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var u=[],c=[],h=[],d=0,f=t.length;d<f;d++){var p=t[d];if(r){var v=void 0!==p.POSITION?n.getDependency("accessor",p.POSITION):e.attributes.position;u.push(v)}if(i){var m=void 0!==p.NORMAL?n.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(m)}if(a){var g=void 0!==p.COLOR_0?n.getDependency("accessor",p.COLOR_0):e.attributes.color;h.push(g)}}return Promise.all([Promise.all(u),Promise.all(c),Promise.all(h)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}var iA=function(){var e=(0,t.useRef)(null),n=p((0,t.useState)(0),2),r=n[0],i=n[1];(0,t.useEffect)((function(){var t=e.current,n=new hT,r=new xw(75,window.innerWidth/window.innerHeight,.1,100),a=new uT({canvas:t,alpha:!0});a.setSize(window.innerWidth,window.innerHeight),r.position.set(0,0,50);var o=new GM(16777215,.5);o.position.set(0,0,50);var s=new YM(16111871,.8);n.add(o,s);var l=new lk,u="";l.load("./nug/scene.gltf",(function(e){(u=e.scene).position.set(1.6,-.7,48.2),u.scale.set(1,1,1),n.add(u),window.innerWidth<=770&&""!==u&&u.position.set(0,-.7,48.1),i(100)}),(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log(e)}));var c=0,h=0,d=0,f=0,p=window.innerWidth/2,v=window.innerHeight/2,m=new $M,g=function(){var e=Xo(Go().mark((function e(){var t;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:requestAnimationFrame(g),u&&(t=m.getElapsedTime(),u.rotation.y+=.5*t,d=.001*c,f=1e-4*h,u.rotation.y+=.5*(d-u.rotation.y),u.rotation.x+=.5*(f-u.rotation.x),u.rotation.z+=.5*(f-u.rotation.x)),a.render(n,r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();g(),window.addEventListener("mousemove",(function(e){c=e.clientX-p,h=e.clientY-v}));var y=function(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",y),function(){window.removeEventListener("resize",y)}}),[]);return(0,El.jsxs)(El.Fragment,{children:[100!==r?(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[(0,El.jsx)("br",{})," ",(0,El.jsx)("br",{})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h2",{className:"text-center mt-40",children:" Warming Up! "}),(0,El.jsx)("div",{className:"text-center mt-46",children:(0,El.jsxs)("div",{className:"lds-ring",children:[(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{})]})})]})}):(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)(Zf,{children:(0,El.jsxs)("div",{className:"container2",children:[(0,El.jsx)("h1",{style:{position:"absolute",top:"19%",textShadow:"0 14px 4px rgba(255, 255, 255, 0.3)"},children:"Paradise Hemp Dispensary"}),(0,El.jsx)("h5",{className:"about p-4 absolute top-72 md:top-96 text-white font-bold text-base text-shadow-2xs  rounded-md border-solid border-grey max-w-55vw max-h-96 md:max-h-96 overflow-auto hidden md:block",style:{position:"absolute",top:"calc(50% + 60px)",left:"120px",fontWeight:900,fontSize:18,borderRadius:5,width:"54%",maxHeight:"400px",overflow:"auto",zIndex:2,backgroundColor:"rgb(255,255,255, 0.1)",textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",transform:"translateY(-50%)"},children:"At Paradise Hemp Dispensary, we believe that nature holds the key to well-being, and we are committed to providing our customers with the highest quality hemp products available. Founded with a passion for natural alternatives, we have curated a diverse selection of premium hemp products that cater to the needs of both seasoned enthusiasts and newcomers to the world of hemp. From premium CBD oils and tinctures to soothing topicals and edibles, our collection is thoughtfully crafted to deliver the best that hemp has to offer. Paradise Hemp Dispensary is not just a place to buy hemp products; it's a community that fosters wellness, sustainability, and a shared passion for nature's bountiful offerings. We invite you to experience the natural bliss of Paradise Hemp Dispensary. Join us to a happier, and more harmonious existence as we embrace the incredible potential of hemp together. Your paradise awaits!"})]})}),(0,El.jsx)("div",{style:{marginTop:-60},children:(0,El.jsx)("a",{className:"h-28 w-40 hidden md:block",href:"#recentlyadded",onClick:function(e){e.preventDefault();var t=e.target;if(t){var n=t.getBoundingClientRect().top+window.scrollY- -80;window.scrollTo({top:n,behavior:"smooth"})}},children:(0,El.jsx)("div",{style:{marginBottom:30,height:32,width:32},className:"scroll-down"})})})]}),(0,El.jsx)("canvas",{ref:e})]})},aA=function(e){var t=e.children;return(0,El.jsx)("div",{className:"overlay bg-gray-400 bg-opacity-5",children:t})},oA=function(){return fp.checkTokens(),pp(),wl.isAdmin()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsxs)("div",{style:{display:"grid",placeItems:"center",marginTop:50},children:[(0,El.jsx)("br",{}),(0,El.jsxs)("h1",{style:{textTransform:"uppercase",fontSize:80,fontWeight:900},className:"mt-40",children:[" ","admin portal"," "]})]}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{})]}):(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("div",{style:{opacity:.999},children:(0,El.jsx)(aA,{children:(0,El.jsx)(iA,{})})}),(0,El.jsxs)("div",{children:[(0,El.jsx)("div",{id:"recentlyadded",className:"mb-40 mt-20",children:(0,El.jsx)(fy,{})}),(0,El.jsx)("div",{className:"mb-40",children:(0,El.jsx)(vu,{})}),(0,El.jsx)("div",{className:"mb-40",children:(0,El.jsx)(vp,{})}),(0,El.jsx)(cp,{})]}),(0,El.jsx)("br",{}),(0,El.jsx)(hp,{})]})};var sA=function(){fp.checkTokens(),pp();var e=p(ru(),2),n=e[0],r=e[1],i=function(){var e=t.useContext(ge).matches,n=e[e.length-1];return n?n.params:{}}().id,a=p((0,t.useState)({}),2),o=a[0],s=a[1],l=Cl(iu),c=l.loading,h=l.data,d=n.products,f=n.cart;return(0,t.useEffect)((function(){d.length?s(d.find((function(e){return e._id===i}))):h?(r({type:Nl,products:h.products}),h.products.forEach((function(e){pu("products","put",e)}))):c||pu("products","get").then((function(e){r({type:Nl,products:e})}))}),[d,h,c,r,i]),(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("br",{}),o&&f?(0,El.jsxs)("div",{className:"container mx-auto my-8 px-4 max-w-md mt-20",children:[(0,El.jsx)(Ye,{to:"/home",className:"hover:underline text-white",children:"\u2190 Back to Products"}),(0,El.jsxs)("div",{className:"bg-white box-shadow-custom mt-2 rounded-md bg-opacity-10 py-1 px-10",children:[(0,El.jsx)("h2",{className:"text-2xl font-bold my-4",children:o.name}),(0,El.jsx)("p",{children:o.description}),(0,El.jsxs)("p",{className:"text-lg font-bold mt-4",children:[(0,El.jsx)("strong",{children:"Price:"})," $",o.price," ",(0,El.jsx)("button",{className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 h-15 mt-2",onClick:function(){var e=f.find((function(e){return e._id===i}));e?(r({type:Fl,_id:i,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),pu("cart","put",u(u({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(r({type:Dl,product:u(u({},o),{},{purchaseQuantity:1})}),pu("cart","put",u(u({},o),{},{purchaseQuantity:1})))},children:"Add to Cart"})]}),(0,El.jsx)("img",{src:"".concat(o.image),alt:o.name,className:"my-4 rounded-lg shadow-md"})]})]}):null,c?(0,El.jsx)("div",{className:"text-center mt-40",children:(0,El.jsxs)("div",{class:"lds-ring",children:[(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{})]})}):null,(0,El.jsx)(cp,{}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)(hp,{})]})},lA=function(){return fp.checkTokens(),(0,El.jsxs)("div",{children:[(0,El.jsxs)("div",{className:"center",children:[(0,El.jsx)("h1",{children:"404 Page Not Found"}),(0,El.jsx)("button",{onClick:function(){return window.location.assign("/home")},className:" center mt-80 bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 bg-opacity-80 text-black",children:"Go Back Home"})]}),(0,El.jsxs)(Ye,{style:{marginLeft:10,position:"absolute",zIndex:1,top:10,color:"white"},to:"/Home",children:["\u2190 Back to Home"," "]})]})};var uA=function(e){fp.checkTokens(),pp();var n=p((0,t.useState)({email:"",password:""}),2),r=n[0],i=n[1],a=p(Jo(ol),2),o=a[0],l=a[1].error,c=function(){var e=Xo(Go().mark((function e(t){var n,i;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o({variables:{email:r.email,password:r.password}});case 4:n=e.sent,i=n.data.login.token,wl.login(i),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target,n=t.name,a=t.value;i(u(u({},r),{},s({},n,a)))};return(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)(Zf,{children:(0,El.jsx)("div",{className:"mt-40 mb-40",children:(0,El.jsxs)("div",{className:"container bg-white bg-opacity-10 borderwrap",style:{minHeight:"60vh"},children:[(0,El.jsx)("h2",{className:"text-2xl font-semibold",children:"Login"}),(0,El.jsxs)("form",{style:{maxWidth:300},onSubmit:c,className:"flex flex-col items-center space-y-4",children:[(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"email",className:"mb-1",children:"Email address:"}),(0,El.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:h,className:"border border-gray-300 px-3 py-2 rounded-md w-full"})]}),(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"pwd",className:"mb-1",children:"Password:"}),(0,El.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:h,className:"border border-gray-300 px-3 py-2 rounded-md w-full"})]}),l?(0,El.jsx)("div",{children:(0,El.jsx)("p",{className:"error-text",children:l.message})}):null,(0,El.jsx)("div",{className:"flex justify-end",children:(0,El.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 bg-opacity-80 text-white",children:"Submit"})}),(0,El.jsxs)("div",{children:[(0,El.jsx)("br",{}),(0,El.jsx)("em",{style:{fontSize:13},children:(0,El.jsx)(Ye,{to:"/signup",className:"text-gray-200",children:"Don't have an account?"})}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)("em",{style:{fontSize:13},children:(0,El.jsx)(Ye,{to:"/resetlink",className:"text-gray-200",children:"Forgot username or password?"})})]})]}),(0,El.jsx)("br",{})]})})}),(0,El.jsx)(hp,{})]})},cA=function(){fp.checkTokens(),pp();var e=p((0,t.useState)({email:"",password:""}),2),n=e[0],r=e[1],i=p(Jo(ll),2),a=i[0],o=i[1].error,l=function(){var e=Xo(Go().mark((function e(t){var r,i;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a({variables:{email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName}});case 3:r=e.sent,i=r.data.addUser.token,wl.login(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){var t=e.target,i=t.name,a=t.value;r(u(u({},n),{},s({},i,a)))};return(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)(Zf,{children:(0,El.jsx)("div",{className:"mt-24 mb-40",children:(0,El.jsxs)("div",{className:"container bg-white bg-opacity-10 borderwrap",style:{minHeight:"60vh"},children:[(0,El.jsx)("br",{}),(0,El.jsx)("h2",{className:"text-2xl font-semibold",children:"Signup"}),(0,El.jsxs)("form",{style:{maxWidth:300},onSubmit:l,className:"flex flex-col items-center space-y-4",children:[(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"firstName",className:"mb-1",children:"First Name:"}),(0,El.jsx)("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:c,className:"border border-gray-300 px-3 py-2 rounded-md w-full"})]}),(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"lastName",className:"mb-1",children:"Last Name:"}),(0,El.jsx)("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:c,className:"border border-gray-300 px-3 py-2 rounded-md w-full"})]}),(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"email",className:"mb-1",children:"Email:"}),(0,El.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:c,className:"border border-gray-300 px-3 py-2 rounded-md w-full"})]}),(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"pwd",className:"mb-1",children:"Password:"}),(0,El.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:c,className:"border border-gray-300 px-3 py-2 rounded-md w-full"})]}),o?(0,El.jsx)("div",{children:(0,El.jsx)("p",{className:"error-text",children:o.message})}):null,(0,El.jsx)("div",{className:"flex justify-end",children:(0,El.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 bg-opacity-80 text-white",children:"Submit"})}),(0,El.jsxs)("div",{children:[(0,El.jsx)("br",{}),(0,El.jsx)("em",{style:{fontSize:13},children:(0,El.jsx)(Ye,{to:"/login",className:"text-gray-200",children:"Already have an account?"})})]})]}),(0,El.jsx)("br",{})]})})}),(0,El.jsx)(hp,{})]})},hA=function(e){return(0,El.jsx)(sy,{action:"add",displayModal:e.displayModal,onSubmitSuccess:function(){console.log("Product added successfully!"),e.displayModal(!1)}})};var dA=function(e){var t=e.children;return(0,El.jsx)("div",{style:{height:560,clear:"both",paddingTop:40,textAlign:"center"},children:t})},fA=function(){var e=p((0,t.useState)({search:""}),2),n=e[0],r=e[1],i=function(){var e=Xo(Go().mark((function e(t){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{window.location.assign("/search/".concat(n.search))}catch(i){console.log(i)}finally{r({search:""})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,El.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"auto auto",alignItems:"center",gap:"5px"},children:[(0,El.jsx)("input",{className:"searchbar",style:{maxHeight:35,width:300,borderRadius:50,border:"solid 1px white",backgroundColor:"rgba(4, 4, 4, 0.03)",opacity:".9",textAlign:"center",color:"white"},type:"text",name:"search",value:n.search,onChange:function(e){var t=e.target,i=t.name,a=t.value;r(u(u({},n),{},s({},i,a)))}}),(0,El.jsxs)("button",{className:"mb-2.5",style:{padding:5,minHeight:40},disabled:!n.search,onClick:i,children:[(0,El.jsx)(Vu,{style:{color:"white"},size:20}),(0,El.jsx)("p",{style:{maxHeight:"2px",color:"white",fontSize:10},children:"Search"})]})]})},pA=function(){var e=localStorage.getItem("id_token");wl.isTokenExpired(e),pp();var n=p((0,t.useState)(!1),2),r=n[0],i=n[1];return!0===wl.isAdmin()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsxs)("div",{children:[(0,El.jsxs)("h2",{className:"mt-20",style:{display:"grid",placeItems:"center"},children:[" ","Manage Products"," "]}),(0,El.jsxs)("div",{className:"borderwrap bg-white bg-opacity-10 container p-4",style:{maxWidth:"1020px"},children:[(0,El.jsx)("h3",{className:"text-2xl font-bold",children:" Update / Delete Product"}),(0,El.jsx)("br",{}),(0,El.jsx)(fA,{}),(0,El.jsxs)("div",{className:"mt-20",children:[(0,El.jsx)("h3",{className:"text-2xl font-bold mb-4",children:" Add Product "}),(0,El.jsx)("button",{onClick:function(){i(!0),console.log(r)},className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 ml-4 px-2 py-2 bg-opacity-80 text-white ",children:"Add Product"})]})]})]}),r?(0,El.jsx)(El.Fragment,{children:(0,El.jsx)(hA,{displayModal:i})}):null]}):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{className:"center",children:(0,El.jsx)(dA,{children:(0,El.jsx)("h2",{children:" Err no auth to access this page."})})})})},vA=function(){var e=localStorage.getItem("id_token");wl.isTokenExpired(e),pp();var t,n=p(Jo(dl),1)[0],r=Cl(uu).data;r&&(t=r.queryUserAdmin.filter((function(e){return e.idFront&&!e.isVerified})));var i,a,o,s=function(e){if(window.confirm("Are you sure you want to accept this user?")){var t=e.target.parentNode;try{console.log("accepted user:",t.getAttribute("value"));var r=t.getAttribute("value"),i=n({variables:{action:"accept",id:r}}).data;console.log(i)}catch(a){console.log(a)}finally{window.location.assign("/verifusers")}}},l=function(e){if(window.confirm("Are you sure you want to reject this user?")){var t=e.target.parentNode;try{console.log("rejected user:",t.getAttribute("value"));var r=t.getAttribute("value"),i=n({variables:{action:"reject",id:r}}).data;console.log(i)}catch(a){console.log(a)}finally{window.location.assign("/verifusers")}}};return!0===wl.isAdmin()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("h2",{className:"text-center mt-20",children:"Verify Users"}),null!==(i=t)&&void 0!==i&&i.length?(0,El.jsxs)("div",{className:"text-center",children:[t.length," user(s) to verify."]}):null,(0,El.jsxs)("div",{className:"borderwrap bg-white bg-opacity-10 container mx-auto",children:[null!==(a=t)&&void 0!==a&&a.length?null===(o=t)||void 0===o?void 0:o.map((function(e,t){return(0,El.jsxs)("div",{className:"text-center",value:e._id,children:[(0,El.jsx)("br",{}),(0,El.jsxs)("h3",{children:[e.firstName," ",e.lastName]}),(0,El.jsx)("p",{children:e._id}),(0,El.jsx)("img",{className:"inline-block mx-1",src:e.idFront,alt:"",style:{maxHeight:200}}),(0,El.jsx)("img",{className:"inline-block mx-1",src:e.idBack,alt:"",style:{maxHeight:200}}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)("button",{className:"bg-red-400 text-white py-1 px-20 mx-14",onClick:l,children:"Reject"}),(0,El.jsx)("button",{className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 text-white py-1 px-20 mx-14",onClick:s,children:"Accept"}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)("hr",{})]},t)})):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{className:"mt-20",style:{height:"20vh"},children:(0,El.jsx)("h3",{children:"All done!"})})}),(0,El.jsx)("br",{})]})]}):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{className:"center",children:(0,El.jsx)(dA,{children:(0,El.jsx)("h2",{children:" Err no auth to access this page."})})})})};var mA=function(){fp.checkTokens();var e=p(Jo(sl),2),n=e[0],r=e[1].error,i=p((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){function e(){return e=Xo(Go().mark((function e(){var t,i,a,s,l,u;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.location.href,e.next=4,pu("cart","get");case 4:if(i=e.sent,!((a=i.map((function(e){return{_id:e._id,purchaseQuantity:e.purchaseQuantity,cloverId:e.cloverId}}))).length<=0)){e.next=9;break}return o(!0),e.abrupt("return");case 9:return e.next=11,n({variables:{products:a,url:t}});case 11:if(s=e.sent,(l=s.data).addOrder.products){e.next=15;break}return e.abrupt("return");case 15:if(!r){e.next=17;break}return e.abrupt("return");case 17:null===(u=l.addOrder.products)||void 0===u||u.forEach((function(e){pu("cart","delete",e)})),setTimeout((function(){window.location.assign("/dashboard")}),2e3),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),(0,El.jsx)(El.Fragment,{children:r||a?(0,El.jsx)(dA,{children:(0,El.jsx)("h1",{className:"mt-40",children:"Session Expired"})}):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{children:(0,El.jsxs)(dA,{children:[(0,El.jsx)("h1",{className:"mt-20",children:"Success!"}),(0,El.jsx)("br",{}),(0,El.jsxs)("div",{className:"borderwrap container px-20 py-20 bg-white bg-opacity-10",children:[(0,El.jsx)("h2",{className:"mb-20",children:"Thank You for your purchase with Paradise Hemp Dispensary"}),(0,El.jsx)("h4",{children:"You will now be redirected to the dashboard..."})]})]})})})})},gA=function(e){var t,n=function(e){var t=[],n=new Map;e.forEach((function(e){var t=e._id,r=e.image,i=e.name,a=n.get(t);a?a.qty++:n.set(t,{_id:t,image:r,name:i,qty:1})}));var r,i=A(n.values());try{for(i.s();!(r=i.n()).done;){var a=r.value;t.push(a)}}catch(o){i.e(o)}finally{i.f()}return t},r=null===(t=e.data)||void 0===t?void 0:t.map((function(e){return u(u({},e),{},{products:n(e.products)})}));return(0,El.jsx)(El.Fragment,{children:(null===r||void 0===r?void 0:r.length)>0?(0,El.jsx)(El.Fragment,{children:r.map((function(e){return(0,El.jsxs)("div",{className:"container bg-white bg-opacity-10 borderwrap py-2",children:[(0,El.jsx)("hr",{}),(0,El.jsxs)("h3",{children:["Order Date:"," ",new Date(parseInt(e.purchaseDate)).toLocaleDateString()]}),(0,El.jsxs)("p",{className:"text-center",children:["Address: ",e.address]}),(0,El.jsx)("a",{href:e.tracking,target:"_blank",rel:"noreferrer",className:"text-red-500 hover:underline",children:"Track Shipment"}),(0,El.jsxs)("p",{children:["Total: $",parseFloat(e.total/100)]}),(0,El.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:e.products.map((function(e,t){var n=e._id,r=e.image,i=e.name,a=e.qty;return(0,El.jsx)("div",{className:"card px-1 py-1 inline-block",children:(0,El.jsxs)(Ye,{to:"/products/".concat(n),className:"block",children:[(0,El.jsx)("img",{alt:i,src:"".concat(r),style:{maxHeight:"75px",maxWidth:"100px"}}),(0,El.jsxs)("div",{className:"ml-2",children:[(0,El.jsx)("p",{className:"text-center w-20",children:i}),a>0&&(0,El.jsxs)("p",{className:"text-center w-20",children:["Qty: ",a]})]})]})},t)}))})]},e._id)}))}):(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("br",{}),(0,El.jsx)("h2",{className:"text-center text-2xl font-semibold",children:"No orders yet!"}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{})]})})},yA=function(){var e=localStorage.getItem("id_token");wl.isTokenExpired(e),pp();var t=Cl(lu),n=t.loading,r=t.data;return n?(0,El.jsx)("div",{className:"text-center mt-40",children:(0,El.jsxs)("div",{className:"lds-ring",children:[(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{})]})}):wl.isAdmin()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("h2",{className:"mt-20",style:{display:"grid",placeItems:"center"},children:"View Orders"}),(0,El.jsx)(gA,{data:r.adminOrderView}),(0,El.jsx)("br",{})]}):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{className:"center mt-20 ",children:(0,El.jsx)(dA,{children:(0,El.jsx)("h2",{children:" Err no auth to access this page."})})})})};var bA=function(e){var t,n,r,i,a,o;return(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)("div",{className:"container my-1",children:[(0,El.jsx)(Ye,{to:"/home",className:"text-white",children:"\u2190 Back to Home"}),e?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsxs)("h3",{style:{textAlign:"center"},children:["Order History for ",null===(t=e.data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.firstName," ",null===(r=e.data)||void 0===r||null===(i=r.user)||void 0===i?void 0:i.lastName]}),(0,El.jsx)("hr",{}),(0,El.jsx)(gA,{data:null===(a=e.data)||void 0===a||null===(o=a.user)||void 0===o?void 0:o.orders})]}):null]})})},xA=function(e){var n,r,i=p((0,t.useState)({idFront:"",idBack:""}),2),a=i[0],o=i[1],l=p(Jo(hl),2),c=l[0],h=l[1].error,d=oy(),f=function(){var e=Xo(Go().mark((function e(t){var n,r,i,s,l,u,h,f;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,m(),n="https",r="firebasestorage.googleapis.com/",i="paradise-hemp-imgbucket",s="idphotos",l=a.idFront,u=a.idBack,h={idFront:"".concat(n,"://").concat(r,"v0/b/").concat(i,".appspot.com/o/").concat(s,"%2F").concat(d,"-").concat(l.name,"?alt=media"),idBack:"".concat(n,"://").concat(r,"v0/b/").concat(i,".appspot.com/o/").concat(s,"%2F").concat(d,"-").concat(u.name,"?alt=media")},e.next=11,c({variables:h});case 11:if(f=e.sent,f.data){e.next=15;break}throw new Error("Something went wrong!");case 15:console.log(a),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:return e.prev=21,o({idFront:"",idBack:""}),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.target.files[0];o(u(u({},a),{},s({},e.target.name,t)))},m=function(){var e=Xo(Go().mark((function e(){var t,n,r,i;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Qg(Zg,"idphotos/".concat(d,"-").concat(a.idFront.name)),n=Qg(Zg,"idphotos/".concat(d,"-").concat(a.idBack.name)),r=Xg(t,a.idFront),i=Xg(n,a.idBack),e.next=6,Promise.all([r,i]).then((function(e){window.location.assign("/dashboard")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e,t){e.preventDefault();var n=document.getElementById(t);n&&n.click()};return wl.isVerified()||!1!==(null===(n=e.data)||void 0===n?void 0:n.user.isIdSubmitted)?null!==(r=e.data)&&void 0!==r&&r.user.isIdSubmitted?(0,El.jsx)(El.Fragment,{children:h?(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{style:{maxHeight:"40vh"},children:(0,El.jsxs)(dA,{children:[(0,El.jsx)("h2",{children:" Error "}),(0,El.jsx)("h4",{children:" Failed please reload and try again. "})]})})}):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{style:{maxHeight:"50vh"},children:(0,El.jsxs)(dA,{children:[(0,El.jsx)("h2",{children:" Submitted! "}),(0,El.jsx)("h4",{children:"Please wait for review! "})]})})})}):void 0:(0,El.jsxs)(El.Fragment,{children:[(0,El.jsxs)("div",{className:"container borderwrap bg-white bg-opacity-10",style:{minHeight:"35vh"},children:[(0,El.jsx)("h2",{className:"text-2xl font-semibold",children:"Verify ID"}),(0,El.jsxs)("form",{onSubmit:f,className:"flex flex-col items-center space-y-4",children:[(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"idFront",className:"mb-1",children:"ID Front:"}),(0,El.jsx)("input",{id:"idFront",type:"file",accept:"image/*",name:"idFront",onChange:v,className:"hidden"}),(0,El.jsx)("button",{onClick:function(e){return g(e,"idFront")},className:"py-1 bg-red-400 ".concat(a.idFront?"bg-opacity-40":"bg-opacity-80"," text-white"),style:{height:62},children:a.idFront?"Uploaded!":"Select ID Front"})]}),(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"idBack",className:"mb-1",children:"ID Back:"}),(0,El.jsx)("input",{id:"idBack",type:"file",accept:"image/*",name:"idBack",onChange:v,className:"hidden"}),(0,El.jsx)("button",{onClick:function(e){return g(e,"idBack")},className:"py-1 bg-red-400 ".concat(a.idBack?"bg-opacity-40":"bg-opacity-80"," text-white"),style:{height:62},children:a.idBack?"Uploaded!":"Select ID Back"})]}),(0,El.jsx)("br",{}),(0,El.jsx)("div",{className:"flex justify-end",children:(0,El.jsx)("button",{type:"submit",disabled:!a.idFront||!a.idBack,className:"py-5 px-16 bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 text-white",children:"Submit"})})]}),(0,El.jsx)("br",{})]}),(0,El.jsx)("div",{})]})},_A=function(){fp.checkTokens(),pp();var e=Cl(su).data;return console.log(e),(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("br",{}),(0,El.jsxs)(Zf,{children:[(0,El.jsx)("h2",{className:"mt-20 text-center",children:"Dashboard"}),e?(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)("div",{children:[(0,El.jsx)(bA,{data:e}),wl.isVerified()?null:(0,El.jsxs)("div",{className:"container",children:[" ",(0,El.jsx)(xA,{data:e})," ",(0,El.jsx)("br",{}),(0,El.jsx)("br",{})]}),(0,El.jsx)("br",{})]})}):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)(dA,{children:(0,El.jsxs)("h3",{className:"mt-20",children:[(0,El.jsxs)("a",{style:{color:"#6499A4"},href:"/login",children:["Login"," "]})," ","to access this page."]})})})]}),(0,El.jsx)(cp,{}),(0,El.jsx)("br",{}),(0,El.jsx)(hp,{})]})};var wA=function(e){var n=p(ru(),2),r=n[0],i=n[1],a=r.currentCategory;a=e.action;var o=Cl(iu),s=o.loading,l=o.data;return(0,t.useEffect)((function(){l?(i({type:Nl,products:l.products}),l.products.forEach((function(e){pu("products","put",e)}))):s||pu("products","get").then((function(e){i({type:Nl,products:e})}))}),[l,s,i]),(0,El.jsxs)("div",{className:"my-2",children:[r.products.length?(0,El.jsx)("div",{className:"flex flex-wrap justify-center",children:(a?r.products.filter((function(e){return e.category._id===a})):r.products).map((function(e){return(0,El.jsx)(hy,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity,cloverId:e.cloverId,description:e.description,category:e.category},e._id)}))}):(0,El.jsx)("h3",{children:"You haven't added any products yet!"}),s?(0,El.jsxs)("div",{className:"text-center mt-40",children:[" ",(0,El.jsxs)("div",{class:"lds-ring",children:[(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{})]})," "]}):null]})},EA=function(){fp.checkTokens(),pp();var e=window.location.href.split("/").pop();return(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("br",{}),(0,El.jsx)("h2",{className:"text-center mt-20",children:" Detailed Category "}),(0,El.jsx)("hr",{}),(0,El.jsx)("div",{className:"mx-10",children:(0,El.jsx)(wA,{action:e})}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)(cp,{}),(0,El.jsx)(hp,{})]})},SA=function(){fp.checkTokens(),pp();var e=p((0,t.useState)(!1),2),n=e[0],r=e[1],i=p(Jo(ml),2),a=i[0],o=i[1].error,l=p((0,t.useState)({email:"",name:"",message:""}),2),c=l[0],h=l[1],d=function(e){var t=e.target,n=t.name,r=t.value;h(u(u({},c),{},s({},n,r)))},f=function(){var e=Xo(Go().mark((function e(t){var n;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{r(!0),n=a({variables:u({},c)}),n.data}catch(i){console.error(i)}finally{h({email:"",name:"",message:""})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("br",{}),wl.loggedIn()?(0,El.jsx)(El.Fragment,{children:n?(0,El.jsx)(El.Fragment,{children:o?(0,El.jsx)("div",{children:(0,El.jsxs)(dA,{children:[(0,El.jsx)("h2",{className:"mt-20 mb-40",children:"Message Failed!"}),(0,El.jsx)("p",{children:"Please reload the page and try again. "})]})}):(0,El.jsx)("div",{children:(0,El.jsxs)(dA,{children:[(0,El.jsx)("h2",{className:"mt-20 mb-40",children:"Message Sent!"}),(0,El.jsx)("p",{children:"We will be in contact shortly!"})]})})}):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{className:"mt-20 mb-40",children:(0,El.jsxs)("div",{className:"borderwrap bg-white bg-opacity-10 container ",children:[(0,El.jsx)("h3",{className:"text-2xl font-semibold",children:"Contact Us"}),(0,El.jsx)("br",{}),(0,El.jsxs)("form",{onSubmit:f,className:"flex flex-col items-center space-y-4",children:[(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"name",className:"mb-1",children:"Name:"}),(0,El.jsx)("input",{style:{width:300},className:"border border-gray-300 px-3 py-2 rounded-md w-full",label:"name",name:"name",placeholder:"John Smith",value:c.name,onChange:d})]}),(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"email",className:"mb-1",children:"Email:"}),(0,El.jsx)("input",{style:{width:300},className:"border border-gray-300 px-3 py-2 rounded-md w-full",label:"email",name:"email",type:"email",placeholder:"sample@example.com",value:c.email,onChange:d})]}),(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"message",className:"mb-1",children:"Message:"}),(0,El.jsx)("textarea",{style:{width:300},className:"border border-gray-300 px-3 py-2 rounded-md w-full",label:"message",name:"message",placeholder:"What would you like to let us know?",value:c.message,onChange:d})]}),(0,El.jsx)("br",{}),(0,El.jsx)("div",{className:"flex justify-end",children:(0,El.jsx)("button",{disabled:!c.name||!c.email||!c.message,className:" bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 text-white py-1 w-40",type:"submit",children:"Submit"})})]}),(0,El.jsx)("br",{})]})})})}):(0,El.jsxs)(El.Fragment,{children:[" ",(0,El.jsx)("div",{children:(0,El.jsx)(dA,{children:(0,El.jsxs)("h2",{className:"mt-20 mb-40",children:[(0,El.jsxs)(Ye,{className:"text-green-400",to:"/login",children:["Login"," "]}),"to send contact form"]})})}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{})]}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)(hp,{})]})},TA=function(){return pp(),(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("h1",{className:"text-center mt-20 mb-20",children:" TERMS OF USE "}),(0,El.jsxs)("div",{className:"container borderwrap px-2 py-2 bg-white bg-opacity-10",style:{width:"60%"},children:[(0,El.jsx)("h3",{children:" WARNING: "}),(0,El.jsx)("p",{children:"Products sold on this site contain nicotine, a poisonous and addictive substance. Products sold on this site are only intended for committed smokers of legal smoking age and not by non-smokers, children, women who are pregnant or may become pregnant or any person with an elevated risk of, or preexisting condition of, any medical condition which includes, but is not limited to, heart disease, diabetes, high blood pressure or asthma. If you use a product purchased from us and experience any side effects or possible side effects, stop using the product immediately and consult a physician. Products sold on this site (a) may be poisonous if orally ingested, (b) are not smoking cessation products and have not been tested nor guaranteed as such, (c) have not been evaluated by the Food and Drug Administration, (d) are not intended to treat, prevent or cure any disease or condition, and (e) should be kept out of reach of children and pets."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"If you think someone has been exposed to an e-cigarette or liquid nicotine, call your local poison center at 1-800-222-1222 immediately."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"CALIFORNIA PROPOSITION 65 \u2013 WARNING: This product contains nicotine, a chemical known to the state of California to cause birth defects or other reproductive harm"}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:'This website is operated by Paradise Hemp (the \u201cCompany\u201d). Throughout the site, the terms "we", "us" and "our" refer to the Company. The Company offers this website, including all information, tools and services available from this site to you, the user, conditioned upon your acceptance of all terms, conditions, policies and notices stated here.'}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:'We provide website features and other products and services to you when you visit or shop at our site. By visiting our site and/ or purchasing something from us, you engage in our "Services" and agree to be bound by the following terms and conditions ("Terms of Use", "Terms"), including those additional terms and conditions and policies referenced herein and/or available by hyperlink. These Terms of Use apply to all users of the site, including without limitation users who are browsers, vendors, customers, merchants, and/ or contributors of content.'}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Please read these Terms of Use carefully before accessing or using our website. By accessing or using any part of the site, you agree to be bound by these Terms of Use. If you do not agree to all the terms and conditions of this agreement, then you may not access the website or use any services. If these Terms of Use are considered an offer, acceptance is expressly limited to these Terms of Use. Any new features or tools which are added to the site shall also be subject to the Terms of Use. You can review the most current version of the Terms of Use at any time on its page. We reserve the right to update, change or replace any part of these Terms of Use by posting updates and/or changes to our website. It is your responsibility to check this page periodically for changes. Your continued use of or access to the website following the posting of any changes constitutes acceptance of those changes."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We reserve the right at any time and from time to time, to modify or discontinue, temporarily or permanently, your use of the Services, and immediately in the event of technical difficulties. We will not be liable for any such modification, suspension or discontinuance."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"The headings used in this agreement are included for convenience only and will not limit or otherwise affect these Terms."}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 1 - ONLINE STORE TERMS"}),(0,El.jsx)("p",{children:"By agreeing to these Terms of Use, you represent that you are at least the legal smoking age in your state, city, province or country, whichever is older. The Services are intended solely for users who are at least the legal smoking age in their state, city, province or country, whichever is older, and any registration, use or access of the Services by anyone under the legal age is unauthorized, unlicensed, and in violation of these Terms of Use. You must be of legal smoking age or older to try, purchase, or use products sold on this site. In accordance with federal and state age verification laws, we use a third-party age verification system to verify users are of legal age, which may include collecting user photo-IDs and checking user identities\u2019 against multiple databases. Once user age is verified, all such data is held for a period of up to 30 days and then destroyed."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"You may not use our products for any illegal or unauthorized purpose nor may you, in the use of the Service, violate any laws in your jurisdiction (including but not limited to copyright laws). You must not transmit any worms or viruses or any code of a destructive nature. A breach or violation of any of the Terms will result in an immediate termination of your Services."}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 2 - GENERAL CONDITIONS"}),(0,El.jsx)("p",{children:"You must be at least the legal smoking age in your state, city, province or country, whichever is older, to use this site or the Services. We reserve the right to refuse service to anyone for any reason at any time."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We do not sell or market products to children, but we do sell them to adults of legal smoking age, who can purchase with a credit card or other permitted payment method. We only sell products legal under federal and state law. We do not sell or market products the possession or sale of which is illegal under either federal or state law. We reserve the right to refuse Services, terminate accounts, remove or edit content, or cancel orders in our sole discretion."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We expect you have read and fully understand these Terms of Use, which specifically require you to be of legal age to use this site or the Services or to purchase any products on this site or through the Services. We will not be liable or otherwise responsible to you or anyone else in the event you are not in fact of legal age to use this site or the Services or to purchase any products on this site or through the Services, or have otherwise circumvented or attempted to avoid our express age requirements contained in these Terms of Use. Each user is fully responsible for his or her own account and we will not be liable or responsible in any manner if your account is misused by anyone else. In addition to any other indemnification obligations contained elsewhere in these Terms of Use, you specifically agree to defend, indemnify and hold us harmless from any and all liabilities, obligations, claims, expenses, demands and causes of action that result from or arise in connection with the foregoing."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We pride ourselves on keeping electronic cigarettes and all vapor related products out of the hands of minors. Per the new Texas law SB 97, all online purchasers must verify their age with a third party verification software. To make this easier on our customers, we have included this in our check out process. You will be asked for your driver's license/ID information as well as the last four digits of your social security number. This information must be processed through the required database and saved in your customer account. You will only have to complete this process once under your personal account. We appreciate your cooperation and assistance in keeping devices and accessories out of the hands of minors."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"You understand that your content (not including credit card information), may be transferred unencrypted and involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices. Credit card information is always encrypted during transfer over networks."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:'Subject to your compliance with these Terms of Use, we grant you a limited, non-exclusive, non-transferable, non-sublicensable license to access and make personal and non-commercial use of the Services. This license does not include any resale or commercial use of the Services, or its contents; any collection and use of any product listings, descriptions or prices; any derivative use of any Services or its contents; any downloading or copying of account information for the benefit of another merchant; or any use of data mining, robots, or similar data gathering and extraction tools. All rights not expressly granted to you in these Terms of Use are reserved and retained by us. You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Services, use of the Service, or access to the Services or any contact on the website through which the Service is provided, without express written permission by us. You may not frame or utilize framing techniques to enclose any trademark, logo or other proprietary information (including images, text, page layout or form) of ours without express written consent. You may not use any meta tags or any other "hidden text" utilizing our name or trademarks without our express written consent. You may not misuse the Services. You may use the Services only as permitted by law. The licenses granted by us terminate if you do not comply with these Terms of Use.'}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"All content included in or made available through the Services, such as text, graphics, logos, button icons, images, audio clips, digital downloads, and data compilations is our property or our content suppliers and protected by United States and international copyright laws. The compilation of all content included in or made available through the Services is our exclusive property and protected by U.S. and international copyright laws."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"The graphics, logos, page headers, button icons, scripts, and service names included in or made available through the Services are trademarks or trade dress. Our trademarks and trade dress may not be used in connection with any product or service that is not ours, in any manner that is likely to cause confusion among customers, or in any manner that disparages or discredits us. All other trademarks not owned by us that appear in or made available through the Services are the property of their respective owners, who may or may not be affiliated with, connected to, or sponsored by us."}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 3 - ACCURACY, COMPLETENESS AND TIMELINESS OF INFORMATION"}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We are not responsible if information made available on this site is not accurate, complete or current. The material on this site is provided for general information only and should not be relied upon or used as the sole basis for making decisions without consulting primary, more accurate, more complete or more timely sources of information. Any reliance on the material on this site is at your own risk."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"This site may contain certain historical information. Historical information, necessarily, is not current and is provided for your reference only. We reserve the right to modify the contents of this site at any time, but we have no obligation to update any information on our site. You agree that it is your responsibility to monitor changes to our site."}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 4 - MODIFICATIONS TO THE SERVICE AND PRICES"}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Prices for our products are subject to change without notice."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We reserve the right at any time to modify or discontinue the Services (or any part or content thereof) without notice at any time."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We shall not be liable to you or to any third-party for any modification, price change, suspension or discontinuance of the Services."}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 5 - PRODUCTS OR SERVICES (if applicable)"}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Certain products or Services may be available exclusively online through the website. These products or Services may have limited quantities and are subject to return or exchange only according to our Return Policy."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We have made every effort to display as accurately as possible the colors and images of our products that appear at the store. We cannot guarantee that your computer monitor's display of any color will be accurate."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We reserve the right, but are not obligated, to limit the sales of our products or Services to any person, geographic region or jurisdiction. We may exercise this right on a case-by-case basis. We reserve the right to limit the quantities of any products or services that we offer. All descriptions of products or product pricing are subject to change at any time without notice, at our sole discretion. We reserve the right to discontinue any product at any time. Any offer for any product or service made on this site is void where prohibited."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We do not warrant that the quality of any products, services, information, or other material purchased or obtained by you will meet your expectations, or that any errors in the Services will be corrected."}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 6 - ACCURACY OF BILLING AND ACCOUNT INFORMATION"}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We reserve the right to refuse any order you place with us. We may, in our sole discretion, limit or cancel quantities purchased per person, per household or per order. These restrictions may include orders placed by or under the same customer account, the same credit card, and/or orders that use the same billing and/or shipping address. In the event that we make a change to or cancel an order, we may attempt to notify you by contacting the e-mail and/or billing address/phone number provided at the time the order was made. We reserve the right to limit or prohibit orders that, in our sole judgment, appear to be placed by dealers, resellers or distributors."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"You agree to provide current, complete and accurate purchase and account information for all purchases. You agree to promptly update your account and other information, including your email address and credit card numbers and expiration dates, so that we can complete your transactions and contact you as needed. You acknowledge and agree such information, including your credit card numbers, may be stored by us and our third-party service providers pursuant to the terms of our Privacy Policy."}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 7 - OPTIONAL TOOLS"}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We may provide you with access to third-party tools over which we neither monitor nor have any control nor input."}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:'You acknowledge and agree that we provide access to such tools "as is" and "as available" without any warranties, representations or conditions of any kind and without any endorsement. We shall have no liability whatsoever arising from or relating to your use of optional third-party tools.'})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Any use by you of optional tools offered through the site is entirely at your own risk and discretion and you should ensure that you are familiar with and approve of the terms on which tools are provided by the relevant third-party provider(s)."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We may also, in the future, offer new services and/or features through the website (including, the release of new tools and resources). Such new features and/or services shall also be subject to these Terms of Use."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 8 - THIRD-PARTY LINKS AND SERVICE PROVIDERS"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Certain content, products, and services available via our Service may include materials from third parties."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Third-party links on this site may direct you to third-party websites that are not affiliated with us. We are not responsible for examining or evaluating the content or accuracy, and we do not warrant and will not have any liability or responsibility for any third-party materials or websites, or for any other materials, products, or services of third parties."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We are not liable for any harm or damages related to the purchase or use of goods, services, resources, content, or any other transactions made in connection with any third-party websites. Please review carefully the third-party's policies and practices and make sure you understand them before you engage in any transaction. Complaints, claims, concerns, or questions regarding third-party products should be directed to the third-party."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We use third-party service providers to help sell our products and Services to you. Among other things, such third-party service providers may collect, use, and disclose your information, but only to the extent necessary to allow them to perform the services they provide us. For more information, please review our Privacy Policy. We are not liable for any harm or damages caused by or related to such third-party service providers\u2019 collection, storage, use, or disclosure of your information. We recommend that you read their privacy policies so you can understand the manner in which your personal information will be handled by these providers."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 9 - USER COMMENTS, FEEDBACK AND OTHER SUBMISSIONS"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"If, at our request, you send certain specific submissions (for example contest entries) or without a request from us you send creative ideas, suggestions, proposals, plans, or other materials, whether online, by email, by postal mail, or otherwise (collectively, 'comments'), you agree that we may, at any time, without restriction, edit, copy, publish, distribute, translate, and otherwise use in any medium any comments that you forward to us. We are and shall be under no obligation (1) to maintain any comments in confidence; (2) to pay compensation for any comments; or (3) to respond to any comments. You represent and warrant that you own or otherwise control all of the rights to the comments that you post; that the comments are accurate; that use of the comments you supply does not violate these Terms of Use and will not cause injury to any person or entity; and that you will indemnify us for all claims resulting from comments you supply. We have the right but not the obligation to monitor and edit or remove any activity or comments. We take no responsibility and assume no liability for any comments posted by you or any third party."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We may, but have no obligation to, monitor, edit or remove content that we determine in our sole discretion is unlawful, offensive, threatening, libelous, defamatory, pornographic, obscene or otherwise objectionable or violates any party's intellectual property or these Terms of Use."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"You agree that your comments will not violate any right of any third-party, including copyright, trademark, privacy, personality, or other personal or proprietary right. You further agree that your comments will not contain libelous or otherwise unlawful, abusive or obscene material, or contain any computer virus or other malware that could in any way affect the operation of the Service or any related website. You may not use a false e-mail address, pretend to be someone other than yourself, or otherwise mislead us or third parties as to the origin of any comments. You are solely responsible for any comments you make and their accuracy. We take no responsibility and assume no liability for any comments posted by you or any third-party."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"WE DO NOT ENDORSE, SUPPORT, REPRESENT OR GUARANTEE THE TRUTHFULNESS, ACCURACY OR RELIABILITY OF ANY USER COMMENTS OR ENDORSE ANY OPINIONS EXPRESSED BY USERS. YOU ACKNOWLEDGE THAT ANY RELIANCE ON COMMENTS POSTED BY OTHER USERS WILL BE AT YOUR SOLE RISK."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 10 - PERSONAL INFORMATION"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Your submission of personal information through the store is governed by our Privacy Policy. To view our Privacy Policy Click Here."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 11 - ERRORS, INACCURACIES AND OMISSIONS"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Occasionally there may be information on our site or in the Services that contains typographical errors, inaccuracies, or omissions that may relate to product descriptions, pricing, promotions, offers, product shipping charges, transit times, and availability. We reserve the right to correct any errors, inaccuracies or omissions, and to change or update information or cancel orders if any information in the Service or on any related website is inaccurate at any time without prior notice (including after you have submitted your order)."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We undertake no obligation to update, amend, or clarify information in the Services or on any related website, including without limitation, pricing information, except as required by law. No specified update or refresh date applied in the Services or on any related website should be taken to indicate that all information in the Services or on any related website has been modified or updated."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 12 - PROHIBITED USES"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"In addition to other prohibitions as set forth in the Terms of Use, you are prohibited from using the site or its content:"})," ",(0,El.jsx)("br",{}),(0,El.jsxs)("ul",{style:{fontSize:13},children:[(0,El.jsx)("li",{children:"(a) for any unlawful purpose;"}),(0,El.jsx)("li",{children:"(b) to solicit others to perform or participate in any unlawful acts;"}),(0,El.jsx)("li",{children:"(c) to violate any international, federal, provincial or state regulations, rules, laws, or local ordinances;"}),(0,El.jsx)("li",{children:"(d) to infringe upon or violate our intellectual property rights or the intellectual property rights of others;"}),(0,El.jsx)("li",{children:"(e) to harass, abuse, insult, harm, defame, slander, disparage, intimidate, or discriminate based on gender, sexual orientation, religion, ethnicity, race, age, national origin, or disability;"}),(0,El.jsx)("li",{children:"(f) to submit false or misleading information;"}),(0,El.jsx)("li",{children:"(g) to upload or transmit viruses or any other type of malicious code that will or may be used in any way that will affect the functionality or operation of the Services or of any related website, other websites, or the Internet;"}),(0,El.jsx)("li",{children:"(h) to collect or track the personal information of others;"}),(0,El.jsx)("li",{children:"(i) to spam, phish, pharm, pretext, spider, crawl, or scrape;"}),(0,El.jsx)("li",{children:"(j) for any obscene or immoral purpose; or"}),(0,El.jsx)("li",{children:"(k) to interfere with or circumvent the security features of the Services or any related website, other websites, or the Internet. We reserve the right to terminate your use of the Services or any related website for violating any of the prohibited uses."})]})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 13 - DISCLAIMER OF WARRANTIES; LIMITATION OF LIABILITY"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:'THE SERVICES AND ALL INFORMATION, CONTENT, MATERIALS, PRODUCTS, AND OTHER SERVICES INCLUDED ON OR OTHERWISE MADE AVAILABLE TO YOU THROUGH THE SITE ARE PROVIDED BY US ON AN "AS IS" AND "AS AVAILABLE" BASIS. WE MAKE NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, AS TO THE OPERATION OF THE SERVICES, OR THE INFORMATION, CONTENT, MATERIALS, PRODUCTS, OR OTHER SERVICES INCLUDED ON OR OTHERWISE MADE AVAILABLE TO YOU THROUGH THE SITE. YOU EXPRESSLY AGREE THAT YOUR USE OF THE SERVICES IS AT YOUR SOLE RISK.'})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"TO THE FULL EXTENT PERMISSIBLE BY APPLICABLE LAW, WE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. WE DO NOT WARRANT THAT THE SERVICES, INFORMATION, CONTENT, MATERIALS, PRODUCTS, OR OTHER SERVICES INCLUDED ON OR OTHERWISE MADE AVAILABLE TO YOU THROUGH THE SITE, OUR SERVERS, OR ELECTRONIC COMMUNICATIONS SENT FROM US ARE FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS. THIS DISCLAIMER APPLIES TO ANY DAMAGES OR INJURY CAUSED BY ANY FAILURE OF PERFORMANCE, ERROR, OMISSION, INTERRUPTION, DELETION, DEFECT, DELAY IN OPERATION OR TRANSMISSION, COMPUTER VIRUS OR ANY FORM OF MALICIOUS CODE, COMMUNICATION LINE FAILURE, THEFT, OR DESTRUCTION OR UNAUTHORIZED ACCESS TO, ALTERATION OF, OR USE OF RECORDS. YOU SPECIFICALLY ACKNOWLEDGE THAT WE ARE NOT LIABLE FOR THE DEFAMATORY, OFFENSIVE, OR ILLEGAL CONDUCT OF OTHER USERS OR THIRD PARTIES AND THAT THE RISK OF INJURY FROM THE FOREGOING RESTS ENTIRELY WITH YOU. WE WILL NOT BE LIABLE FOR ANY DAMAGES OF ANY KIND ARISING FROM THE USE OF THE SERVICES, OR FROM ANY INFORMATION, CONTENT, MATERIALS, PRODUCTS, OR OTHER SERVICES INCLUDED ON OR OTHERWISE MADE AVAILABLE TO YOU THROUGH THE SITE, INCLUDING, BUT NOT LIMITED TO, DIRECT, INDIRECT, PUNITIVE, INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES, WHETHER BASED ON CONTRACT, TORT, STRICT LIABILITY, OR OTHERWISE, EVEN IF WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. IF YOU ARE DISSATISFIED WITH ANY PORTION OF THE SERVICES, YOUR SOLE AND EXCLUSIVE REMEDY IS TO DISCONTINUE USING THE SERVICES."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"CERTAIN STATE LAWS DO NOT ALLOW LIMITATIONS ON IMPLIED WARRANTIES OR THE EXCLUSION OR LIMITATION OF CERTAIN DAMAGES. IF THESE LAWS APPLY TO YOU, SOME OR ALL OF THE ABOVE DISCLAIMERS, EXCLUSIONS, OR LIMITATIONS MAY NOT APPLY TO YOU, AND YOU MIGHT HAVE ADDITIONAL RIGHTS."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We do not guarantee, represent, or warrant that your use of our Services will be uninterrupted, timely, secure, or error-free. We do not warrant that the results that may be obtained from the use of the Services will be accurate or reliable. You agree that from time to time we may remove the Services for indefinite periods of time or cancel the Services at any time, without notice to you."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"You expressly agree that your use of, or inability to use, the Services is at your sole risk. The Services and all products and services delivered to you through the Services are (except as expressly stated by us) provided 'as is' and 'as available' for your use, without any representation, warranties, or conditions of any kind, either express or implied, including all implied warranties or conditions of merchantability, merchantable quality, fitness for a particular purpose, durability, title, and non-infringement."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"In no case shall eCig Distributors, Inc., our directors, officers, employees, affiliates, agents, contractors, interns, suppliers, service providers, or licensors be liable for any injury, loss, claim, or any direct, indirect, incidental, punitive, special, or consequential damages of any kind, including, without limitation, lost profits, lost revenue, lost savings, loss of data, replacement costs, or any similar damages, whether based in contract, tort (including negligence), strict liability, or otherwise, arising from your use of any of the service or any products procured using the service, or for any other claim related in any way to your use of the service or any product, including, but not limited to, any errors or omissions in any content, or any loss or damage of any kind incurred as a result of the use of the service or any content (or product) posted, transmitted, or otherwise made available via the service, even if advised of their possibility. Because some states or jurisdictions do not allow the exclusion or the limitation of liability for consequential or incidental damages, in such states or jurisdictions, our liability shall be limited to the maximum extent permitted by law."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 14 - INDEMNIFICATION"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"You agree to indemnify, defend, and hold harmless eCig Distributors, Inc. and our parent, subsidiaries, affiliates, partners, officers, directors, agents, contractors, licensors, service providers, subcontractors, suppliers, interns, and employees, harmless from any claim or demand, including reasonable attorneys' fees, made by any third-party due to or arising out of your use of the Services or by your breach of these Terms of Use or the documents they incorporate by reference, or your violation of any law or the rights of a third-party."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 15 - SEVERABILITY"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"In the event that any provision of these Terms of Use is determined to be unlawful, void, or unenforceable, such provision shall nonetheless be enforceable to the fullest extent permitted by applicable law, and the unenforceable portion shall be deemed to be severed from these Terms of Use. Such determination shall not affect the validity and enforceability of any other remaining provisions."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 16 - TERMINATION"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"The obligations and liabilities of the parties incurred prior to the termination date shall survive the termination of this agreement for all purposes."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"These Terms of Use are effective unless and until terminated by either you or us. You may terminate these Terms of Use at any time by notifying us that you no longer wish to use our Services, or when you cease using our site."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"If in our sole judgment you fail, or we suspect that you have failed, to comply with any term or provision of these Terms of Use, we also may terminate this agreement at any time without notice, and you will remain liable for all amounts due up to and including the date of termination; and/or accordingly may deny you access to our Services (or any part thereof)."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 17 - ENTIRE AGREEMENT"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"The failure of us to exercise or enforce any right or provision of these Terms of Use shall not constitute a waiver of such right or provision. These Terms of Use and any policies or operating rules posted by us on this site or in respect to the Services constitute the entire agreement and understanding between you and us and govern your use of the Services, superseding any prior or contemporaneous agreements, communications, and proposals, whether oral or written, between you and us (including, but not limited to, any prior versions of the Terms of Use)."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Any ambiguities in the interpretation of these Terms of Use shall not be construed against the drafting party."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 18 - GOVERNING LAW"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"These Terms of Use and any separate agreements whereby we provide you Services shall be governed by and construed in accordance with the laws of Nevada, without regard to principles of conflicts of laws."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 19 - CHANGES TO TERMS OF USE"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"You can review the most current version of the Terms of Use at any time on this page."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We reserve the right, at our sole discretion, to update, change, or replace any part of these Terms of Use by posting updates and changes to our website. It is your responsibility to check our website periodically for changes. Your continued use of or access to our website or the Services following the posting of any changes to these Terms of Use constitutes acceptance of those changes."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 20 - CONTACT INFORMATION"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Questions about the Terms of Use should be sent to us at support@ejuices.com."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 21 - SHIPPING RESTRICTIONS"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Some products can\u2019t be shipped to all geographical locations due to warranty issues, manufacturer requirements, legal, and other restrictions. You\u2019ll be notified when placing your order if we\u2019re unable to ship specific items to the address you\u2019ve indicated. Please also check the product detail pages for any item-specific shipping restrictions. We reserve the right to cancel any shipment, in its sole discretion, and issue a full refund."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 22 \u2013 RISK OF LOSS"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"All items purchased from us are made pursuant to a shipment contract. This means that the risk of loss and title for such items pass to you upon delivery to the carrier. We are not responsible for items lost in transit, items sent to the wrong address, products seized by customs or governmental agencies, nor international fees charged by your country or third parties."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECTION 23 - DISPUTES"})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"Any dispute or claim (excluding any that you may assert in small claims court if your claims qualify) relating in any way to your use of the Services, or to any products or services sold or marketed by us or through the site will be resolved by binding arbitration, rather than in court, in Clark County, Nevada, administered by JAMS pursuant to its Comprehensive Arbitration Rules and Procedures. The Federal Arbitration Act and federal arbitration law apply to this agreement."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"There is no judge or jury in arbitration, and court review of an arbitration award is limited. However, an arbitrator can award on an individual basis the same damages and relief as a court (including injunctive and declaratory relief or statutory damages), and must follow the terms of these Terms of Use as a court would."})," ",(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"We each agree that any dispute resolution proceedings will be conducted only on an individual basis and not in a class, consolidated, or representative action. If for any reason a claim proceeds in court rather than in arbitration, we each waive any right to a jury trial. We also both agree that you or we may bring suit in court to enjoin infringement or other misuse of intellectual property rights."})," ",(0,El.jsx)("br",{})]}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)(hp,{})]})},MA=function(){return pp(),(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("h1",{className:"mt-20 text-center",children:" PRIVACY POLICY "}),(0,El.jsxs)("div",{className:"container borderwrap mb-40 bg-white bg-opacity-10 px-2 py-2",style:{width:"65%"},children:[(0,El.jsx)("h3",{children:"PRIVACY POLICY"}),(0,El.jsx)("p",{children:"This privacy policy sets out how www.paradisehempdispensary.com uses and protects any information that you give www.paradisehempdispensary.com when you use this website. www.paradisehempdispensary.com is committed to ensuring that your privacy is protected. Should we ask you to provide certain information by which you can be identified when using this website, then you can be assured that it will only be used in accordance with this privacy statement. www.paradisehempdispensary.com may change this policy from time to time by updating this page. You should check this page from time to time to ensure that you are happy with any changes."}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"WHAT WE COLLECT"}),(0,El.jsx)("p",{children:"We may collect the following information:"}),(0,El.jsxs)("ul",{children:[(0,El.jsx)("li",{children:"Name"}),(0,El.jsx)("li",{children:"Contact Information (including email address)"}),(0,El.jsx)("li",{children:"Demographic Information (postcode, preferences, interests)"}),(0,El.jsx)("li",{children:"Other Information Relevant to Customer Surveys and/or Offers"})]}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"WHAT WE DO WITH THE INFORMATION WE GATHER"}),(0,El.jsx)("p",{children:"We require this information to understand your needs and provide you with a better service, and in particular for the following reasons:"}),(0,El.jsxs)("ul",{children:[(0,El.jsx)("li",{children:"Internal record keeping."}),(0,El.jsx)("li",{children:"We may use the information to improve our products and services."}),(0,El.jsx)("li",{children:"We may periodically send promotional emails about new products, special offers or other information which we think you may find interesting using the email address which you have provided."}),(0,El.jsx)("li",{children:"From time to time, we may also use your information to contact you for market research purposes. We may contact you by email, phone, fax or mail. We may use the information to customize the website according to your interests."})]}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"SECURITY"}),(0,El.jsx)("p",{children:"We are committed to ensuring that your information is secure. In order to prevent unauthorized access or disclosure, we have put in place suitable physical, electronic and managerial procedures to safeguard and secure the information we collect online."}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"HOW WE USE COOKIES"}),(0,El.jsx)("p",{children:"A cookie is a small file which asks permission to be placed on your computer's hard drive. Once you agree, the file is added and the cookie helps analyze web traffic or lets you know when you visit a particular site. Cookies allow web applications to respond to you as an individual. The web application can tailor its operations to your needs, likes, and dislikes by gathering and remembering information about your preferences."}),(0,El.jsx)("p",{children:"We use traffic log cookies to identify which pages are being used. This helps us analyze data about webpage traffic and improve our website to tailor it to customer needs. We only use this information for statistical analysis purposes, and then the data is removed from the system."}),(0,El.jsx)("p",{children:"Overall, cookies help us provide you with a better website, by enabling us to monitor which pages you find useful and which you do not. A cookie in no way gives us access to your computer or any information about you, other than the data you choose to share with us. You can choose to accept or decline cookies. Most web browsers automatically accept cookies, but you can usually modify your browser setting to decline cookies if you prefer. This may prevent you from taking full advantage of the website."})]}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)(hp,{})]})},kA=function(){return pp(),(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("h1",{className:"text-center mt-20",children:" POINTS POLICY "}),(0,El.jsxs)("div",{className:"container borderwrap bg-white bg-opacity-10 px-2 py-2 mb-20 ",style:{width:"60%"},children:[(0,El.jsx)("h3",{children:"Points Accumulation and Redemption: "}),(0,El.jsx)("br",{}),(0,El.jsxs)("ol",{children:[(0,El.jsxs)("li",{children:[(0,El.jsx)("h4",{children:" Points Accumulation: "}),(0,El.jsxs)("p",{children:[" ","Customers can earn points at a rate of 1 point per dollar spent on the subtotal of their order. These points will be securely stored in their account for future use, providing them with the flexibility to redeem them at their convenience. Please note that points are not earned on purchases made using already accrued points."]})]}),(0,El.jsx)("br",{}),(0,El.jsxs)("li",{children:[(0,El.jsx)("h4",{children:" Points Redemption: "}),(0,El.jsxs)("p",{children:[" ","Once accumulated points are redeemed, they become non-refundable. Customers are encouraged to use their redeemed points solely for enhancing their shopping experience with us at Paradise Hemp."]})]}),(0,El.jsx)("br",{}),(0,El.jsxs)("li",{children:[(0,El.jsx)("h4",{children:" Points Validity: "}),(0,El.jsx)("p",{children:"Points earned through this program are only valid for use at Paradise Hemp and cannot be exchanged for legal tender or any other currency."})]})]}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:" Agreement: "}),(0,El.jsx)("br",{}),(0,El.jsx)("p",{children:"By participating in our points program, customers agree to abide by these terms and conditions. Paradise Hemp reserves the right to modify or terminate this points program at any time at its discretion, with or without notice. Any changes to the program will be communicated to the customers in a timely manner."}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{})]}),(0,El.jsx)(hp,{})]})},AA=function(){return pp(),(0,El.jsxs)(El.Fragment,{children:[(0,El.jsxs)("h1",{className:"mt-20",style:{textAlign:"center"},children:[" ","LITHIUM ION BATTERY WARNING:"," "]}),(0,El.jsxs)("div",{className:"container borderwrap mb-40 bg-white bg-opacity-10 px-4 py-4",style:{width:"60%"},children:[(0,El.jsx)("h3",{children:"LITHIUM ION BATTERY WARNING:"}),(0,El.jsxs)("ol",{children:[(0,El.jsx)("li",{children:"Do not use batteries if wrapper or insulator appears to be damaged."}),(0,El.jsx)("li",{children:"Do not use batteries with products that operate at a higher electrical current."}),(0,El.jsx)("li",{children:"Do not keep or place batteries in pockets, purses, or any containers that may allow the batteries to contact metal, or create short-circuit conditions."}),(0,El.jsx)("li",{children:"Lithium batteries may explode or catch fire if mishandled."}),(0,El.jsx)("li",{children:"Keep out of reach from children and pets."}),(0,El.jsx)("li",{children:"Do not disassemble, puncture, crush, cut, incinerate, short-circuit, or expose batteries to any fire, water, or extreme heat or cold."}),(0,El.jsx)("li",{children:"Battery manufacturers are not responsible for any personal injury or property damage caused by misusing or mishandling this battery."}),(0,El.jsx)("li",{children:"Advanced User Item. Use at Your Own Risk!"})]}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)("h3",{children:"CBD AND DELTA8 WARNING"}),(0,El.jsx)("p",{children:"By using of a CBD Additive (Cannabidiol Oil), I accept full responsibility for any damages or harmful results that may occur as a result of said product."}),(0,El.jsx)("p",{children:"I understand that I am relinquishing the right to sue and the rights to receive any compensation should any damages and or harmful results arise from the use of said product, whether the product is used properly or improperly."}),(0,El.jsx)("p",{children:"I further acknowledge that all products created, manufactured, or distributed by VAPE BUSINESS are offered on the condition that their users accept full responsibility for any ill effects the product may cause."})]}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)(hp,{})]})},RA=function(){return pp(),(0,El.jsxs)(El.Fragment,{children:[(0,El.jsxs)("div",{className:"container mb-60 mt-20",style:{width:"60%"},children:[(0,El.jsx)("h1",{className:"text-center mb-20",children:" LAB RESULTS / COA "}),(0,El.jsx)("div",{className:"container borderwrap bg-white bg-opacity-10 py-28",children:(0,El.jsxs)("p",{children:["Click",(0,El.jsxs)("a",{href:"https://drive.google.com/drive/folders/1oBcy0O5CKqA6JOTRnjpJEUd0lbybWPK4",target:"_blank",rel:"noreferrer",className:"text-red-500",children:[" ","here"," "]}),"for all Lab Results / COA"]})})]}),(0,El.jsx)(hp,{})]})},CA=function(){var e;fp.checkTokens(),pp();var n=p(Su(hu),2),r=n[0],i=n[1],a=i.data,o=i.loading,s=window.location.href.split("/").pop().replace(/%20/g," ");return(0,t.useEffect)((function(){function e(){return e=Xo(Go().mark((function e(){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({variables:{search:s}});case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("br",{}),(0,El.jsxs)("div",{className:"mt-20",children:[(0,El.jsx)("h2",{className:"text-center",children:"Search"}),(0,El.jsx)("hr",{}),!o&&(null===a||void 0===a?void 0:a.querySearch.length)>0?(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)("div",{className:"mt-10 mb-60",children:[(0,El.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",marginTop:5,marginBottom:5},children:null===(e=a.querySearch)||void 0===e?void 0:e.map((function(e){return(0,El.jsx)(hy,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity,cloverId:e.cloverId,description:e.description,category:e.category},e._id)}))}),(0,El.jsx)("br",{})]})}):(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)(dA,{children:[(0,El.jsx)("h3",{children:" No search results found. "}),(0,El.jsx)("p",{children:" Please try again "})]})})]}),(0,El.jsx)(cp,{}),(0,El.jsx)("br",{}),(0,El.jsx)(hp,{})]})},OA=function(){fp.checkTokens(),pp();var e=p((0,t.useState)({email:""}),2),n=e[0],r=e[1],i=p((0,t.useState)({securityCode:"",newPass:""}),2),a=i[0],o=i[1],l=p((0,t.useState)(!1),2),c=l[0],h=l[1],d=p((0,t.useState)(!1),2),f=d[0],v=d[1],m=p((0,t.useState)(!1),2),g=m[0],y=m[1],b=p(Jo(gl),2),x=b[0],_=b[1].error,w=p(Jo(yl),2),E=w[0],S=w[1].error,T=function(){var e=Xo(Go().mark((function e(t){return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x({variables:u({},n)});case 4:h(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Xo(Go().mark((function e(t){var r,i;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,E({variables:u(u({},a),n)});case 4:r=e.sent,"success"===(i=r.data).authResetValidator.message&&(v(!0),console.log("accepted")),"rejected"===i.authResetValidator.message&&(y(!0),console.log("rejected")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=e.target,n=t.name,r=t.value;o(u(u({},a),{},s({},n,r)))};return(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("div",{className:"mt-40 mb-40",children:g?(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)(dA,{className:"text-center",children:[(0,El.jsx)("h2",{className:"text-2xl font-semibold",children:"Password Reset Failed!"}),(0,El.jsx)("p",{children:"Redirecting..."}),setTimeout((function(){window.location.assign("/login")}),3e3)]})}):(0,El.jsx)(El.Fragment,{children:f?(0,El.jsx)(El.Fragment,{children:(0,El.jsxs)(dA,{className:"text-center",children:[(0,El.jsx)("h2",{className:"text-2xl font-semibold",children:"Password Successfully Changed!"}),(0,El.jsx)("p",{children:"Redirecting..."}),setTimeout((function(){window.location.assign("/login")}),3e3)]})}):(0,El.jsx)(El.Fragment,{children:c?(0,El.jsxs)("div",{className:"container bg-white bg-opacity-10 borderwrap",style:{minHeight:"60vh"},children:[(0,El.jsx)("h2",{className:"text-2xl font-semibold",children:"Reset Password"}),(0,El.jsxs)("p",{className:"text-center",style:{maxWidth:"45%"},children:[" ","Please enter the 6-digit code from the email address that you provided. If you do not see an email from us, please check your spam folder. If you still cannot find the email, the email did not relate to an account."," ",(0,El.jsx)(Ye,{to:"/login",className:"text-red-500 hover:underline",children:"Try again!"})," "]}),(0,El.jsxs)("form",{style:{maxWidth:300},onSubmit:M,className:"flex flex-col items-center space-y-4",children:[(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"newPass",className:"mb-1",children:"New Password:"}),(0,El.jsx)("input",{name:"newPass",value:a.newPass,type:"password",placeholder:"Password88!",onChange:k,className:"border border-gray-300 px-3 py-2 rounded-md w-full"})]}),(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"securityCode",className:"mb-1",children:"Security Code:"}),(0,El.jsx)("input",{name:"securityCode",value:a.securityCode,placeholder:"541-323",onChange:k,className:"border border-gray-300 px-3 py-2 rounded-md w-full"})]}),S?(0,El.jsx)("div",{children:(0,El.jsx)("p",{className:"error-text",children:S.message})}):null,(0,El.jsx)("div",{className:"flex justify-end",children:(0,El.jsx)("button",{type:"submit",disabled:!a.securityCode,className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 bg-opacity-80 text-black",children:"Submit"})}),(0,El.jsx)("div",{children:(0,El.jsx)("br",{})})]}),(0,El.jsx)("br",{})]}):(0,El.jsxs)("div",{className:"container bg-white bg-opacity-10 borderwrap",style:{minHeight:"60vh"},children:[(0,El.jsx)("h2",{className:"text-2xl font-semibold",children:"Reset Password"}),(0,El.jsx)("p",{children:" Please enter your email for your account. "}),(0,El.jsxs)("form",{style:{maxWidth:300},onSubmit:T,className:"flex flex-col items-center space-y-4",children:[(0,El.jsxs)("div",{className:"flex flex-col my-2",children:[(0,El.jsx)("label",{htmlFor:"email",className:"mb-1",children:"Email address:"}),(0,El.jsx)("input",{placeholder:"email@example.com",name:"email",type:"email",id:"email",value:n.email,onChange:function(e){var t=e.target,i=t.name,a=t.value;r(u(u({},n),{},s({},i,a)))},className:"border border-gray-300 px-3 py-2 rounded-md w-full"})]}),_?(0,El.jsx)("div",{children:(0,El.jsx)("p",{className:"error-text",children:_.message})}):null,(0,El.jsx)("div",{className:"flex justify-end",children:(0,El.jsx)("button",{type:"submit",disabled:!n.email,className:"bg-gradient-to-r from-red-400 to-yellow-600 opacity-80 text-white",children:"Submit"})}),(0,El.jsx)("div",{children:(0,El.jsx)("br",{})})]}),(0,El.jsx)("br",{})]})})})}),(0,El.jsx)(hp,{})]})},IA=function(){return fp.checkTokens(),pp(),(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsx)("br",{}),(0,El.jsxs)("div",{className:"container borderwrap bg-white bg-opacity-10 px-4 py-4 mb-40",children:[(0,El.jsx)(cp,{CheckoutPage:!0})," "]}),(0,El.jsx)(hp,{})]})},PA=function(){var e=Cl(su),t=e.loading,n=e.data,r=null;if(!t){var i,a,o={isVerified:wl.isVerified(),isIdSubmitted:null===(i=n.user)||void 0===i?void 0:i.isIdSubmitted,isIdRejected:null===(a=n.user)||void 0===a?void 0:a.isIdRejected};o.isVerified||(r=o.isIdRejected?(0,El.jsxs)("div",{className:"unverifiedbar",children:["ID images were rejected. Please re-submit. Click"," ",(0,El.jsx)("a",{href:"/dashboard",style:{color:"rgba(186, 166, 255, 0.9)"},children:"here"})," ","to re-submit."]}):o.isIdSubmitted?(0,El.jsx)("div",{className:"pendingreviewbar",children:"Review of ID pending. Please check back later."}):(0,El.jsxs)("div",{className:"unverifiedbar",children:["You must submit your ID before purchasing. Click"," ",(0,El.jsxs)("a",{href:"/dashboard",style:{color:"rgba(186, 166, 255, 0.9)"},children:[" ","here"," "]})," ","to verify your age."]}))}return(0,El.jsx)(El.Fragment,{children:r})};function NA(e){return Cu({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.03 2.59a1.501 1.501 0 0 1 1.94 0l7.5 6.363a1.5 1.5 0 0 1 .53 1.144V19.5a1.5 1.5 0 0 1-1.5 1.5h-5.75a.75.75 0 0 1-.75-.75V14h-2v6.25a.75.75 0 0 1-.75.75H4.5A1.5 1.5 0 0 1 3 19.5v-9.403c0-.44.194-.859.53-1.144ZM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v6.25h5v-9.403Z"}}]})(e)}var DA=function(){var e=p(ru(),2)[1],n=p((0,t.useState)(!1),2),r=n[0],i=n[1];var a=new URL(window.location.href).pathname;return(0,El.jsx)(El.Fragment,{children:"/"===a?null:(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("div",{className:"sticky top-0 z-10 w-full ",children:(0,El.jsxs)("header",{className:"w-full h-14 drop-shadow-md",children:[(0,El.jsxs)("div",{className:"flex items-center justify-between w-full h-full px-2",style:{backdropFilter:"blur(10px)",boxShadow:"0 0 1rem rgba(128, 0, 128, 0.1)",backgroundColor:"rgba(128, 0, 128, 0.07)"},children:[(0,El.jsx)(Ye,{to:"/home",className:"px-4 text-white hover:text-indigo-200 mb-1",children:(0,El.jsx)(lp,{children:(0,El.jsx)("h3",{children:"PARADISE"})})}),(0,El.jsx)("nav",{children:(0,El.jsxs)("ul",{className:"hidden space-x-9 md:flex md:items-center mr-16",children:[wl.isAdmin()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("li",{className:"mx-1",children:(0,El.jsx)(Ye,{to:"/Overview",className:"text-white",children:"Overview"})}),(0,El.jsx)("li",{className:"mx-1",children:(0,El.jsx)(Ye,{to:"/adminorderview",className:"text-white",children:"View Orders"})}),(0,El.jsx)("li",{className:"mx-1",children:(0,El.jsx)(Ye,{to:"/manageproducts",className:"text-white",children:"Manage Products"})}),(0,El.jsx)("li",{className:"mx-1",children:(0,El.jsx)(Ye,{to:"/verifusers",className:"text-white",children:"Verify Users"})}),(0,El.jsx)("li",{className:"mx-1",children:(0,El.jsx)(Ye,{to:"/home",className:"text-white",onClick:function(){return wl.logout()},children:"Logout"})})]}):null,wl.loggedIn()&&!wl.isAdmin()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("li",{className:"absolute mt-4 center ml-10",children:(0,El.jsx)(lp,{direction:"down",children:(0,El.jsx)(fA,{})})}),(0,El.jsxs)(lp,{direction:"right",children:[(0,El.jsx)("li",{children:(0,El.jsxs)(Ye,{to:"/home",className:"px-4 text-slate-100 hover:text-indigo-200 mb-1",children:[(0,El.jsx)(NA,{style:{color:"white"},size:19}),(0,El.jsx)("p",{className:"text-white",style:{marginLeft:-3,fontSize:10},children:"Home"})]})}),(0,El.jsx)("li",{style:{position:"relative",top:-0},children:(0,El.jsx)(Ye,{to:"/dashboard",children:(0,El.jsxs)("div",{children:[(0,El.jsx)(Nu,{size:20,style:{color:"white"}}),(0,El.jsx)("p",{className:"text-white",style:{marginLeft:-2,fontSize:10},children:"Dash"})]})})}),(0,El.jsx)("li",{style:{position:"relative",top:-0},children:(0,El.jsx)(Ye,{href:"/home",onClick:function(){return wl.logout()},children:(0,El.jsxs)("div",{children:[(0,El.jsx)(ju,{size:20,style:{marginLeft:1,color:"white"}}),(0,El.jsx)("p",{className:"text-white",style:{marginLeft:-3,fontSize:10},children:"Logout"})]})})})]})]}):null,wl.loggedIn()?null:(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("li",{className:"absolute mt-4 center ml-10",children:(0,El.jsx)(lp,{direction:"down",children:(0,El.jsx)(fA,{})})}),(0,El.jsxs)(lp,{direction:"right",children:[(0,El.jsx)("li",{children:(0,El.jsxs)(Ye,{to:"/home",className:"px-4 text-slate-100 hover:text-indigo-200 mb-1",children:[(0,El.jsx)(NA,{style:{color:"white"},size:19}),(0,El.jsx)("p",{className:"text-white",style:{marginLeft:-3,fontSize:10},children:"Home"})]})}),(0,El.jsx)("li",{style:{position:"relative",top:-1},children:(0,El.jsxs)(Ye,{className:"px-4 text-slate-100 hover:text-indigo-200",to:"/signup",children:[(0,El.jsx)(Du,{style:{color:"white",marginLeft:5},size:20}),(0,El.jsx)("p",{className:"text-white",style:{fontSize:10},children:"Signup"})]})}),(0,El.jsx)("li",{style:{position:"relative",top:-1},children:(0,El.jsxs)(Ye,{className:"px-4 text-slate-100 hover:text-indigo-200",to:"/login",children:[(0,El.jsx)(Fu,{style:{color:"white"},size:20}),(0,El.jsx)("p",{className:"text-white",style:{fontSize:10},children:"Login"})]})})]})]})]})}),(0,El.jsx)("div",{className:"md:hidden",onClick:function(){return i((function(e){return!e}))},children:r?(0,El.jsx)(zu,{size:22,className:"w-8 text-white"}):(0,El.jsx)(Bu,{size:21,className:"w-8 text-white"})})]}),(0,El.jsxs)("ul",{className:r?"absolute bg-red bg-opacity-10 custom-backdrop-blur w-full px-8 pb-4 md:hidden space-y-2 text-right":"hidden",children:[(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{to:"/home",className:"px-4 text-slate-100 hover:text-indigo-200",children:(0,El.jsx)("p",{style:{marginLeft:-8},children:"Home"})})}),(0,El.jsx)("hr",{}),wl.isAdmin()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("li",{className:" px-1 py-1",children:(0,El.jsxs)(Ye,{to:"/adminorderview",children:[" ",(0,El.jsx)("p",{children:" View Orders"})]})}),(0,El.jsx)("hr",{}),(0,El.jsx)("li",{className:" px-1 py-1",children:(0,El.jsx)(Ye,{to:"/manageproducts",children:(0,El.jsx)("p",{children:"Manage Products "})})}),(0,El.jsx)("hr",{}),(0,El.jsx)("li",{className:" px-1 py-1",children:(0,El.jsx)(Ye,{to:"/verifusers",children:(0,El.jsx)("p",{children:" Verify Users"})})}),(0,El.jsx)("hr",{}),(0,El.jsx)("li",{className:"px-1 py-1",children:(0,El.jsx)(Ye,{to:"/home",onClick:function(){return wl.logout()},children:(0,El.jsx)("p",{children:"Logout"})})})]}):null,wl.loggedIn()&&!wl.isAdmin()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{to:"/dashboard",className:"px-4 text-slate-100 hover:text-indigo-200",children:(0,El.jsx)("p",{children:"Dashboard"})})}),(0,El.jsx)("hr",{}),(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{className:"px-4 text-slate-100 hover:text-indigo-200",href:"/home",onClick:function(){return wl.logout()},children:(0,El.jsx)("p",{children:"Logout"})})}),(0,El.jsx)("hr",{}),(0,El.jsx)("li",{children:(0,El.jsx)(Ye,{className:"px-4 text-slate-100 hover:text-indigo-200",onClick:function(){e({type:jl}),window.location.assign("#shoppingCart"),i(!1)},children:(0,El.jsx)("p",{children:"Cart"})})}),(0,El.jsx)("hr",{}),(0,El.jsx)("li",{className:"h-10",children:(0,El.jsx)("div",{className:"absolute right-5",children:(0,El.jsx)(fA,{})})})]}):null,wl.loggedIn()?null:(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("li",{style:{position:"relative",top:-10},children:(0,El.jsx)(Ye,{className:"px-4 text-slate-100 hover:text-indigo-200",to:"/login",children:(0,El.jsx)("p",{children:"Login"})})}),(0,El.jsx)("hr",{}),(0,El.jsx)("li",{className:"h-10",children:(0,El.jsx)("div",{className:"absolute right-5",children:(0,El.jsx)(fA,{})})})]})]})]})}),wl.loggedIn()?wl.isVerified()?"":(0,El.jsx)(PA,{}):null,console.log('\n    "We only have room\n    for one specimen,       "Let us take the small,\n    Dtlxvr. Which shall      low-decible one, Ftxbp.\n        we take?"               I like peace."\n                   _.-\'~~~~\'-._   /\n        .       .-~            ~-.         .\n             .-~   (oo)  (oo)    ~-.\n            (______//~~//~~ ||_______)\n        _.-~"                         "~-._\n       |O=O=O=O=O=O=O=O=O=O=O=O=O=O=O=O=O=O|    *\n      |_____________________________________|\n                  x x x x x x x\n        .  *       x_x_x_x_x_x.\n\n                     DEV: ML.\n                                                     ')]})})};function LA(e){return e+.5|0}var UA=function(e,t,n){return Math.max(Math.min(e,n),t)};function FA(e){return UA(LA(2.55*e),0,255)}function jA(e){return UA(LA(255*e),0,255)}function BA(e){return UA(LA(e/2.55)/100,0,1)}function zA(e){return UA(LA(100*e),0,100)}var VA={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},HA=m("0123456789ABCDEF"),WA=function(e){return HA[15&e]},GA=function(e){return HA[(240&e)>>4]+HA[15&e]},qA=function(e){return(240&e)>>4===(15&e)};function XA(e){var t=function(e){return qA(e.r)&&qA(e.g)&&qA(e.b)&&qA(e.a)}(e)?WA:GA;return e?"#"+t(e.r)+t(e.g)+t(e.b)+function(e,t){return e<255?t(e):""}(e.a,t):void 0}var YA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function QA(e,t,n){var r=t*Math.min(n,1-n),i=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function KA(e,t,n){var r=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function $A(e,t,n){var r,i=QA(e,1,.5);for(t+n>1&&(t*=r=1/(t+n),n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function JA(e){var t,n,r,i=e.r/255,a=e.g/255,o=e.b/255,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(s+l)/2;return s!==l&&(r=s-l,n=u>.5?r/(2-s-l):r/(s+l),t=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(i,a,o,r,s),t=60*t+.5),[0|t,n||0,u]}function ZA(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(jA)}function eR(e,t,n){return ZA(QA,e,t,n)}function tR(e){return(e%360+360)%360}function nR(e){var t,n=YA.exec(e),r=255;if(n){n[5]!==t&&(r=n[6]?FA(+n[5]):jA(+n[5]));var i=tR(+n[2]),a=+n[3]/100,o=+n[4]/100;return{r:(t="hwb"===n[1]?function(e,t,n){return ZA($A,e,t,n)}(i,a,o):"hsv"===n[1]?function(e,t,n){return ZA(KA,e,t,n)}(i,a,o):eR(i,a,o))[0],g:t[1],b:t[2],a:r}}}var rR,iR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},aR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oR(e){rR||(rR=function(){var e,t,n,r,i,a={},o=Object.keys(aR),s=Object.keys(iR);for(e=0;e<o.length;e++){for(r=i=o[e],t=0;t<s.length;t++)n=s[t],i=i.replace(n,iR[n]);n=parseInt(aR[r],16),a[i]=[n>>16&255,n>>8&255,255&n]}return a}(),rR.transparent=[0,0,0,0]);var t=rR[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}var sR=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var lR=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},uR=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};function cR(e,t,n){if(e){var r=JA(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=eR(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function hR(e,t){return e?Object.assign(t||{},e):e}function dR(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=jA(e[3]))):(t=hR(e,{r:0,g:0,b:0,a:1})).a=jA(t.a),t}function fR(e){return"r"===e.charAt(0)?function(e){var t,n,r,i=sR.exec(e),a=255;if(i){if(i[7]!==t){var o=+i[7];a=i[8]?FA(o):UA(255*o,0,255)}return t=+i[1],n=+i[3],r=+i[5],{r:t=255&(i[2]?FA(t):UA(t,0,255)),g:n=255&(i[4]?FA(n):UA(n,0,255)),b:r=255&(i[6]?FA(r):UA(r,0,255)),a:a}}}(e):nR(e)}var pR=function(){function e(t){if(g(this,e),t instanceof e)return t;var n,r=typeof t;"object"===r?n=dR(t):"string"===r&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*VA[e[1]],g:255&17*VA[e[2]],b:255&17*VA[e[3]],a:5===n?17*VA[e[4]]:255}:7!==n&&9!==n||(t={r:VA[e[1]]<<4|VA[e[2]],g:VA[e[3]]<<4|VA[e[4]],b:VA[e[5]]<<4|VA[e[6]],a:9===n?VA[e[7]]<<4|VA[e[8]]:255})),t}(t)||oR(t)||fR(t)),this._rgb=n,this._valid=!!n}return b(e,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var e=hR(this._rgb);return e&&(e.a=BA(e.a)),e},set:function(e){this._rgb=dR(e)}},{key:"rgbString",value:function(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(BA(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}},{key:"hexString",value:function(){return this._valid?XA(this._rgb):void 0}},{key:"hslString",value:function(){return this._valid?function(e){if(e){var t=JA(e),n=t[0],r=zA(t[1]),i=zA(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(BA(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}}(this._rgb):void 0}},{key:"mix",value:function(e,t){if(e){var n,r=this.rgb,i=e.rgb,a=t===n?.5:t,o=2*a-1,s=r.a-i.a,l=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;n=1-l,r.r=255&l*r.r+n*i.r+.5,r.g=255&l*r.g+n*i.g+.5,r.b=255&l*r.b+n*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}},{key:"interpolate",value:function(e,t){return e&&(this._rgb=function(e,t,n){var r=uR(BA(e.r)),i=uR(BA(e.g)),a=uR(BA(e.b));return{r:jA(lR(r+n*(uR(BA(t.r))-r))),g:jA(lR(i+n*(uR(BA(t.g))-i))),b:jA(lR(a+n*(uR(BA(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}},{key:"clone",value:function(){return new e(this.rgb)}},{key:"alpha",value:function(e){return this._rgb.a=jA(e),this}},{key:"clearer",value:function(e){return this._rgb.a*=1-e,this}},{key:"greyscale",value:function(){var e=this._rgb,t=LA(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}},{key:"opaquer",value:function(e){return this._rgb.a*=1+e,this}},{key:"negate",value:function(){var e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}},{key:"lighten",value:function(e){return cR(this._rgb,2,e),this}},{key:"darken",value:function(e){return cR(this._rgb,2,-e),this}},{key:"saturate",value:function(e){return cR(this._rgb,1,e),this}},{key:"desaturate",value:function(e){return cR(this._rgb,1,-e),this}},{key:"rotate",value:function(e){return function(e,t){var n=JA(e);n[0]=tR(n[0]+t),n=eR(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}]),e}();function vR(){}var mR=function(){var e=0;return function(){return e++}}();function gR(e){return null===e||"undefined"===typeof e}function yR(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function bR(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function xR(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function _R(e,t){return xR(e)?e:t}function wR(e,t){return"undefined"===typeof e?t:e}var ER=function(e,t){return"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e};function SR(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function TR(e,t,n,r){var i,a,o;if(yR(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(bR(e))for(a=(o=Object.keys(e)).length,i=0;i<a;i++)t.call(n,e[o[i]],o[i])}function MR(e,t){var n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function kR(e){if(yR(e))return e.map(kR);if(bR(e)){for(var t=Object.create(null),n=Object.keys(e),r=n.length,i=0;i<r;++i)t[n[i]]=kR(e[n[i]]);return t}return e}function AR(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function RR(e,t,n,r){if(AR(e)){var i=t[e],a=n[e];bR(i)&&bR(a)?CR(i,a,r):t[e]=kR(a)}}function CR(e,t,n){var r=yR(t)?t:[t],i=r.length;if(!bR(e))return e;for(var a,o=(n=n||{}).merger||RR,s=0;s<i;++s)if(bR(a=r[s]))for(var l=Object.keys(a),u=0,c=l.length;u<c;++u)o(l[u],e,a,n);return e}function OR(e,t){return CR(e,t,{merger:IR})}function IR(e,t,n){if(AR(e)){var r=t[e],i=n[e];bR(r)&&bR(i)?OR(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=kR(i))}}var PR={"":function(e){return e},x:function(e){return e.x},y:function(e){return e.y}};function NR(e){var t=function(e){var t,n=[],r="",i=A(e.split("."));try{for(i.s();!(t=i.n()).done;)(r+=t.value).endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="")}catch(a){i.e(a)}finally{i.f()}return n}(e);return function(e){var n,r=A(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(""===i)break;e=e&&e[i]}}catch(a){r.e(a)}finally{r.f()}return e}}function DR(e,t){return(PR[t]||(PR[t]=NR(t)))(e)}function LR(e){return e.charAt(0).toUpperCase()+e.slice(1)}var UR=function(e){return"undefined"!==typeof e},FR=function(e){return"function"===typeof e},jR=function(e,t){if(e.size!==t.size)return!1;var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0};var BR=Math.PI,zR=2*BR,VR=zR+BR,HR=Number.POSITIVE_INFINITY,WR=BR/180,GR=BR/2,qR=BR/4,XR=2*BR/3,YR=Math.log10,QR=Math.sign;function KR(e,t,n){return Math.abs(e-t)<n}function $R(e){var t=Math.round(e);e=KR(e,t,e/1e3)?t:e;var n=Math.pow(10,Math.floor(YR(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function JR(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ZR(e,t,n){var r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function eC(e){return e*(BR/180)}function tC(e){return e*(180/BR)}function nC(e){if(xR(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}}function rC(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),a=Math.atan2(r,n);return a<-.5*BR&&(a+=zR),{angle:a,distance:i}}function iC(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function aC(e,t){return(e-t+VR)%zR-BR}function oC(e){return(e%zR+zR)%zR}function sC(e,t,n,r){var i=oC(e),a=oC(t),o=oC(n),s=oC(a-i),l=oC(o-i),u=oC(i-a),c=oC(i-o);return i===a||i===o||r&&a===o||s>l&&u<c}function lC(e,t,n){return Math.max(t,Math.min(n,e))}function uC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function cC(e,t,n){n=n||function(n){return e[n]<t};for(var r,i=e.length-1,a=0;i-a>1;)n(r=a+i>>1)?a=r:i=r;return{lo:a,hi:i}}var hC=function(e,t,n,r){return cC(e,n,r?function(r){var i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:function(r){return e[r][t]<n})},dC=function(e,t,n){return cC(e,n,(function(r){return e[r][t]>=n}))};var fC=["push","pop","shift","splice","unshift"];function pC(e,t){var n=e._chartjs;if(n){var r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(fC.forEach((function(t){delete e[t]})),delete e._chartjs)}}function vC(e){var t=new Set(e);return t.size===e.length?e:Array.from(t)}var mC="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function gC(e,t){var n=[],r=!1;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];n=a,r||(r=!0,mC.call(window,(function(){r=!1,e.apply(t,n)})))}}var yC=function(e){return"start"===e?"left":"end"===e?"right":"center"},bC=function(e,t,n){return"start"===e?t:"end"===e?n:(t+n)/2};function xC(e,t,n){var r=t.length,i=0,a=r;if(e._sorted){var o=e.iScale,s=e._parsed,l=o.axis,u=o.getUserBounds(),c=u.min,h=u.max,d=u.minDefined,f=u.maxDefined;d&&(i=lC(Math.min(hC(s,l,c).lo,n?r:hC(t,l,o.getPixelForValue(c)).lo),0,r-1)),a=f?lC(Math.max(hC(s,o.axis,h,!0).hi+1,n?0:hC(t,l,o.getPixelForValue(h),!0).hi+1),i,r)-i:r-i}return{start:i,count:a}}function _C(e){var t=e.xScale,n=e.yScale,r=e._scaleRanges,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;var a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}var wC=function(e){return 0===e||1===e},EC=function(e,t,n){return-Math.pow(2,10*(e-=1))*Math.sin((e-t)*zR/n)},SC=function(e,t,n){return Math.pow(2,-10*e)*Math.sin((e-t)*zR/n)+1},TC={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*GR)},easeOutSine:function(e){return Math.sin(e*GR)},easeInOutSine:function(e){return-.5*(Math.cos(BR*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return wC(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1)))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){return wC(e)?e:EC(e,.075,.3)},easeOutElastic:function(e){return wC(e)?e:SC(e,.075,.3)},easeInOutElastic:function(e){var t=.1125;return wC(e)?e:e<.5?.5*EC(2*e,t,.45):.5+.5*SC(2*e-1,t,.45)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-TC.easeOutBounce(1-e)},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*TC.easeInBounce(2*e):.5*TC.easeOutBounce(2*e-1)+.5}};function MC(e){if(e&&"object"===typeof e){var t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function kC(e){return MC(e)?e:new pR(e)}function AC(e){return MC(e)?e:new pR(e).saturate(.5).darken(.1).hexString()}var RC=["x","y","borderWidth","radius","tension"],CC=["color","borderColor","backgroundColor"];var OC=new Map;function IC(e,t,n){return function(e,t){t=t||{};var n=e+JSON.stringify(t),r=OC.get(n);return r||(r=new Intl.NumberFormat(e,t),OC.set(n,r)),r}(t,n).format(e)}var PC={values:function(e){return yR(e)?e:""+e},numeric:function(e,t,n){if(0===e)return"0";var r,i=this.chart.options.locale,a=e;if(n.length>1){var o=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(o<1e-4||o>1e15)&&(r="scientific"),a=function(e,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}var s=YR(Math.abs(a)),l=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),IC(e,i,u)},logarithmic:function(e,t,n){if(0===e)return"0";var r=n[t].significand||e/Math.pow(10,Math.floor(YR(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?PC.numeric.call(this,e,t,n):""}};var NC={formatters:PC};var DC=Object.create(null),LC=Object.create(null);function UC(e,t){if(!t)return e;for(var n=t.split("."),r=0,i=n.length;r<i;++r){var a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function FC(e,t,n){return"string"===typeof t?CR(UC(e,t),n):CR(UC(e,""),t)}var jC=function(){function e(t,n){g(this,e),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(e){return e.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(e,t){return AC(t.backgroundColor)},this.hoverBorderColor=function(e,t){return AC(t.borderColor)},this.hoverColor=function(e,t){return AC(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}return b(e,[{key:"set",value:function(e,t){return FC(this,e,t)}},{key:"get",value:function(e){return UC(this,e)}},{key:"describe",value:function(e,t){return FC(LC,e,t)}},{key:"override",value:function(e,t){return FC(DC,e,t)}},{key:"route",value:function(e,t,n,r){var i,a=UC(this,e),o=UC(this,n),l="_"+t;Object.defineProperties(a,(s(i={},l,{value:a[t],writable:!0}),s(i,t,{enumerable:!0,get:function(){var e=this[l],t=o[r];return bR(e)?Object.assign({},t,e):wR(e,t)},set:function(e){this[l]=e}}),i))}},{key:"apply",value:function(e){var t=this;e.forEach((function(e){return e(t)}))}}]),e}(),BC=new jC({_scriptable:function(e){return!e.startsWith("on")},_indexable:function(e){return"events"!==e},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(e){return"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}}),e.set("animations",{colors:{type:"color",properties:CC},numbers:{type:"number",properties:RC}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(e){return 0|e}}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(e,t){return t.lineWidth},tickColor:function(e,t){return t.color},offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:NC.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:function(e){return!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e},_indexable:function(e){return"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:function(e){return"backdropPadding"!==e&&"callback"!==e},_indexable:function(e){return"backdropPadding"!==e}})}]);function zC(e,t,n,r,i){var a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function VC(e,t,n,r){var i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;var o,s,l,u,c,h=0,d=n.length;for(o=0;o<d;o++)if(void 0===(u=n[o])||null===u||yR(u)){if(yR(u))for(s=0,l=u.length;s<l;s++)void 0===(c=u[s])||null===c||yR(c)||(h=zC(e,i,a,h,c))}else h=zC(e,i,a,h,u);e.restore();var f=a.length/2;if(f>n.length){for(o=0;o<f;o++)delete i[a[o]];a.splice(0,f)}return h}function HC(e,t,n){var r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function WC(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function GC(e,t,n,r){qC(e,t,n,r,null)}function qC(e,t,n,r,i){var a,o,s,l,u,c,h,d,f=t.pointStyle,p=t.rotation,v=t.radius,m=(p||0)*WR;if(f&&"object"===typeof f&&("[object HTMLImageElement]"===(a=f.toString())||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(v)||v<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,v,0,0,zR):e.arc(n,r,v,0,zR),e.closePath();break;case"triangle":c=i?i/2:v,e.moveTo(n+Math.sin(m)*c,r-Math.cos(m)*v),m+=XR,e.lineTo(n+Math.sin(m)*c,r-Math.cos(m)*v),m+=XR,e.lineTo(n+Math.sin(m)*c,r-Math.cos(m)*v),e.closePath();break;case"rectRounded":l=v-(u=.516*v),o=Math.cos(m+qR)*l,h=Math.cos(m+qR)*(i?i/2-u:l),s=Math.sin(m+qR)*l,d=Math.sin(m+qR)*(i?i/2-u:l),e.arc(n-h,r-s,u,m-BR,m-GR),e.arc(n+d,r-o,u,m-GR,m),e.arc(n+h,r+s,u,m,m+GR),e.arc(n-d,r+o,u,m+GR,m+BR),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,c=i?i/2:l,e.rect(n-c,r-l,2*c,2*l);break}m+=qR;case"rectRot":h=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),e.moveTo(n-h,r-s),e.lineTo(n+d,r-o),e.lineTo(n+h,r+s),e.lineTo(n-d,r+o),e.closePath();break;case"crossRot":m+=qR;case"cross":h=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"star":h=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o),m+=qR,h=Math.cos(m)*(i?i/2:v),o=Math.cos(m)*v,s=Math.sin(m)*v,d=Math.sin(m)*(i?i/2:v),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+d,r-o),e.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(m)*v,s=Math.sin(m)*v,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(m)*(i?i/2:v),r+Math.sin(m)*v);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function XC(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function YC(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function QC(e){e.restore()}function KC(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){var a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function $C(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function JC(e,t,n,r,i){if(i.strikethrough||i.underline){var a=e.measureText(r),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,u=n+a.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,c),e.lineTo(s,c),e.stroke()}}function ZC(e,t){var n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function eO(e,t,n,r,i){var a,o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=yR(t)?t:[t],u=s.strokeWidth>0&&""!==s.strokeColor;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),gR(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),a=0;a<l.length;++a)o=l[a],s.backdrop&&ZC(e,s.backdrop),u&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),gR(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(o,n,r,s.maxWidth)),e.fillText(o,n,r,s.maxWidth),JC(e,n,r,o,s),r+=Number(i.lineHeight);e.restore()}function tO(e,t){var n=t.x,r=t.y,i=t.w,a=t.h,o=t.radius;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,-GR,BR,!0),e.lineTo(n,r+a-o.bottomLeft),e.arc(n+o.bottomLeft,r+a-o.bottomLeft,o.bottomLeft,BR,GR,!0),e.lineTo(n+i-o.bottomRight,r+a),e.arc(n+i-o.bottomRight,r+a-o.bottomRight,o.bottomRight,GR,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-GR,!0),e.lineTo(n+o.topLeft,r)}var nO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function iO(e,t){var n=(""+e).match(nO);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}var aO=function(e){return+e||0};function oO(e,t){var n,r={},i=bR(t),a=i?Object.keys(t):t,o=bR(e)?i?function(n){return wR(e[n],e[t[n]])}:function(t){return e[t]}:function(){return e},s=A(a);try{for(s.s();!(n=s.n()).done;){var l=n.value;r[l]=aO(o(l))}}catch(u){s.e(u)}finally{s.f()}return r}function sO(e){return oO(e,{top:"y",right:"x",bottom:"y",left:"x"})}function lO(e){return oO(e,["topLeft","topRight","bottomLeft","bottomRight"])}function uO(e){var t=sO(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function cO(e,t){e=e||{},t=t||BC.font;var n=wR(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));var r=wR(e.style,t.style);r&&!(""+r).match(rO)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);var i={family:wR(e.family,t.family),lineHeight:iO(wR(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:wR(e.weight,t.weight),string:""};return i.string=function(e){return!e||gR(e.size)||gR(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function hO(e,t,n,r){var i,a,o,s=!0;for(i=0,a=e.length;i<a;++i)if(void 0!==(o=e[i])&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&yR(o)&&(o=o[n%o.length],s=!1),void 0!==o))return r&&!s&&(r.cacheable=!1),o}function dO(e,t){return Object.assign(Object.create(e),t)}function fO(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return e[0]},a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=SO("_fallback",e));var o=(s(t={},Symbol.toStringTag,"Object"),s(t,"_cacheable",!0),s(t,"_scopes",e),s(t,"_rootScopes",a),s(t,"_fallback",r),s(t,"_getTarget",i),s(t,"override",(function(t){return fO([t].concat(m(e)),n,a,r)})),t);return new Proxy(o,{deleteProperty:function(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get:function(t,r){return yO(t,r,(function(){return function(e,t,n,r){var i,a,o=A(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;if("undefined"!==typeof(i=SO(mO(s,e),n)))return gO(e,i)?wO(n,r,e,i):i}}catch(l){o.e(l)}finally{o.f()}}(r,n,e,t)}))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e[0])},has:function(e,t){return TO(e).includes(t)},ownKeys:function(e){return TO(e)},set:function(e,t,n){var r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function pO(e,t,n,r){var i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:vO(e,r),setContext:function(t){return pO(e,t,n,r)},override:function(i){return pO(e.override(i),t,n,r)}};return new Proxy(i,{deleteProperty:function(t,n){return delete t[n],delete e[n],!0},get:function(e,t,n){return yO(e,t,(function(){return function(e,t,n){var r=e._proxy,i=e._context,a=e._subProxy,o=e._descriptors,s=r[t];FR(s)&&o.isScriptable(t)&&(s=function(e,t,n,r){var i=n._proxy,a=n._context,o=n._subProxy,s=n._stack;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);var l=t(a,o||r);s.delete(e),gO(e,l)&&(l=wO(i._scopes,i,e,l));return l}(t,s,e,n));yR(s)&&s.length&&(s=function(e,t,n,r){var i=n._proxy,a=n._context,o=n._subProxy,s=n._descriptors;if("undefined"!==typeof a.index&&r(e))return t[a.index%t.length];if(bR(t[0])){var l=t,u=i._scopes.filter((function(e){return e!==l}));t=[];var c,h=A(l);try{for(h.s();!(c=h.n()).done;){var d=wO(u,i,e,c.value);t.push(pO(d,a,o&&o[e],s))}}catch(f){h.e(f)}finally{h.f()}}return t}(t,s,e,o.isIndexable));gO(t,s)&&(s=pO(s,i,a&&a[t],o));return s}(e,t,n)}))},getOwnPropertyDescriptor:function(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e)},has:function(t,n){return Reflect.has(e,n)},ownKeys:function(){return Reflect.ownKeys(e)},set:function(t,n,r){return e[n]=r,delete t[n],!0}})}function vO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=e._scriptable,r=void 0===n?t.scriptable:n,i=e._indexable,a=void 0===i?t.indexable:i,o=e._allKeys;return{allKeys:void 0===o?t.allKeys:o,scriptable:r,indexable:a,isScriptable:FR(r)?r:function(){return r},isIndexable:FR(a)?a:function(){return a}}}var mO=function(e,t){return e?e+LR(t):t},gO=function(e,t){return bR(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object)};function yO(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];var r=n();return e[t]=r,r}function bO(e,t,n){return FR(e)?e(t,n):e}var xO=function(e,t){return!0===e?t:"string"===typeof e?DR(t,e):void 0};function _O(e,t,n,r,i){var a,o=A(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=xO(n,s);if(l){e.add(l);var u=bO(l._fallback,n,i);if("undefined"!==typeof u&&u!==n&&u!==r)return u}else if(!1===l&&"undefined"!==typeof r&&n!==r)return null}}catch(c){o.e(c)}finally{o.f()}return!1}function wO(e,t,n,r){var i=t._rootScopes,a=bO(t._fallback,n,r),o=[].concat(m(e),m(i)),s=new Set;s.add(r);var l=EO(s,o,n,a||n,r);return null!==l&&(("undefined"===typeof a||a===n||null!==(l=EO(s,o,a,l,r)))&&fO(Array.from(s),[""],i,a,(function(){return function(e,t,n){var r=e._getTarget();t in r||(r[t]={});var i=r[t];if(yR(i)&&bR(n))return n;return i||{}}(t,n,r)})))}function EO(e,t,n,r,i){for(;n;)n=_O(e,t,n,r,i);return n}function SO(e,t){var n,r=A(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i){var a=i[e];if("undefined"!==typeof a)return a}}}catch(o){r.e(o)}finally{r.f()}}function TO(e){var t=e._keys;return t||(t=e._keys=function(e){var t,n=new Set,r=A(e);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=A(Object.keys(a).filter((function(e){return!e.startsWith("_")})));try{for(o.s();!(i=o.n()).done;){var s=i.value;n.add(s)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){r.e(l)}finally{r.f()}return Array.from(n)}(e._scopes)),t}function MO(e,t,n,r){var i,a,o,s,l=e.iScale,u=this._parsing.key,c=void 0===u?"r":u,h=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],h[i]={r:l.parse(DR(s,c),o)};return h}var kO=Number.EPSILON||1e-14,AO=function(e,t){return t<e.length&&!e[t].skip&&e[t]},RO=function(e){return"x"===e?"y":"x"};function CO(e,t,n,r){var i=e.skip?t:e,a=t,o=n.skip?t:n,s=iC(a,i),l=iC(o,a),u=s/(s+l),c=l/(s+l),h=r*(u=isNaN(u)?0:u),d=r*(c=isNaN(c)?0:c);return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+d*(o.x-i.x),y:a.y+d*(o.y-i.y)}}}function OO(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",a=RO(i),o=e.length,s=Array(o).fill(0),l=Array(o),u=AO(e,0);for(t=0;t<o;++t)if(n=r,r=u,u=AO(e,t+1),r){if(u){var c=u[i]-r[i];s[t]=0!==c?(u[a]-r[a])/c:0}l[t]=n?u?QR(s[t-1])!==QR(s[t])?0:(s[t-1]+s[t])/2:s[t-1]:s[t]}!function(e,t,n){for(var r,i,a,o,s,l=e.length,u=AO(e,0),c=0;c<l-1;++c)s=u,u=AO(e,c+1),s&&u&&(KR(t[c],0,kO)?n[c]=n[c+1]=0:(r=n[c]/t[c],i=n[c+1]/t[c],(o=Math.pow(r,2)+Math.pow(i,2))<=9||(a=3/Math.sqrt(o),n[c]=r*a*t[c],n[c+1]=i*a*t[c])))}(e,s,l),function(e,t){for(var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",o=RO(a),s=e.length,l=AO(e,0),u=0;u<s;++u)if(r=i,i=l,l=AO(e,u+1),i){var c=i[a],h=i[o];r&&(n=(c-r[a])/3,i["cp1".concat(a)]=c-n,i["cp1".concat(o)]=h-n*t[u]),l&&(n=(l[a]-c)/3,i["cp2".concat(a)]=c+n,i["cp2".concat(o)]=h+n*t[u])}}(e,l,i)}function IO(e,t,n){return Math.max(Math.min(e,n),t)}function PO(e,t,n,r,i){var a,o,s,l;if(t.spanGaps&&(e=e.filter((function(e){return!e.skip}))),"monotone"===t.cubicInterpolationMode)OO(e,i);else{var u=r?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)l=CO(u,s=e[a],e[Math.min(a+1,o-(r?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,u=s}t.capBezierPoints&&function(e,t){var n,r,i,a,o,s=XC(e[0],t);for(n=0,r=e.length;n<r;++n)o=a,a=s,s=n<r-1&&XC(e[n+1],t),a&&(i=e[n],o&&(i.cp1x=IO(i.cp1x,t.left,t.right),i.cp1y=IO(i.cp1y,t.top,t.bottom)),s&&(i.cp2x=IO(i.cp2x,t.left,t.right),i.cp2y=IO(i.cp2y,t.top,t.bottom)))}(e,n)}function NO(){return"undefined"!==typeof window&&"undefined"!==typeof document}function DO(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function LO(e,t,n){var r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}var UO=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};var FO=["top","right","bottom","left"];function jO(e,t,n){var r={};n=n?"-"+n:"";for(var i=0;i<4;i++){var a=FO[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var BO=function(e,t,n){return(e>0||t>0)&&(!n||!n.shadowRoot)};function zO(e,t){if("native"in e)return e;var n=t.canvas,r=t.currentDevicePixelRatio,i=UO(n),a="border-box"===i.boxSizing,o=jO(i,"padding"),s=jO(i,"border","width"),l=function(e,t){var n,r,i=e.touches,a=i&&i.length?i[0]:e,o=a.offsetX,s=a.offsetY,l=!1;if(BO(o,s,e.target))n=o,r=s;else{var u=t.getBoundingClientRect();n=a.clientX-u.left,r=a.clientY-u.top,l=!0}return{x:n,y:r,box:l}}(e,n),u=l.x,c=l.y,h=l.box,d=o.left+(h&&s.left),f=o.top+(h&&s.top),p=t.width,v=t.height;return a&&(p-=o.width+s.width,v-=o.height+s.height),{x:Math.round((u-d)/p*n.width/r),y:Math.round((c-f)/v*n.height/r)}}var VO=function(e){return Math.round(10*e)/10};function HO(e,t,n,r){var i=UO(e),a=jO(i,"margin"),o=LO(i.maxWidth,e,"clientWidth")||HR,s=LO(i.maxHeight,e,"clientHeight")||HR,l=function(e,t,n){var r,i;if(void 0===t||void 0===n){var a=DO(e);if(a){var o=a.getBoundingClientRect(),s=UO(a),l=jO(s,"border","width"),u=jO(s,"padding");t=o.width-u.width-l.width,n=o.height-u.height-l.height,r=LO(s.maxWidth,a,"clientWidth"),i=LO(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||HR,maxHeight:i||HR}}(e,t,n),u=l.width,c=l.height;if("content-box"===i.boxSizing){var h=jO(i,"border","width"),d=jO(i,"padding");u-=d.width+h.width,c-=d.height+h.height}return u=Math.max(0,u-a.width),c=Math.max(0,r?u/r:c-a.height),u=VO(Math.min(u,o,l.maxWidth)),c=VO(Math.min(c,s,l.maxHeight)),u&&!c&&(c=VO(u/2)),(void 0!==t||void 0!==n)&&r&&l.height&&c>l.height&&(c=l.height,u=VO(Math.floor(c*r))),{width:u,height:c}}function WO(e,t,n){var r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);var o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==a)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}var GO=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function qO(e,t){var n=function(e,t){return UO(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function XO(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function YO(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function QO(e,t,n,r){var i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=XO(e,i,n),s=XO(i,a,n),l=XO(a,t,n),u=XO(o,s,n),c=XO(s,l,n);return XO(u,c,n)}function KO(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}}function $O(e,t){var n,r;"ltr"!==t&&"rtl"!==t||(r=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function JO(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ZO(e){return"angle"===e?{between:sC,compare:aC,normalize:oC}:{between:uC,compare:function(e,t){return e-t},normalize:function(e){return e}}}function eI(e){var t=e.start,n=e.end,r=e.count;return{start:t%r,end:n%r,loop:e.loop&&(n-t+1)%r===0,style:e.style}}function tI(e,t,n){if(!n)return[e];for(var r,i,a,o=n.property,s=n.start,l=n.end,u=t.length,c=ZO(o),h=c.compare,d=c.between,f=c.normalize,p=function(e,t,n){var r,i,a=n.property,o=n.start,s=n.end,l=ZO(a),u=l.between,c=l.normalize,h=t.length,d=e.start,f=e.end,p=e.loop;if(p){for(d+=h,f+=h,r=0,i=h;r<i&&u(c(t[d%h][a]),o,s);++r)d--,f--;d%=h,f%=h}return f<d&&(f+=h),{start:d,end:f,loop:p,style:e.style}}(e,t,n),v=p.start,m=p.end,g=p.loop,y=p.style,b=[],x=!1,_=null,w=function(){return x||d(s,a,r)&&0!==h(s,a)},E=function(){return!x||0===h(l,r)||d(l,a,r)},S=v,T=v;S<=m;++S)(i=t[S%u]).skip||(r=f(i[o]))!==a&&(x=d(r,s,l),null===_&&w()&&(_=0===h(r,s)?S:T),null!==_&&E()&&(b.push(eI({start:_,end:S,loop:g,count:u,style:y})),_=null),T=S,a=r);return null!==_&&b.push(eI({start:_,end:m,loop:g,count:u,style:y})),b}function nI(e,t){for(var n=[],r=e.segments,i=0;i<r.length;i++){var a=tI(r[i],e.points,t);a.length&&n.push.apply(n,m(a))}return n}function rI(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){var i=e._chart.getContext(),a=iI(e.options),o=e._datasetIndex,s=e.options.spanGaps,l=n.length,u=[],c=a,h=t[0].start,d=h;function f(e,t,r,i){var a=s?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(u.push({start:e%l,end:t%l,loop:r,style:i}),c=i,h=t%l)}}var p,v=A(t);try{for(v.s();!(p=v.n()).done;){var m=p.value;h=s?h:m.start;var g=n[h%l],y=void 0;for(d=h+1;d<=m.end;d++){var b=n[d%l];aI(y=iI(r.setContext(dO(i,{type:"segment",p0:g,p1:b,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),c)&&f(h,d-1,m.loop,c),g=b,c=y}h<d-1&&f(h,d-1,m.loop,c)}}catch(x){v.e(x)}finally{v.f()}return u}(e,t,n,r):t}function iI(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function aI(e,t){if(!t)return!1;var n=[],r=function(e,t){return MC(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}var oI=function(){function e(){g(this,e),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return b(e,[{key:"_notify",value:function(e,t,n,r){var i=t.listeners[r],a=t.duration;i.forEach((function(r){return r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})}))}},{key:"_refresh",value:function(){var e=this;this._request||(this._running=!0,this._request=mC.call(window,(function(){e._update(),e._request=null,e._running&&e._refresh()})))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),n=0;this._charts.forEach((function(r,i){if(r.running&&r.items.length){for(var a,o=r.items,s=o.length-1,l=!1;s>=0;--s)(a=o[s])._active?(a._total>r.duration&&(r.duration=a._total),a.tick(t),l=!0):(o[s]=o[o.length-1],o.pop());l&&(i.draw(),e._notify(i,r,t,"progress")),o.length||(r.running=!1,e._notify(i,r,t,"complete"),r.initial=!1),n+=o.length}})),this._lastDate=t,0===n&&(this._running=!1)}},{key:"_getAnims",value:function(e){var t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}},{key:"listen",value:function(e,t,n){this._getAnims(e).listeners[t].push(n)}},{key:"add",value:function(e,t){var n;t&&t.length&&(n=this._getAnims(e).items).push.apply(n,m(t))}},{key:"has",value:function(e){return this._getAnims(e).items.length>0}},{key:"start",value:function(e){var t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((function(e,t){return Math.max(e,t._duration)}),0),this._refresh())}},{key:"running",value:function(e){if(!this._running)return!1;var t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}},{key:"stop",value:function(e){var t=this._charts.get(e);if(t&&t.items.length){for(var n=t.items,r=n.length-1;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}}},{key:"remove",value:function(e){return this._charts.delete(e)}}]),e}(),sI=new oI,lI="transparent",uI={boolean:function(e,t,n){return n>.5?t:e},color:function(e,t,n){var r=kC(e||lI),i=r.valid&&kC(t||lI);return i&&i.valid?i.mix(r,n).hexString():t},number:function(e,t,n){return e+(t-e)*n}},cI=function(){function e(t,n,r,i){g(this,e);var a=n[r];i=hO([t.to,i,a,t.from]);var o=hO([t.from,a,i]);this._active=!0,this._fn=t.fn||uI[t.type||typeof o],this._easing=TC[t.easing]||TC.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}return b(e,[{key:"active",value:function(){return this._active}},{key:"update",value:function(e,t,n){if(this._active){this._notify(!1);var r=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=hO([e.to,t,r,e.from]),this._from=hO([e.from,r,t])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(e){var t,n=e-this._start,r=this._duration,i=this._prop,a=this._from,o=this._loop,s=this._to;if(this._active=a!==s&&(o||n<r),!this._active)return this._target[i]=s,void this._notify(!0);n<0?this._target[i]=a:(t=n/r%2,t=o&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[i]=this._fn(a,s,t))}},{key:"wait",value:function(){var e=this._promises||(this._promises=[]);return new Promise((function(t,n){e.push({res:t,rej:n})}))}},{key:"_notify",value:function(e){for(var t=e?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][t]()}}]),e}(),hI=function(){function e(t,n){g(this,e),this._chart=t,this._properties=new Map,this.configure(n)}return b(e,[{key:"configure",value:function(e){if(bR(e)){var t=Object.keys(BC.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((function(r){var i=e[r];if(bR(i)){for(var a={},o=0,s=t;o<s.length;o++){var l=s[o];a[l]=i[l]}(yR(i.properties)&&i.properties||[r]).forEach((function(e){e!==r&&n.has(e)||n.set(e,a)}))}}))}}},{key:"_animateOptions",value:function(e,t){var n=t.options,r=function(e,t){if(!t)return;var n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];var i=this._createAnimations(r,n);return n.$shared&&function(e,t){for(var n=[],r=Object.keys(t),i=0;i<r.length;i++){var a=e[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}(e.options.$animations,n).then((function(){e.options=n}),(function(){})),i}},{key:"_createAnimations",value:function(e,t){var n,r=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();for(n=o.length-1;n>=0;--n){var l=o[n];if("$"!==l.charAt(0))if("options"!==l){var u=t[l],c=a[l],h=r.get(l);if(c){if(h&&c.active()){c.update(h,u,s);continue}c.cancel()}h&&h.duration?(a[l]=c=new cI(h,e,l,u),i.push(c)):e[l]=u}else i.push.apply(i,m(this._animateOptions(e,t)))}return i}},{key:"update",value:function(e,t){if(0!==this._properties.size){var n=this._createAnimations(e,t);return n.length?(sI.add(this._chart,n),!0):void 0}Object.assign(e,t)}}]),e}();function dI(e,t){var n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:i,end:r?i:a}}function fI(e,t){var n,r,i=[],a=e._getSortedDatasetMetas(t);for(n=0,r=a.length;n<r;++n)i.push(a[n].index);return i}function pI(e,t,n){var r,i,a,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=e.keys,u="single"===s.mode;if(null!==t){for(r=0,i=l.length;r<i;++r){if((a=+l[r])===n){if(s.all)continue;break}xR(o=e.values[a])&&(u||0===t||QR(t)===QR(o))&&(t+=o)}return t}}function vI(e,t){var n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function mI(e,t,n){var r=e[t]||(e[t]={});return r[n]||(r[n]={})}function gI(e,t,n,r){var i,a=A(t.getMatchingVisibleMetas(r).reverse());try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e[o.index];if(n&&s>0||!n&&s<0)return o.index}}catch(l){a.e(l)}finally{a.f()}return null}function yI(e,t){for(var n,r=e.chart,i=e._cachedMeta,a=r._stacks||(r._stacks={}),o=i.iScale,s=i.vScale,l=i.index,u=o.axis,c=s.axis,h=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(o,s,i),d=t.length,f=0;f<d;++f){var p=t[f],v=p[u],m=p[c];(n=(p._stacks||(p._stacks={}))[c]=mI(a,h,v))[l]=m,n._top=gI(n,s,!0,i.type),n._bottom=gI(n,s,!1,i.type),(n._visualValues||(n._visualValues={}))[l]=m}}function bI(e,t){var n=e.scales;return Object.keys(n).filter((function(e){return n[e].axis===t})).shift()}function xI(e,t){var n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){var i,a=A(t=t||e._parsed);try{for(a.s();!(i=a.n()).done;){var o=i.value._stacks;if(!o||void 0===o[r]||void 0===o[r][n])return;delete o[r][n],void 0!==o[r]._visualValues&&void 0!==o[r]._visualValues[n]&&delete o[r]._visualValues[n]}}catch(s){a.e(s)}finally{a.f()}}}var _I=function(e){return"reset"===e||"none"===e},wI=function(e,t){return t?e:Object.assign({},e)},EI=function(){function e(t,n){g(this,e),this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=(this instanceof e?this.constructor:void 0).datasetElementType,this.dataElementType=(this instanceof e?this.constructor:void 0).dataElementType,this.initialize()}return b(e,[{key:"initialize",value:function(){var e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vI(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}},{key:"updateIndex",value:function(e){this.index!==e&&xI(this._cachedMeta),this.index=e}},{key:"linkScales",value:function(){var e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=function(e,t,n,r){return"x"===e?t:"r"===e?r:n},i=t.xAxisID=wR(n.xAxisID,bI(e,"x")),a=t.yAxisID=wR(n.yAxisID,bI(e,"y")),o=t.rAxisID=wR(n.rAxisID,bI(e,"r")),s=t.indexAxis,l=t.iAxisID=r(s,i,a,o),u=t.vAxisID=r(s,a,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(u)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(e){return this.chart.scales[e]}},{key:"_getOtherScale",value:function(e){var t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var e=this._cachedMeta;this._data&&pC(this._data,this),e._stacked&&xI(e)}},{key:"_dataCheck",value:function(){var e,t,n=this.getDataset(),r=n.data||(n.data=[]),i=this._data;if(bR(r))this._data=function(e){var t,n,r,i=Object.keys(e),a=new Array(i.length);for(t=0,n=i.length;t<n;++t)r=i[t],a[t]={x:r,y:e[r]};return a}(r);else if(i!==r){if(i){pC(i,this);var a=this._cachedMeta;xI(a),a._parsed=[]}r&&Object.isExtensible(r)&&(t=this,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),fC.forEach((function(t){var n="_onData"+LR(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=r.apply(this,i);return e._chartjs.listeners.forEach((function(e){"function"===typeof e[n]&&e[n].apply(e,i)})),o}})})))),this._syncList=[],this._data=r}}},{key:"addElements",value:function(){var e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(e){var t=this._cachedMeta,n=this.getDataset(),r=!1;this._dataCheck();var i=t._stacked;t._stacked=vI(t.vScale,t),t.stack!==n.stack&&(r=!0,xI(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&yI(this,t._parsed)}},{key:"configure",value:function(){var e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(e,t){var n,r,i,a=this._cachedMeta,o=this._data,s=a.iScale,l=a._stacked,u=s.axis,c=0===e&&t===o.length||a._sorted,h=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=o,a._sorted=!0,i=o;else{i=yR(o[e])?this.parseArrayData(a,o,e,t):bR(o[e])?this.parseObjectData(a,o,e,t):this.parsePrimitiveData(a,o,e,t);for(n=0;n<t;++n)a._parsed[n+e]=r=i[n],c&&((null===r[u]||h&&r[u]<h[u])&&(c=!1),h=r);a._sorted=c}l&&yI(this,i)}},{key:"parsePrimitiveData",value:function(e,t,n,r){var i,a,o,l=e.iScale,u=e.vScale,c=l.axis,h=u.axis,d=l.getLabels(),f=l===u,p=new Array(r);for(i=0,a=r;i<a;++i){var v;o=i+n,p[i]=(s(v={},c,f||l.parse(d[o],o)),s(v,h,u.parse(t[o],o)),v)}return p}},{key:"parseArrayData",value:function(e,t,n,r){var i,a,o,s,l=e.xScale,u=e.yScale,c=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],c[i]={x:l.parse(s[0],o),y:u.parse(s[1],o)};return c}},{key:"parseObjectData",value:function(e,t,n,r){var i,a,o,s,l=e.xScale,u=e.yScale,c=this._parsing,h=c.xAxisKey,d=void 0===h?"x":h,f=c.yAxisKey,p=void 0===f?"y":f,v=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],v[i]={x:l.parse(DR(s,d),o),y:u.parse(DR(s,p),o)};return v}},{key:"getParsed",value:function(e){return this._cachedMeta._parsed[e]}},{key:"getDataElement",value:function(e){return this._cachedMeta.data[e]}},{key:"applyStack",value:function(e,t,n){var r=this.chart,i=this._cachedMeta,a=t[e.axis];return pI({keys:fI(r,!0),values:t._stacks[e.axis]._visualValues},a,i.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(e,t,n,r){var i=n[t.axis],a=null===i?NaN:i,o=r&&n._stacks[t.axis];r&&o&&(r.values=o,a=pI(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}},{key:"getMinMax",value:function(e,t){var n,r,i=this._cachedMeta,a=i._parsed,o=i._sorted&&e===i.iScale,s=a.length,l=this._getOtherScale(e),u=function(e,t,n){return e&&!t.hidden&&t._stacked&&{keys:fI(n,!0),values:null}}(t,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},h=function(e){var t=e.getUserBounds(),n=t.min,r=t.max,i=t.minDefined,a=t.maxDefined;return{min:i?n:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}(l),d=h.min,f=h.max;function p(){var t=(r=a[n])[l.axis];return!xR(r[e.axis])||d>t||f<t}for(n=0;n<s&&(p()||(this.updateRangeFromParsed(c,e,r,u),!o));++n);if(o)for(n=s-1;n>=0;--n)if(!p()){this.updateRangeFromParsed(c,e,r,u);break}return c}},{key:"getAllParsedValues",value:function(e){var t,n,r,i=this._cachedMeta._parsed,a=[];for(t=0,n=i.length;t<n;++t)xR(r=i[t][e.axis])&&a.push(r);return a}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}},{key:"_update",value:function(e){var t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){var t,n,r,i;return bR(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(wR(this.options.clip,function(e,t,n){if(!1===n)return!1;var r=dI(e,n),i=dI(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}},{key:"update",value:function(e){}},{key:"draw",value:function(){var e,t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,o=[],s=this._drawStart||0,l=this._drawCount||i.length-s,u=this.options.drawActiveElementsOnTop;for(r.dataset&&r.dataset.draw(t,a,s,l),e=s;e<s+l;++e){var c=i[e];c.hidden||(c.active&&u?o.push(c):c.draw(t,a))}for(e=0;e<o.length;++e)o[e].draw(t,a)}},{key:"getStyle",value:function(e,t){var n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}},{key:"getContext",value:function(e,t,n){var r,i=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){var a=this._cachedMeta.data[e];r=a.$context||(a.$context=function(e,t,n){return dO(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return dO(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}},{key:"resolveDatasetElementOptions",value:function(e){return this._resolveElementOptions(this.datasetElementType.id,e)}},{key:"resolveDataElementOptions",value:function(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}},{key:"_resolveElementOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0,i="active"===n,a=this._cachedDataOpts,o=e+"-"+n,s=a[o],l=this.enableOptionSharing&&UR(r);if(s)return wI(s,l);var u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),f=Object.keys(BC.elements[e]),p=u.resolveNamedOptions(d,f,(function(){return t.getContext(r,i,n)}),h);return p.$shared&&(p.$shared=l,a[o]=Object.freeze(wI(p,l))),p}},{key:"_resolveAnimations",value:function(e,t,n){var r,i=this.chart,a=this._cachedDataOpts,o="animation-".concat(t),s=a[o];if(s)return s;if(!1!==i.options.animation){var l=this.chart.config,u=l.datasetAnimationScopeKeys(this._type,t),c=l.getOptionScopes(this.getDataset(),u);r=l.createResolver(c,this.getContext(e,n,t))}var h=new hI(i,r&&r.animations);return r&&r._cacheable&&(a[o]=Object.freeze(h)),h}},{key:"getSharedOptions",value:function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}},{key:"includeOptions",value:function(e,t){return!t||_I(e)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(e,t){var n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}},{key:"updateElement",value:function(e,t,n,r){_I(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}},{key:"updateSharedOptions",value:function(e,t,n){e&&!_I(t)&&this._resolveAnimations(void 0,t).update(e,n)}},{key:"_setStyle",value:function(e,t,n,r){e.active=r;var i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}},{key:"removeHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!1)}},{key:"setHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}},{key:"_resyncElements",value:function(e){var t,n=this._data,r=this._cachedMeta.data,i=A(this._syncList);try{for(i.s();!(t=i.n()).done;){var a=p(t.value,3),o=a[0],s=a[1],l=a[2];this[o](s,l)}}catch(d){i.e(d)}finally{i.f()}this._syncList=[];var u=r.length,c=n.length,h=Math.min(c,u);h&&this.parse(0,h),c>u?this._insertElements(u,c-u,e):c<u&&this._removeElements(c,u-c)}},{key:"_insertElements",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this._cachedMeta,a=i.data,o=e+t,s=function(e){for(e.length+=t,n=e.length-1;n>=o;n--)e[n]=e[n-t]};for(s(a),n=e;n<o;++n)a[n]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}},{key:"updateElements",value:function(e,t,n,r){}},{key:"_removeElements",value:function(e,t){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(e,t);n._stacked&&xI(n,r)}n.data.splice(e,t)}},{key:"_sync",value:function(e){if(this._parsing)this._syncList.push(e);else{var t=p(e,3),n=t[0],r=t[1],i=t[2];this[n](r,i)}this.chart._dataChanges.push([this.index].concat(m(e)))}},{key:"_onDataPush",value:function(){var e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(e,t){t&&this._sync(["_removeElements",e,t]);var n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),e}();function SI(e){var t,n,r,i,a=e.iScale,o=function(e,t){if(!e._cache.$bar){for(var n=e.getMatchingVisibleMetas(t),r=[],i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=vC(r.sort((function(e,t){return e-t})))}return e._cache.$bar}(a,e.type),s=a._length,l=function(){32767!==r&&-32768!==r&&(UR(i)&&(s=Math.min(s,Math.abs(r-i)||s)),i=r)};for(t=0,n=o.length;t<n;++t)r=a.getPixelForValue(o[t]),l();for(i=void 0,t=0,n=a.ticks.length;t<n;++t)r=a.getPixelForTick(t),l();return s}function TI(e,t,n,r){return yR(e)?function(e,t,n,r){var i=n.parse(e[0],r),a=n.parse(e[1],r),o=Math.min(i,a),s=Math.max(i,a),l=o,u=s;Math.abs(o)>Math.abs(s)&&(l=s,u=o),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:i,end:a,min:o,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function MI(e,t,n,r){var i,a,o,s,l=e.iScale,u=e.vScale,c=l.getLabels(),h=l===u,d=[];for(i=n,a=n+r;i<a;++i)s=t[i],(o={})[l.axis]=h||l.parse(c[i],i),d.push(TI(s,o,u,i));return d}function kI(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function AI(e,t,n,r){var i=t.borderSkipped,a={};if(i)if(!0!==i){var o=function(e){var t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}(e),s=o.start,l=o.end,u=o.reverse,c=o.top,h=o.bottom;"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=h:(a[RI(h,s,l,u)]=!0,i=c)),a[RI(i,s,l,u)]=!0,e.borderSkipped=a}else e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};else e.borderSkipped=a}function RI(e,t,n,r){var i,a,o;return r?(o=n,e=CI(e=(i=e)===(a=t)?o:i===o?a:i,n,t)):e=CI(e,t,n),e}function CI(e,t,n){return"start"===e?t:"end"===e?n:e}function OI(e,t,n){var r=t.inflateAmount;e.inflateAmount="auto"===r?1===n?.33:0:r}s(EI,"defaults",{}),s(EI,"datasetElementType",null),s(EI,"dataElementType",null);var II=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"parsePrimitiveData",value:function(e,t,n,r){return MI(e,t,n,r)}},{key:"parseArrayData",value:function(e,t,n,r){return MI(e,t,n,r)}},{key:"parseObjectData",value:function(e,t,n,r){var i,a,o,s,l=e.iScale,u=e.vScale,c=this._parsing,h=c.xAxisKey,d=void 0===h?"x":h,f=c.yAxisKey,p=void 0===f?"y":f,v="x"===l.axis?d:p,m="x"===u.axis?d:p,g=[];for(i=n,a=n+r;i<a;++i)s=t[i],(o={})[l.axis]=l.parse(DR(s,v),i),g.push(TI(DR(s,m),o,u,i));return g}},{key:"updateRangeFromParsed",value:function(e,t,r,i){py(w(n.prototype),"updateRangeFromParsed",this).call(this,e,t,r,i);var a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e),a=i._custom,o=kI(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,py(w(n.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(e){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this.index,o=this._cachedMeta.vScale,s=o.getBasePixel(),l=o.isHorizontal(),u=this._getRuler(),c=this._getSharedOptions(t,r),h=c.sharedOptions,d=c.includeOptions,f=t;f<t+n;f++){var p=this.getParsed(f),v=i||gR(p[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),g=(p._stacks||{})[o.axis],y={horizontal:l,base:v.base,enableBorderRadius:!g||kI(p._custom)||a===g._top||a===g._bottom,x:l?v.head:m.center,y:l?m.center:v.head,height:l?m.size:Math.abs(v.size),width:l?Math.abs(v.size):m.size};d&&(y.options=h||this.resolveDataElementOptions(f,e[f].active?"active":r));var b=y.options||e[f].options;AI(y,b,g,a),OI(y,b,u.ratio),this.updateElement(e[f],f,y,r)}}},{key:"_getStacks",value:function(e,t){var n,r=this._cachedMeta.iScale,i=r.getMatchingVisibleMetas(this._type).filter((function(e){return e.controller.options.grouped})),a=r.options.stacked,o=[],s=function(e){var n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if(gR(r)||isNaN(r))return!0},l=A(i);try{for(l.s();!(n=l.n()).done;){var u=n.value;if((void 0===t||!s(u))&&((!1===a||-1===o.indexOf(u.stack)||void 0===a&&void 0===u.stack)&&o.push(u.stack),u.index===e))break}}catch(c){l.e(c)}finally{l.f()}return o.length||o.push(void 0),o}},{key:"_getStackCount",value:function(e){return this._getStacks(void 0,e).length}},{key:"_getStackIndex",value:function(e,t,n){var r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}},{key:"_getRuler",value:function(){var e,t,n=this.options,r=this._cachedMeta,i=r.iScale,a=[];for(e=0,t=r.data.length;e<t;++e)a.push(i.getPixelForValue(this.getParsed(e)[i.axis],e));var o=n.barThickness;return{min:o||SI(r),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:n.grouped,ratio:o?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(e){var t,n,r=this._cachedMeta,i=r.vScale,a=r._stacked,o=r.index,s=this.options,l=s.base,u=s.minBarLength,c=l||0,h=this.getParsed(e),d=h._custom,f=kI(d),p=h[i.axis],v=0,m=a?this.applyStack(i,h,a):p;m!==p&&(v=m-p,m=p),f&&(p=d.barStart,m=d.barEnd-d.barStart,0!==p&&QR(p)!==QR(d.barEnd)&&(v=0),v+=p);var g=gR(l)||f?v:l,y=i.getPixelForValue(g);if(n=(t=this.chart.getDataVisibility(e)?i.getPixelForValue(v+m):y)-y,Math.abs(n)<u){n=function(e,t,n){return 0!==e?QR(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(n,i,c)*u,p===c&&(y-=n/2);var b=i.getPixelForDecimal(0),x=i.getPixelForDecimal(1),_=Math.min(b,x),w=Math.max(b,x);t=(y=Math.max(Math.min(y,w),_))+n,a&&!f&&(h._stacks[i.axis]._visualValues[o]=i.getValueForPixel(t)-i.getValueForPixel(y))}if(y===i.getPixelForValue(c)){var E=QR(n)*i.getLineWidthForValue(c)/2;y+=E,n-=E}return{size:n,base:y,head:t,center:t+n/2}}},{key:"_calculateBarIndexPixels",value:function(e,t){var n,r,i=t.scale,a=this.options,o=a.skipNull,s=wR(a.maxBarThickness,1/0);if(t.grouped){var l=o?this._getStackCount(e):t.stackCount,u="flex"===a.barThickness?function(e,t,n,r){var i=t.pixels,a=i[e],o=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null,l=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);var u=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/r,ratio:n.barPercentage,start:u}}(e,t,a,l):function(e,t,n,r){var i,a,o=n.barThickness;return gR(o)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=o*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}(e,t,a,l),c=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);n=u.start+u.chunk*c+u.chunk/2,r=Math.min(s,u.chunk*u.ratio)}else n=i.getPixelForValue(this.getParsed(e)[i.axis],e),r=Math.min(s,t.min*t.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}},{key:"draw",value:function(){for(var e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length,i=0;i<r;++i)null!==this.getParsed(i)[t.axis]&&n[i].draw(this._ctx)}}]),n}(EI);s(II,"id","bar"),s(II,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),s(II,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var PI=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,py(w(n.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(e,t,r,i){for(var a=py(w(n.prototype),"parsePrimitiveData",this).call(this,e,t,r,i),o=0;o<a.length;o++)a[o]._custom=this.resolveDataElementOptions(o+r).radius;return a}},{key:"parseArrayData",value:function(e,t,r,i){for(var a=py(w(n.prototype),"parseArrayData",this).call(this,e,t,r,i),o=0;o<a.length;o++){var s=t[r+o];a[o]._custom=wR(s[2],this.resolveDataElementOptions(o+r).radius)}return a}},{key:"parseObjectData",value:function(e,t,r,i){for(var a=py(w(n.prototype),"parseObjectData",this).call(this,e,t,r,i),o=0;o<a.length;o++){var s=t[r+o];a[o]._custom=wR(s&&s.r&&+s.r,this.resolveDataElementOptions(o+r).radius)}return a}},{key:"getMaxOverflow",value:function(){for(var e=this._cachedMeta.data,t=0,n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],r=t.xScale,i=t.yScale,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+o+", "+s+(l?", "+l:"")+")"}}},{key:"update",value:function(e){var t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,l=this._getSharedOptions(t,r),u=l.sharedOptions,c=l.includeOptions,h=o.axis,d=s.axis,f=t;f<t+n;f++){var p=e[f],v=!i&&this.getParsed(f),m={},g=m[h]=i?o.getPixelForDecimal(.5):o.getPixelForValue(v[h]),y=m[d]=i?s.getBasePixel():s.getPixelForValue(v[d]);m.skip=isNaN(g)||isNaN(y),c&&(m.options=u||this.resolveDataElementOptions(f,p.active?"active":r),i&&(m.options.radius=0)),this.updateElement(p,f,m,r)}}},{key:"resolveDataElementOptions",value:function(e,t){var r=this.getParsed(e),i=py(w(n.prototype),"resolveDataElementOptions",this).call(this,e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));var a=i.radius;return"active"!==t&&(i.radius=0),i.radius+=wR(r&&r._custom,a),i}}]),n}(EI);s(PI,"id","bubble"),s(PI,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),s(PI,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});var NI=function(e){_(n,e);var t=T(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).enableOptionSharing=!0,i.innerRadius=void 0,i.outerRadius=void 0,i.offsetX=void 0,i.offsetY=void 0,i}return b(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(e,t){var n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{var i,a,o=function(e){return+n[e]};if(bR(n[e])){var s=this._parsing.key,l=void 0===s?"value":s;o=function(e){return+DR(n[e],l)}}for(i=e,a=e+t;i<a;++i)r._parsed[i]=o(i)}}},{key:"_getRotation",value:function(){return eC(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return eC(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var e=zR,t=-zR,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){var r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}},{key:"update",value:function(e){var t,n,r=this.chart.chartArea,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min((t=this.options.cutout,n=s,"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/n),1),u=this._getRingWeight(this.index),c=this._getRotationExtents(),h=c.circumference,d=function(e,t,n){var r=1,i=1,a=0,o=0;if(t<zR){var s=e,l=s+t,u=Math.cos(s),c=Math.sin(s),h=Math.cos(l),d=Math.sin(l),f=function(e,t,r){return sC(e,s,l,!0)?1:Math.max(t,t*n,r,r*n)},p=function(e,t,r){return sC(e,s,l,!0)?-1:Math.min(t,t*n,r,r*n)},v=f(0,u,h),m=f(GR,c,d),g=p(BR,u,h),y=p(BR+GR,c,d);r=(v-g)/2,i=(m-y)/2,a=-(v+g)/2,o=-(m+y)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:o}}(c.rotation,h,l),f=d.ratioX,p=d.ratioY,v=d.offsetX,m=d.offsetY,g=(r.width-o)/f,y=(r.height-o)/p,b=Math.max(Math.min(g,y)/2,0),x=ER(this.options.radius,b),_=(x-Math.max(x*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=v*x,this.offsetY=m*x,i.total=this.calculateTotal(),this.outerRadius=x-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(a,0,a.length,e)}},{key:"_circumference",value:function(e,t){var n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/zR)}},{key:"updateElements",value:function(e,t,n,r){var i,a="reset"===r,o=this.chart,s=o.chartArea,l=o.options.animation,u=(s.left+s.right)/2,c=(s.top+s.bottom)/2,h=a&&l.animateScale,d=h?0:this.innerRadius,f=h?0:this.outerRadius,p=this._getSharedOptions(t,r),v=p.sharedOptions,m=p.includeOptions,g=this._getRotation();for(i=0;i<t;++i)g+=this._circumference(i,a);for(i=t;i<t+n;++i){var y=this._circumference(i,a),b=e[i],x={x:u+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+y,circumference:y,outerRadius:f,innerRadius:d};m&&(x.options=v||this.resolveDataElementOptions(i,b.active?"active":r)),g+=y,this.updateElement(b,i,x,r)}}},{key:"calculateTotal",value:function(){var e,t=this._cachedMeta,n=t.data,r=0;for(e=0;e<n.length;e++){var i=t._parsed[e];null===i||isNaN(i)||!this.chart.getDataVisibility(e)||n[e].hidden||(r+=Math.abs(i))}return r}},{key:"calculateCircumference",value:function(e){var t=this._cachedMeta.total;return t>0&&!isNaN(e)?zR*(Math.abs(e)/t):0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=IC(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}},{key:"getMaxBorderWidth",value:function(e){var t,n,r,i,a,o=0,s=this.chart;if(!e)for(t=0,n=s.data.datasets.length;t<n;++t)if(s.isDatasetVisible(t)){e=(r=s.getDatasetMeta(t)).data,i=r.controller;break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)"inner"!==(a=i.resolveDataElementOptions(t)).borderAlign&&(o=Math.max(o,a.borderWidth||0,a.hoverBorderWidth||0));return o}},{key:"getMaxOffset",value:function(e){for(var t=0,n=0,r=e.length;n<r;++n){var i=this.resolveDataElementOptions(n);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}},{key:"_getRingWeightOffset",value:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}},{key:"_getRingWeight",value:function(e){return Math.max(wR(this.chart.data.datasets[e].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(EI);s(NI,"id","doughnut"),s(NI,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),s(NI,"descriptors",{_scriptable:function(e){return"spacing"!==e},_indexable:function(e){return"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}}),s(NI,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,r=n.pointStyle,i=n.color;return t.labels.map((function(t,n){var a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});var DI=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,py(w(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data,i=void 0===r?[]:r,a=t._dataset,o=this.chart._animationsDisabled,s=xC(t,i,o),l=s.start,u=s.count;this._drawStart=l,this._drawCount=u,_C(t)&&(l=0,u=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;var c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:c},e),this.updateElements(i,l,u,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,l=a._stacked,u=a._dataset,c=this._getSharedOptions(t,r),h=c.sharedOptions,d=c.includeOptions,f=o.axis,p=s.axis,v=this.options,m=v.spanGaps,g=v.segment,y=JR(m)?m:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===r,x=t+n,_=e.length,w=t>0&&this.getParsed(t-1),E=0;E<_;++E){var S=e[E],T=b?S:{};if(E<t||E>=x)T.skip=!0;else{var M=this.getParsed(E),k=gR(M[p]),A=T[f]=o.getPixelForValue(M[f],E),R=T[p]=i||k?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,M,l):M[p],E);T.skip=isNaN(A)||isNaN(R)||k,T.stop=E>0&&Math.abs(M[f]-w[f])>y,g&&(T.parsed=M,T.raw=u.data[E]),d&&(T.options=h||this.resolveDataElementOptions(E,S.active?"active":r)),b||this.updateElement(S,E,T,r),w=M}}}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;var i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,a)/2}},{key:"draw",value:function(){var e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),py(w(n.prototype),"draw",this).call(this)}}]),n}(EI);s(DI,"id","line"),s(DI,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),s(DI,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var LI=function(e){_(n,e);var t=T(n);function n(e,r){var i;return g(this,n),(i=t.call(this,e,r)).innerRadius=void 0,i.outerRadius=void 0,i}return b(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=IC(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}},{key:"parseObjectData",value:function(e,t,n,r){return MO.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}},{key:"getMinMax",value:function(){var e=this,t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((function(t,r){var i=e.getParsed(r).r;!isNaN(i)&&e.chart.getDataVisibility(r)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))})),n}},{key:"_updateRadius",value:function(){var e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),a=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}},{key:"updateElements",value:function(e,t,n,r){var i,a="reset"===r,o=this.chart,s=o.options.animation,l=this._cachedMeta.rScale,u=l.xCenter,c=l.yCenter,h=l.getIndexAngle(0)-.5*BR,d=h,f=360/this.countVisibleElements();for(i=0;i<t;++i)d+=this._computeAngle(i,r,f);for(i=t;i<t+n;i++){var p=e[i],v=d,m=d+this._computeAngle(i,r,f),g=o.getDataVisibility(i)?l.getDistanceFromCenterForValue(this.getParsed(i).r):0;d=m,a&&(s.animateScale&&(g=0),s.animateRotate&&(v=m=h));var y={x:u,y:c,innerRadius:0,outerRadius:g,startAngle:v,endAngle:m,options:this.resolveDataElementOptions(i,p.active?"active":r)};this.updateElement(p,i,y,r)}}},{key:"countVisibleElements",value:function(){var e=this,t=this._cachedMeta,n=0;return t.data.forEach((function(t,r){!isNaN(e.getParsed(r).r)&&e.chart.getDataVisibility(r)&&n++})),n}},{key:"_computeAngle",value:function(e,t,n){return this.chart.getDataVisibility(e)?eC(this.resolveDataElementOptions(e,t).angle||n):0}}]),n}(EI);s(LI,"id","polarArea"),s(LI,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),s(LI,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,r=n.pointStyle,i=n.color;return t.labels.map((function(t,n){var a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var UI=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n)}(NI);s(UI,"id","pie"),s(UI,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var FI=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}},{key:"parseObjectData",value:function(e,t,n,r){return MO.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){var a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);var o={_loop:!0,_fullLoop:i.length===r.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i=this._cachedMeta.rScale,a="reset"===r,o=t;o<t+n;o++){var s=e[o],l=this.resolveDataElementOptions(o,s.active?"active":r),u=i.getPointPositionForValue(o,this.getParsed(o).r),c=a?i.xCenter:u.x,h=a?i.yCenter:u.y,d={x:c,y:h,angle:u.angle,skip:isNaN(c)||isNaN(h),options:l};this.updateElement(s,o,d,r)}}}]),n}(EI);s(FI,"id","radar"),s(FI,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),s(FI,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var jI=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],r=t.xScale,i=t.yScale,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+s+")"}}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.data,r=void 0===n?[]:n,i=this.chart._animationsDisabled,a=xC(t,r,i),o=a.start,s=a.count;if(this._drawStart=o,this._drawCount=s,_C(t)&&(o=0,s=r.length),this.options.showLine){this.datasetElementType||this.addElements();var l=t.dataset,u=t._dataset;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=r;var c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,o,s,e)}},{key:"addElements",value:function(){var e=this.options.showLine;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),py(w(n.prototype),"addElements",this).call(this)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,l=a._stacked,u=a._dataset,c=this.resolveDataElementOptions(t,r),h=this.getSharedOptions(c),d=this.includeOptions(r,h),f=o.axis,p=s.axis,v=this.options,m=v.spanGaps,g=v.segment,y=JR(m)?m:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===r,x=t>0&&this.getParsed(t-1),_=t;_<t+n;++_){var w=e[_],E=this.getParsed(_),S=b?w:{},T=gR(E[p]),M=S[f]=o.getPixelForValue(E[f],_),k=S[p]=i||T?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,E,l):E[p],_);S.skip=isNaN(M)||isNaN(k)||T,S.stop=_>0&&Math.abs(E[f]-x[f])>y,g&&(S.parsed=E,S.raw=u.data[_]),d&&(S.options=h||this.resolveDataElementOptions(_,w.active?"active":r)),b||this.updateElement(w,_,S,r),x=E}this.updateSharedOptions(h,r,c)}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){for(var n=0,r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}var i=e.dataset,a=i.options&&i.options.borderWidth||0;if(!t.length)return a;var o=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,o,s)/2}}]),n}(EI);s(jI,"id","scatter"),s(jI,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),s(jI,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var BI=Object.freeze({__proto__:null,BarController:II,BubbleController:PI,DoughnutController:NI,LineController:DI,PieController:UI,PolarAreaController:LI,RadarController:FI,ScatterController:jI});function zI(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var VI={_date:function(){function e(t){g(this,e),s(this,"options",void 0),this.options=t||{}}return b(e,[{key:"init",value:function(){}},{key:"formats",value:function(){return zI()}},{key:"parse",value:function(){return zI()}},{key:"format",value:function(){return zI()}},{key:"add",value:function(){return zI()}},{key:"diff",value:function(){return zI()}},{key:"startOf",value:function(){return zI()}},{key:"endOf",value:function(){return zI()}}],[{key:"override",value:function(t){Object.assign(e.prototype,t)}}]),e}()};function HI(e,t,n,r){var i=e.controller,a=e.data,o=e._sorted,s=i._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&o&&a.length){var l=s._reversePixels?dC:hC;if(!r)return l(a,t,n);if(i._sharedOptions){var u=a[0],c="function"===typeof u.getRange&&u.getRange(t);if(c){var h=l(a,t,n-c),d=l(a,t,n+c);return{lo:h.lo,hi:d.hi}}}}return{lo:0,hi:a.length-1}}function WI(e,t,n,r,i){for(var a=e.getSortedVisibleDatasetMetas(),o=n[t],s=0,l=a.length;s<l;++s)for(var u=a[s],c=u.index,h=u.data,d=HI(a[s],t,o,i),f=d.lo,p=d.hi,v=f;v<=p;++v){var m=h[v];m.skip||r(m,c,v)}}function GI(e,t,n,r,i){var a=[];if(!i&&!e.isPointInArea(t))return a;return WI(e,n,t,(function(n,o,s){(i||XC(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:o,index:s})}),!0),a}function qI(e,t,n,r,i,a){var o=[],s=function(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(n),l=Number.POSITIVE_INFINITY;return WI(e,n,t,(function(n,u,c){var h=n.inRange(t.x,t.y,i);if(!r||h){var d=n.getCenterPoint(i);if(!!a||e.isPointInArea(d)||h){var f=s(t,d);f<l?(o=[{element:n,datasetIndex:u,index:c}],l=f):f===l&&o.push({element:n,datasetIndex:u,index:c})}}})),o}function XI(e,t,n,r,i,a){return a||e.isPointInArea(t)?"r"!==n||r?qI(e,t,n,r,i,a):function(e,t,n,r){var i=[];return WI(e,n,t,(function(e,n,a){var o=e.getProps(["startAngle","endAngle"],r),s=o.startAngle,l=o.endAngle;sC(rC(e,{x:t.x,y:t.y}).angle,s,l)&&i.push({element:e,datasetIndex:n,index:a})})),i}(e,t,n,i):[]}function YI(e,t,n,r,i){var a=[],o="x"===n?"inXRange":"inYRange",s=!1;return WI(e,n,t,(function(e,r,l){e[o](t[n],i)&&(a.push({element:e,datasetIndex:r,index:l}),s=s||e.inRange(t.x,t.y,i))})),r&&!s?[]:a}var QI={evaluateInteractionItems:WI,modes:{index:function(e,t,n,r){var i=zO(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?GI(e,i,a,r,o):XI(e,i,a,!1,r,o),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((function(e){var t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset:function(e,t,n,r){var i=zO(t,e),a=n.axis||"xy",o=n.includeInvisible||!1,s=n.intersect?GI(e,i,a,r,o):XI(e,i,a,!1,r,o);if(s.length>0){var l=s[0].datasetIndex,u=e.getDatasetMeta(l).data;s=[];for(var c=0;c<u.length;++c)s.push({element:u[c],datasetIndex:l,index:c})}return s},point:function(e,t,n,r){return GI(e,zO(t,e),n.axis||"xy",r,n.includeInvisible||!1)},nearest:function(e,t,n,r){var i=zO(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return XI(e,i,a,n.intersect,r,o)},x:function(e,t,n,r){return YI(e,zO(t,e),"x",n.intersect,r)},y:function(e,t,n,r){return YI(e,zO(t,e),"y",n.intersect,r)}}},KI=["left","top","right","bottom"];function $I(e,t){return e.filter((function(e){return e.pos===t}))}function JI(e,t){return e.filter((function(e){return-1===KI.indexOf(e.pos)&&e.box.axis===t}))}function ZI(e,t){return e.sort((function(e,n){var r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function eP(e,t){var n,r,i,a=function(e){var t,n={},r=A(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.stack,o=i.pos,s=i.stackWeight;if(a&&KI.includes(o)){var l=n[a]||(n[a]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}}}catch(u){r.e(u)}finally{r.f()}return n}(e),o=t.vBoxMaxWidth,s=t.hBoxMaxHeight;for(n=0,r=e.length;n<r;++n){var l=(i=e[n]).box.fullSize,u=a[i.stack],c=u&&i.stackWeight/u.weight;i.horizontal?(i.width=c?c*o:l&&t.availableWidth,i.height=s):(i.width=o,i.height=c?c*s:l&&t.availableHeight)}return a}function tP(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function nP(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function rP(e,t,n,r){var i=n.pos,a=n.box,o=e.maxPadding;if(!bR(i)){n.size&&(e[i]-=n.size);var s=r[n.stack]||{size:0,count:1};s.size=Math.max(s.size,n.horizontal?a.height:a.width),n.size=s.size/s.count,e[i]+=n.size}a.getPadding&&nP(o,a.getPadding());var l=Math.max(0,t.outerWidth-tP(o,e,"left","right")),u=Math.max(0,t.outerHeight-tP(o,e,"top","bottom")),c=l!==e.w,h=u!==e.h;return e.w=l,e.h=u,n.horizontal?{same:c,other:h}:{same:h,other:c}}function iP(e,t){var n=t.maxPadding;function r(e){var r={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function aP(e,t,n,r){var i,a,o,s,l,u,c=[];for(i=0,a=e.length,l=0;i<a;++i){(s=(o=e[i]).box).update(o.width||t.w,o.height||t.h,iP(o.horizontal,t));var h=rP(t,n,o,r),d=h.same,f=h.other;l|=d&&c.length,u=u||f,s.fullSize||c.push(o)}return l&&aP(c,t,n,r)||u}function oP(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function sP(e,t,n,r){var i,a=n.padding,o=t.x,s=t.y,l=A(e);try{for(l.s();!(i=l.n()).done;){var u=i.value,c=u.box,h=r[u.stack]||{count:1,placed:0,weight:1},d=u.stackWeight/h.weight||1;if(u.horizontal){var f=t.w*d,p=h.size||c.height;UR(h.start)&&(s=h.start),c.fullSize?oP(c,a.left,s,n.outerWidth-a.right-a.left,p):oP(c,t.left+h.placed,s,f,p),h.start=s,h.placed+=f,s=c.bottom}else{var v=t.h*d,m=h.size||c.width;UR(h.start)&&(o=h.start),c.fullSize?oP(c,o,a.top,m,n.outerHeight-a.bottom-a.top):oP(c,o,t.top+h.placed,m,v),h.start=o,h.placed+=v,o=c.right}}}catch(g){l.e(g)}finally{l.f()}t.x=o,t.y=s}var lP=function(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(e){t.draw(e)}}]},e.boxes.push(t)},uP=function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},cP=function(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},hP=function(e,t,n,r){if(e){var i=uO(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(n-i.height,0),s=function(e){var t=function(e){var t,n,r,i,a,o,s=[];for(t=0,n=(e||[]).length;t<n;++t){var l=r=e[t];i=l.position;var u=l.options;a=u.stack;var c=u.stackWeight;o=void 0===c?1:c,s.push({index:t,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:o})}return s}(e),n=ZI(t.filter((function(e){return e.box.fullSize})),!0),r=ZI($I(t,"left"),!0),i=ZI($I(t,"right")),a=ZI($I(t,"top"),!0),o=ZI($I(t,"bottom")),s=JI(t,"x"),l=JI(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(l).concat(o).concat(s),chartArea:$I(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:a.concat(o).concat(s)}}(e.boxes),l=s.vertical,u=s.horizontal;TR(e.boxes,(function(e){"function"===typeof e.beforeLayout&&e.beforeLayout()}));var c=l.reduce((function(e,t){return t.box.options&&!1===t.box.options.display?e:e+1}),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},i);nP(d,uO(r));var f=Object.assign({maxPadding:d,w:a,h:o,x:i.left,y:i.top},i),p=eP(l.concat(u),h);aP(s.fullSize,f,h,p),aP(l,f,h,p),aP(u,f,h,p)&&aP(l,f,h,p),function(e){var t=e.maxPadding;function n(n){var r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),sP(s.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,sP(s.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},TR(s.chartArea,(function(t){var n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}},dP=function(){function e(){g(this,e)}return b(e,[{key:"acquireContext",value:function(e,t){}},{key:"releaseContext",value:function(e){return!1}},{key:"addEventListener",value:function(e,t,n){}},{key:"removeEventListener",value:function(e,t,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}},{key:"isAttached",value:function(e){return!0}},{key:"updateConfig",value:function(e){}}]),e}(),fP=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}]),n}(dP),pP="$chartjs",vP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mP=function(e){return null===e||""===e};var gP=!!GO&&{passive:!0};function yP(e,t,n){e.canvas.removeEventListener(t,n,gP)}function bP(e,t){var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i===t||i.contains(t))return!0}}catch(a){r.e(a)}finally{r.f()}}function xP(e,t,n){var r=e.canvas,i=new MutationObserver((function(e){var t,i=!1,a=A(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i=(i=i||bP(o.addedNodes,r))&&!bP(o.removedNodes,r)}}catch(s){a.e(s)}finally{a.f()}i&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function _P(e,t,n){var r=e.canvas,i=new MutationObserver((function(e){var t,i=!1,a=A(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i=(i=i||bP(o.removedNodes,r))&&!bP(o.addedNodes,r)}}catch(s){a.e(s)}finally{a.f()}i&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}var wP=new Map,EP=0;function SP(){var e=window.devicePixelRatio;e!==EP&&(EP=e,wP.forEach((function(t,n){n.currentDevicePixelRatio!==e&&t()})))}function TP(e,t,n){var r=e.canvas,i=r&&DO(r);if(i){var a=gC((function(e,t){var r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),o=new ResizeObserver((function(e){var t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)}));return o.observe(i),function(e,t){wP.size||window.addEventListener("resize",SP),wP.set(e,t)}(e,a),o}}function MP(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){wP.delete(e),wP.size||window.removeEventListener("resize",SP)}(e)}function kP(e,t,n){var r=e.canvas,i=gC((function(t){null!==e.ctx&&n(function(e,t){var n=vP[e.type]||e.type,r=zO(e,t),i=r.x,a=r.y;return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==a?a:null}}(t,e))}),e);return function(e,t,n){e.addEventListener(t,n,gP)}(r,t,i),i}var AP=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"acquireContext",value:function(e,t){var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[pP]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mP(i)){var a=qO(e,"width");void 0!==a&&(e.width=a)}if(mP(r))if(""===e.style.height)e.height=e.width/(t||2);else{var o=qO(e,"height");void 0!==o&&(e.height=o)}}(e,t),n):null}},{key:"releaseContext",value:function(e){var t=e.canvas;if(!t[pP])return!1;var n=t[pP].initial;["height","width"].forEach((function(e){var r=n[e];gR(r)?t.removeAttribute(e):t.setAttribute(e,r)}));var r=n.style||{};return Object.keys(r).forEach((function(e){t.style[e]=r[e]})),t.width=t.width,delete t[pP],!0}},{key:"addEventListener",value:function(e,t,n){this.removeEventListener(e,t);var r=e.$proxies||(e.$proxies={}),i={attach:xP,detach:_P,resize:TP}[t]||kP;r[t]=i(e,t,n)}},{key:"removeEventListener",value:function(e,t){var n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:MP,detach:MP,resize:MP}[t]||yP)(e,t,r),n[t]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(e,t,n,r){return HO(e,t,n,r)}},{key:"isAttached",value:function(e){var t=DO(e);return!(!t||!t.isConnected)}}]),n}(dP);var RP=function(){function e(){g(this,e),s(this,"x",void 0),s(this,"y",void 0),s(this,"active",!1),s(this,"options",void 0),s(this,"$animations",void 0)}return b(e,[{key:"tooltipPosition",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return JR(this.x)&&JR(this.y)}},{key:"getProps",value:function(e,t){var n=this,r=this.$animations;if(!t||!r)return this;var i={};return e.forEach((function(e){i[e]=r[e]&&r[e].active()?r[e]._to:n[e]})),i}}]),e}();function CP(e,t){var n=e.options.ticks,r=function(e){var t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?function(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].major&&r.push(t);return r}(t):[],o=a.length,s=a[0],l=a[o-1],u=[];if(o>i)return function(e,t,n,r){var i,a=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),o=n[++a*r])}(t,u,a,o/i),u;var c=function(e,t,n){var r=function(e){var t,n,r=e.length;if(r<2)return!1;for(n=e[0],t=1;t<r;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),i=t.length/n;if(!r)return Math.max(i,1);for(var a=function(e){var t,n=[],r=Math.sqrt(e);for(t=1;t<r;t++)e%t===0&&(n.push(t),n.push(e/t));return r===(0|r)&&n.push(r),n.sort((function(e,t){return e-t})).pop(),n}(r),o=0,s=a.length-1;o<s;o++){var l=a[o];if(l>i)return l}return Math.max(i,1)}(a,t,i);if(o>0){var h,d,f=o>1?Math.round((l-s)/(o-1)):null;for(OP(t,u,c,gR(f)?0:s-f,s),h=0,d=o-1;h<d;h++)OP(t,u,c,a[h],a[h+1]);return OP(t,u,c,l,gR(f)?t.length:l+f),u}return OP(t,u,c),u}function OP(e,t,n,r,i){var a,o,s,l=wR(r,0),u=Math.min(wR(i,e.length),e.length),c=0;for(n=Math.ceil(n),i&&(n=(a=i-r)/Math.floor(a/n)),s=l;s<0;)c++,s=Math.round(l+c*n);for(o=Math.max(l,0);o<u;o++)o===s&&(t.push(e[o]),c++,s=Math.round(l+c*n))}s(RP,"defaults",{}),s(RP,"defaultRoutes",void 0);var IP=function(e,t,n){return"top"===t||"left"===t?e[t]+n:e[t]-n},PP=function(e,t){return Math.min(t||e,e)};function NP(e,t){for(var n=[],r=e.length/t,i=e.length,a=0;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function DP(e,t,n){var r,i=e.ticks.length,a=Math.min(t,i-1),o=e._startPixel,s=e._endPixel,l=1e-6,u=e.getPixelForTick(a);if(!(n&&(r=1===i?Math.max(u-o,s-u):0===t?(e.getPixelForTick(1)-u)/2:(u-e.getPixelForTick(a-1))/2,(u+=a<t?r:-r)<o-l||u>s+l)))return u}function LP(e){return e.drawTicks?e.tickLength:0}function UP(e,t){if(!e.display)return 0;var n=cO(e.font,t),r=uO(e.padding);return(yR(e.text)?e.text.length:1)*n.lineHeight+r.height}function FP(e,t,n){var r=yC(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=function(e){return"left"===e?"right":"right"===e?"left":e}(r)),r}var jP=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).id=e.id,r.type=e.type,r.options=void 0,r.ctx=e.ctx,r.chart=e.chart,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r._margins={left:0,right:0,top:0,bottom:0},r.maxWidth=void 0,r.maxHeight=void 0,r.paddingTop=void 0,r.paddingBottom=void 0,r.paddingLeft=void 0,r.paddingRight=void 0,r.axis=void 0,r.labelRotation=void 0,r.min=void 0,r.max=void 0,r._range=void 0,r.ticks=[],r._gridLineItems=null,r._labelItems=null,r._labelSizes=null,r._length=0,r._maxLength=0,r._longestTextCache={},r._startPixel=void 0,r._endPixel=void 0,r._reversePixels=!1,r._userMax=void 0,r._userMin=void 0,r._suggestedMax=void 0,r._suggestedMin=void 0,r._ticksLength=0,r._borderValue=0,r._cache={},r._dataLimitsCached=!1,r.$context=void 0,r}return b(n,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e,t){return e}},{key:"getUserBounds",value:function(){var e=this._userMin,t=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return e=_R(e,Number.POSITIVE_INFINITY),t=_R(t,Number.NEGATIVE_INFINITY),n=_R(n,Number.POSITIVE_INFINITY),r=_R(r,Number.NEGATIVE_INFINITY),{min:_R(e,n),max:_R(t,r),minDefined:xR(e),maxDefined:xR(t)}}},{key:"getMinMax",value:function(e){var t,n=this.getUserBounds(),r=n.min,i=n.max,a=n.minDefined,o=n.maxDefined;if(a&&o)return{min:r,max:i};for(var s=this.getMatchingVisibleMetas(),l=0,u=s.length;l<u;++l)t=s[l].controller.getMinMax(this,e),a||(r=Math.min(r,t.min)),o||(i=Math.max(i,t.max));return{min:_R(r=o&&r>i?i:r,_R(i=a&&r>i?r:i,r)),max:_R(i,_R(r,i))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"getLabelItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){SR(this.options.beforeUpdate,[this])}},{key:"update",value:function(e,t,n){var r=this.options,i=r.beginAtZero,a=r.grace,o=r.ticks,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){var r=e.min,i=e.max,a=ER(t,(i-r)/2),o=function(e,t){return n&&0===e?0:e+t};return{min:o(r,-Math.abs(a)),max:o(i,a)}}(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var l=s<this.ticks.length;this._convertTicksToLabels(l?NP(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=CP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){SR(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){SR(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){SR(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),SR(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){SR(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(e){var t,n,r,i=this.options.ticks;for(t=0,n=e.length;t<n;t++)(r=e[t]).label=SR(i.callback,[r.value,t,e],this)}},{key:"afterTickToLabelConversion",value:function(){SR(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){SR(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var e,t,n,r=this.options,i=r.ticks,a=PP(this.ticks.length,r.ticks.maxTicksLimit),o=i.minRotation||0,s=i.maxRotation,l=o;if(!this._isVisible()||!i.display||o>=s||a<=1||!this.isHorizontal())this.labelRotation=o;else{var u=this._getLabelSizes(),c=u.widest.width,h=u.highest.height,d=lC(this.chart.width-c,0,this.maxWidth);c+6>(e=r.offset?this.maxWidth/a:d/(a-1))&&(e=d/(a-(r.offset?.5:1)),t=this.maxHeight-LP(r.grid)-i.padding-UP(r.title,this.chart.options.font),n=Math.sqrt(c*c+h*h),l=tC(Math.min(Math.asin(lC((u.highest.height+6)/e,-1,1)),Math.asin(lC(t/n,-1,1))-Math.asin(lC(h/n,-1,1)))),l=Math.max(o,Math.min(s,l))),this.labelRotation=l}}},{key:"afterCalculateLabelRotation",value:function(){SR(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){SR(this.options.beforeFit,[this])}},{key:"fit",value:function(){var e={width:0,height:0},t=this.chart,n=this.options,r=n.ticks,i=n.title,a=n.grid,o=this._isVisible(),s=this.isHorizontal();if(o){var l=UP(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=LP(a)+l):(e.height=this.maxHeight,e.width=LP(a)+l),r.display&&this.ticks.length){var u=this._getLabelSizes(),c=u.first,h=u.last,d=u.widest,f=u.highest,p=2*r.padding,v=eC(this.labelRotation),m=Math.cos(v),g=Math.sin(v);if(s){var y=r.mirror?0:g*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{var b=r.mirror?0:m*d.width+g*f.height;e.width=Math.min(this.maxWidth,e.width+b+p)}this._calculatePadding(c,h,g,m)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(e,t,n,r){var i=this.options,a=i.ticks,o=a.align,s=a.padding,l=i.position,u=0!==this.labelRotation,c="top"!==l&&"x"===this.axis;if(this.isHorizontal()){var h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),f=0,p=0;u?c?(f=r*e.width,p=n*t.height):(f=n*e.height,p=r*t.width):"start"===o?p=t.width:"end"===o?f=e.width:"inner"!==o&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-h+s)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-d+s)*this.width/(this.width-d),0)}else{var v=t.height/2,m=e.height/2;"start"===o?(v=0,m=e.height):"end"===o&&(v=t.height,m=0),this.paddingTop=v+s,this.paddingBottom=m+s}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){SR(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var e=this.options,t=e.axis,n=e.position;return"top"===n||"bottom"===n||"x"===t}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(e){var t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)gR(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var e=this._labelSizes;if(!e){var t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=NP(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}},{key:"_computeLabelSizes",value:function(e,t,n){var r,i,a,o,s,l,u,c,h,d,f,p=this.ctx,v=this._longestTextCache,m=[],g=[],y=Math.floor(t/PP(t,n)),b=0,x=0;for(r=0;r<t;r+=y){if(o=e[r].label,s=this._resolveTickFontOptions(r),p.font=l=s.string,u=v[l]=v[l]||{data:{},gc:[]},c=s.lineHeight,h=d=0,gR(o)||yR(o)){if(yR(o))for(i=0,a=o.length;i<a;++i)gR(f=o[i])||yR(f)||(h=zC(p,u.data,u.gc,h,f),d+=c)}else h=zC(p,u.data,u.gc,h,o),d=c;m.push(h),g.push(d),b=Math.max(h,b),x=Math.max(d,x)}!function(e,t){TR(e,(function(e){var n,r=e.gc,i=r.length/2;if(i>t){for(n=0;n<i;++n)delete e.data[r[n]];r.splice(0,i)}}))}(v,t);var _=m.indexOf(b),w=g.indexOf(x),E=function(e){return{width:m[e]||0,height:g[e]||0}};return{first:E(0),last:E(t-1),widest:E(_),highest:E(w),widths:m,heights:g}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(e,t){return NaN}},{key:"getValueForPixel",value:function(e){}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getPixelForDecimal",value:function(e){this._reversePixels&&(e=1-e);var t=this._startPixel+e*this._length;return lC(this._alignToPixels?HC(this.chart,t,0):t,-32768,32767)}},{key:"getDecimalForPixel",value:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var e=this.min,t=this.max;return e<0&&t<0?t:e>0&&t>0?e:0}},{key:"getContext",value:function(e){var t=this.ticks||[];if(e>=0&&e<t.length){var n=t[e];return n.$context||(n.$context=function(e,t,n){return dO(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=dO(this.chart.getContext(),{scale:this,type:"scale"}))}},{key:"_tickSize",value:function(){var e=this.options.ticks,t=eC(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,s=i?i.highest.height+a:0;return this.isHorizontal()?s*n>o*r?o/n:s/r:s*r<o*n?s/n:o/r}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(e){var t,n,r,i,a,o,s,l,u,c,h,d,f=this.axis,p=this.chart,v=this.options,m=v.grid,g=v.position,y=v.border,b=m.offset,x=this.isHorizontal(),_=this.ticks.length+(b?1:0),w=LP(m),E=[],S=y.setContext(this.getContext()),T=S.display?S.width:0,M=T/2,k=function(e){return HC(p,e,T)};if("top"===g)t=k(this.bottom),o=this.bottom-w,l=t-M,c=k(e.top)+M,d=e.bottom;else if("bottom"===g)t=k(this.top),c=e.top,d=k(e.bottom)-M,o=t+M,l=this.top+w;else if("left"===g)t=k(this.right),a=this.right-w,s=t-M,u=k(e.left)+M,h=e.right;else if("right"===g)t=k(this.left),u=e.left,h=k(e.right)-M,a=t+M,s=this.left+w;else if("x"===f){if("center"===g)t=k((e.top+e.bottom)/2+.5);else if(bR(g)){var A=Object.keys(g)[0],R=g[A];t=k(this.chart.scales[A].getPixelForValue(R))}c=e.top,d=e.bottom,l=(o=t+M)+w}else if("y"===f){if("center"===g)t=k((e.left+e.right)/2);else if(bR(g)){var C=Object.keys(g)[0],O=g[C];t=k(this.chart.scales[C].getPixelForValue(O))}s=(a=t-M)-w,u=e.left,h=e.right}var I=wR(v.ticks.maxTicksLimit,_),P=Math.max(1,Math.ceil(_/I));for(n=0;n<_;n+=P){var N=this.getContext(n),D=m.setContext(N),L=y.setContext(N),U=D.lineWidth,F=D.color,j=L.dash||[],B=L.dashOffset,z=D.tickWidth,V=D.tickColor,H=D.tickBorderDash||[],W=D.tickBorderDashOffset;void 0!==(r=DP(this,n,b))&&(i=HC(p,r,U),x?a=s=u=h=i:o=l=c=d=i,E.push({tx1:a,ty1:o,tx2:s,ty2:l,x1:u,y1:c,x2:h,y2:d,width:U,color:F,borderDash:j,borderDashOffset:B,tickWidth:z,tickColor:V,tickBorderDash:H,tickBorderDashOffset:W}))}return this._ticksLength=_,this._borderValue=t,E}},{key:"_computeLabelItems",value:function(e){var t,n,r,i,a,o,s,l,u,c,h,d=this.axis,f=this.options,p=f.position,v=f.ticks,m=this.isHorizontal(),g=this.ticks,y=v.align,b=v.crossAlign,x=v.padding,_=v.mirror,w=LP(f.grid),E=w+x,S=_?-x:E,T=-eC(this.labelRotation),M=[],k="middle";if("top"===p)a=this.bottom-S,o=this._getXAxisLabelAlignment();else if("bottom"===p)a=this.top+S,o=this._getXAxisLabelAlignment();else if("left"===p){var A=this._getYAxisLabelAlignment(w);o=A.textAlign,i=A.x}else if("right"===p){var R=this._getYAxisLabelAlignment(w);o=R.textAlign,i=R.x}else if("x"===d){if("center"===p)a=(e.top+e.bottom)/2+E;else if(bR(p)){var C=Object.keys(p)[0],O=p[C];a=this.chart.scales[C].getPixelForValue(O)+E}o=this._getXAxisLabelAlignment()}else if("y"===d){if("center"===p)i=(e.left+e.right)/2-E;else if(bR(p)){var I=Object.keys(p)[0],P=p[I];i=this.chart.scales[I].getPixelForValue(P)}o=this._getYAxisLabelAlignment(w).textAlign}"y"===d&&("start"===y?k="top":"end"===y&&(k="bottom"));var N=this._getLabelSizes();for(t=0,n=g.length;t<n;++t){r=g[t].label;var D=v.setContext(this.getContext(t));s=this.getPixelForTick(t)+v.labelOffset,u=(l=this._resolveTickFontOptions(t)).lineHeight;var L=(c=yR(r)?r.length:1)/2,U=D.color,F=D.textStrokeColor,j=D.textStrokeWidth,B=o;m?(i=s,"inner"===o&&(B=t===n-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),h="top"===p?"near"===b||0!==T?-c*u+u/2:"center"===b?-N.highest.height/2-L*u+u:-N.highest.height+u/2:"near"===b||0!==T?u/2:"center"===b?N.highest.height/2-L*u:N.highest.height-c*u,_&&(h*=-1),0===T||D.showLabelBackdrop||(i+=u/2*Math.sin(T))):(a=s,h=(1-c)*u/2);var z=void 0;if(D.showLabelBackdrop){var V=uO(D.backdropPadding),H=N.heights[t],W=N.widths[t],G=h-V.top,q=0-V.left;switch(k){case"middle":G-=H/2;break;case"bottom":G-=H}switch(o){case"center":q-=W/2;break;case"right":q-=W}z={left:q,top:G,width:W+V.width,height:H+V.height,color:D.backdropColor}}M.push({label:r,font:l,textOffset:h,options:{rotation:T,color:U,strokeColor:F,strokeWidth:j,textAlign:B,textBaseline:k,translation:[i,a],backdrop:z}})}return M}},{key:"_getXAxisLabelAlignment",value:function(){var e=this.options,t=e.position,n=e.ticks;if(-eC(this.labelRotation))return"top"===t?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align?r="right":"inner"===n.align&&(r="inner"),r}},{key:"_getYAxisLabelAlignment",value:function(e){var t,n,r=this.options,i=r.position,a=r.ticks,o=a.crossAlign,s=a.mirror,l=a.padding,u=e+l,c=this._getLabelSizes().widest.width;return"left"===i?s?(n=this.right+l,"near"===o?t="left":"center"===o?(t="center",n+=c/2):(t="right",n+=c)):(n=this.right-u,"near"===o?t="right":"center"===o?(t="center",n-=c/2):(t="left",n=this.left)):"right"===i?s?(n=this.left+l,"near"===o?t="right":"center"===o?(t="center",n-=c/2):(t="left",n-=c)):(n=this.left+u,"near"===o?t="left":"center"===o?(t="center",n+=c/2):(t="right",n=this.right)):t="right",{textAlign:t,x:n}}},{key:"_computeLabelArea",value:function(){if(!this.options.ticks.mirror){var e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var e=this.ctx,t=this.options.backgroundColor,n=this.left,r=this.top,i=this.width,a=this.height;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,a),e.restore())}},{key:"getLineWidthForValue",value:function(e){var t=this.options.grid;if(!this._isVisible()||!t.display)return 0;var n=this.ticks.findIndex((function(t){return t.value===e}));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(e){var t,n,r=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o=function(e,t,n){n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(r.display)for(t=0,n=a.length;t<n;++t){var s=a[t];r.drawOnChartArea&&o({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),r.drawTicks&&o({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var e=this.chart,t=this.ctx,n=this.options,r=n.border,i=n.grid,a=r.setContext(this.getContext()),o=r.display?a.width:0;if(o){var s,l,u,c,h=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;this.isHorizontal()?(s=HC(e,this.left,o)-o/2,l=HC(e,this.right,h)+h/2,u=c=d):(u=HC(e,this.top,o)-o/2,c=HC(e,this.bottom,h)+h/2,s=l=d),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(s,u),t.lineTo(l,c),t.stroke(),t.restore()}}},{key:"drawLabels",value:function(e){if(this.options.ticks.display){var t=this.ctx,n=this._computeLabelArea();n&&YC(t,n);var r,i=A(this.getLabelItems(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.options,s=a.font;eO(t,a.label,0,a.textOffset,s,o)}}catch(l){i.e(l)}finally{i.f()}n&&QC(t)}}},{key:"drawTitle",value:function(){var e=this.ctx,t=this.options,n=t.position,r=t.title,i=t.reverse;if(r.display){var a=cO(r.font),o=uO(r.padding),s=r.align,l=a.lineHeight/2;"bottom"===n||"center"===n||bR(n)?(l+=o.bottom,yR(r.text)&&(l+=a.lineHeight*(r.text.length-1))):l+=o.top;var u=function(e,t,n,r){var i,a,o,s=e.top,l=e.left,u=e.bottom,c=e.right,h=e.chart,d=h.chartArea,f=h.scales,p=0,v=u-s,m=c-l;if(e.isHorizontal()){if(a=bC(r,l,c),bR(n)){var g=Object.keys(n)[0],y=n[g];o=f[g].getPixelForValue(y)+v-t}else o="center"===n?(d.bottom+d.top)/2+v-t:IP(e,n,t);i=c-l}else{if(bR(n)){var b=Object.keys(n)[0],x=n[b];a=f[b].getPixelForValue(x)-m+t}else a="center"===n?(d.left+d.right)/2-m+t:IP(e,n,t);o=bC(r,u,s),p="left"===n?-GR:GR}return{titleX:a,titleY:o,maxWidth:i,rotation:p}}(this,l,n,s),c=u.titleX,h=u.titleY,d=u.maxWidth,f=u.rotation;eO(e,r.text,0,0,a,{color:r.color,maxWidth:d,rotation:f,textAlign:FP(s,n,i),textBaseline:"middle",translation:[c,h]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var e=this,t=this.options,r=t.ticks&&t.ticks.z||0,i=wR(t.grid&&t.grid.z,-1),a=wR(t.border&&t.border.z,0);return this._isVisible()&&this.draw===n.prototype.draw?[{z:i,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:a,draw:function(){e.drawBorder()}},{z:r,draw:function(t){e.drawLabels(t)}}]:[{z:r,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(e){var t,n,r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];for(t=0,n=r.length;t<n;++t){var o=r[t];o[i]!==this.id||e&&o.type!==e||a.push(o)}return a}},{key:"_resolveTickFontOptions",value:function(e){return cO(this.options.ticks.setContext(this.getContext(e)).font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}]),n}(RP),BP=function(){function e(t,n,r){g(this,e),this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}return b(e,[{key:"isForType",value:function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}},{key:"register",value:function(e){var t,n=Object.getPrototypeOf(e);(function(e){return"id"in e&&"defaults"in e})(n)&&(t=this.register(n));var r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){var r=CR(Object.create(null),[n?BC.get(n):{},BC.get(t),e.defaults]);BC.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((function(n){var r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),o=t[n].split("."),s=o.pop(),l=o.join(".");BC.route(a,i,l,s)}))}(t,e.defaultRoutes);e.descriptors&&BC.describe(t,e.descriptors)}(e,a,t),this.override&&BC.override(e.id,e.overrides)),a}},{key:"get",value:function(e){return this.items[e]}},{key:"unregister",value:function(e){var t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in BC[r]&&(delete BC[r][n],this.override&&delete DC[n])}}]),e}();var zP=function(){function e(){g(this,e),this.controllers=new BP(EI,"datasets",!0),this.elements=new BP(RP,"elements"),this.plugins=new BP(Object,"plugins"),this.scales=new BP(jP,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return b(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}},{key:"addControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}},{key:"addElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}},{key:"addPlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}},{key:"addScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}},{key:"getController",value:function(e){return this._get(e,this.controllers,"controller")}},{key:"getElement",value:function(e){return this._get(e,this.elements,"element")}},{key:"getPlugin",value:function(e){return this._get(e,this.plugins,"plugin")}},{key:"getScale",value:function(e){return this._get(e,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}},{key:"removeElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}},{key:"removePlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}},{key:"removeScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}},{key:"_each",value:function(e,t,n){var r=this;m(t).forEach((function(t){var i=n||r._getRegistryForType(t);n||i.isForType(t)||i===r.plugins&&t.id?r._exec(e,i,t):TR(t,(function(t){var i=n||r._getRegistryForType(t);r._exec(e,i,t)}))}))}},{key:"_exec",value:function(e,t,n){var r=LR(e);SR(n["before"+r],[],n),t[e](n),SR(n["after"+r],[],n)}},{key:"_getRegistryForType",value:function(e){for(var t=0;t<this._typedRegistries.length;t++){var n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}},{key:"_get",value:function(e,t,n){var r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}]),e}(),VP=new zP,HP=function(){function e(){g(this,e),this._init=[]}return b(e,[{key:"notify",value:function(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));var i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}},{key:"_notify",value:function(e,t,n,r){r=r||{};var i,a=A(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.plugin;if(!1===SR(s[n],[t,r,o.options],s)&&r.cancelable)return!1}}catch(l){a.e(l)}finally{a.f()}return!0}},{key:"invalidate",value:function(){gR(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(e){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}},{key:"_createDescriptors",value:function(e,t){var n=e&&e.config,r=wR(n.options&&n.options.plugins,{}),i=function(e){for(var t={},n=[],r=Object.keys(VP.plugins.items),i=0;i<r.length;i++)n.push(VP.getPlugin(r[i]));for(var a=e.plugins||[],o=0;o<a.length;o++){var s=a[o];-1===n.indexOf(s)&&(n.push(s),t[s.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){var i,a=t.plugins,o=t.localIds,s=[],l=e.getContext(),u=A(a);try{for(u.s();!(i=u.n()).done;){var c=i.value,h=c.id,d=WP(n[h],r);null!==d&&s.push({plugin:c,options:GP(e.config,{plugin:c,local:o[h]},d,l)})}}catch(f){u.e(f)}finally{u.f()}return s}(e,i,r,t):[]}},{key:"_notifyStateChanges",value:function(e){var t=this._oldCache||[],n=this._cache,r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.plugin.id===t.plugin.id}))}))};this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}]),e}();function WP(e,t){return t||!1!==e?!0===e?{}:e:null}function GP(e,t,n,r){var i=t.plugin,a=t.local,o=e.pluginScopeKeys(i),s=e.getOptionScopes(n,o);return a&&i.defaults&&s.push(i.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qP(e,t){var n=BC.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function XP(e){if("x"===e||"y"===e||"r"===e)return e}function YP(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function QP(e){if(XP(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i],s=o.axis||YP(o.position)||e.length>1&&XP(e[0].toLowerCase());if(s)return s}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function KP(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function $P(e,t){var n=DC[e.type]||{scales:{}},r=t.scales||{},i=qP(e.type,t),a=Object.create(null);return Object.keys(r).forEach((function(t){var o=r[t];if(!bR(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));var s=QP(t,o,function(e,t){if(t.data&&t.data.datasets){var n=t.data.datasets.filter((function(t){return t.xAxisID===e||t.yAxisID===e}));if(n.length)return KP(e,"x",n[0])||KP(e,"y",n[0])}return{}}(t,e),BC.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,i),u=n.scales||{};a[t]=OR(Object.create(null),[{axis:s},o,u[s],u[l]])})),e.data.datasets.forEach((function(n){var i=n.type||e.type,o=n.indexAxis||qP(i,t),s=(DC[i]||{}).scales||{};Object.keys(s).forEach((function(e){var t=function(e,t){var n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||t;a[i]=a[i]||Object.create(null),OR(a[i],[{axis:t},r[i],s[e]])}))})),Object.keys(a).forEach((function(e){var t=a[e];OR(t,[BC.scales[t.type],BC.scale])})),a}function JP(e){var t=e.options||(e.options={});t.plugins=wR(t.plugins,{}),t.scales=$P(e,t)}function ZP(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}var eN=new Map,tN=new Set;function nN(e,t){var n=eN.get(e);return n||(n=t(),eN.set(e,n),tN.add(n)),n}var rN=function(e,t,n){var r=DR(t,n);void 0!==r&&e.add(r)},iN=function(){function e(t){g(this,e),this._config=function(e){return(e=e||{}).data=ZP(e.data),JP(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}return b(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=ZP(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var e=this._config;this.clearCache(),JP(e)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(e){return nN(e,(function(){return[["datasets.".concat(e),""]]}))}},{key:"datasetAnimationScopeKeys",value:function(e,t){return nN("".concat(e,".transition.").concat(t),(function(){return[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]}))}},{key:"datasetElementScopeKeys",value:function(e,t){return nN("".concat(e,"-").concat(t),(function(){return[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]}))}},{key:"pluginScopeKeys",value:function(e){var t=e.id,n=this.type;return nN("".concat(n,"-plugin-").concat(t),(function(){return[["plugins.".concat(t)].concat(m(e.additionalOptionScopes||[]))]}))}},{key:"_cachedScopes",value:function(e,t){var n=this._scopeCache,r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}},{key:"getOptionScopes",value:function(e,t,n){var r=this.options,i=this.type,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;var s=new Set;t.forEach((function(t){e&&(s.add(e),t.forEach((function(t){return rN(s,e,t)}))),t.forEach((function(e){return rN(s,r,e)})),t.forEach((function(e){return rN(s,DC[i]||{},e)})),t.forEach((function(e){return rN(s,BC,e)})),t.forEach((function(e){return rN(s,LC,e)}))}));var l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),tN.has(t)&&a.set(t,l),l}},{key:"chartOptionScopes",value:function(){var e=this.options,t=this.type;return[e,DC[t]||{},BC.datasets[t]||{},{type:t},BC,LC]}},{key:"resolveNamedOptions",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],i={$shared:!0},a=aN(this._resolverCache,e,r),o=a.resolver,s=a.subPrefixes,l=o;(function(e,t){var n,r=vO(e),i=r.isScriptable,a=r.isIndexable,o=A(t);try{for(o.s();!(n=o.n()).done;){var s=n.value,l=i(s),u=a(s),c=(u||l)&&e[s];if(l&&(FR(c)||oN(c))||u&&yR(c))return!0}}catch(h){o.e(h)}finally{o.f()}return!1})(o,t)&&(i.$shared=!1,l=pO(o,n=FR(n)?n():n,this.createResolver(e,n,s)));var u,c=A(t);try{for(c.s();!(u=c.n()).done;){var h=u.value;i[h]=l[h]}}catch(d){c.e(d)}finally{c.f()}return i}},{key:"createResolver",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0,i=aN(this._resolverCache,e,n).resolver;return bR(t)?pO(i,t,void 0,r):i}}]),e}();function aN(e,t,n){var r=e.get(t);r||(r=new Map,e.set(t,r));var i=n.join(),a=r.get(i);a||(a={resolver:fO(t,n),subPrefixes:n.filter((function(e){return!e.toLowerCase().includes("hover")}))},r.set(i,a));return a}var oN=function(e){return bR(e)&&Object.getOwnPropertyNames(e).reduce((function(t,n){return t||FR(e[n])}),!1)};var sN=["top","bottom","left","right","chartArea"];function lN(e,t){return"top"===e||"bottom"===e||-1===sN.indexOf(e)&&"x"===t}function uN(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function cN(e){var t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),SR(n&&n.onComplete,[e],t)}function hN(e){var t=e.chart,n=t.options.animation;SR(n&&n.onProgress,[e],t)}function dN(e){return NO()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var fN={},pN=function(e){var t=dN(e);return Object.values(fN).filter((function(e){return e.canvas===t})).pop()};function vN(e,t,n){for(var r=0,i=Object.keys(e);r<i.length;r++){var a=i[r],o=+a;if(o>=t){var s=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=s)}}}var mN=function(){function e(t,n){var r=this;g(this,e);var i=this.config=new iN(n),a=dN(t),o=pN(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");var s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(e){return!NO()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?fP:AP}(a)),this.platform.updateConfig(i);var l=this.platform.acquireContext(a,s.aspectRatio),u=l&&l.canvas,c=u&&u.height,h=u&&u.width;this.id=mR(),this.ctx=l,this.canvas=u,this.width=h,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new HP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){var n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((function(e){return r.update(e)}),s.resizeDelay||0),this._dataChanges=[],fN[this.id]=this,l&&u?(sI.listen(this,"complete",cN),sI.listen(this,"progress",hN),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return b(e,[{key:"aspectRatio",get:function(){var e=this.options,t=e.aspectRatio,n=e.maintainAspectRatio,r=this.width,i=this.height,a=this._aspectRatio;return gR(t)?n&&a?a:i?r/i:null:t}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}},{key:"registry",get:function(){return VP}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():WO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return WC(this.canvas,this.ctx),this}},{key:"stop",value:function(){return sI.stop(this),this}},{key:"resize",value:function(e,t){sI.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}},{key:"_resize",value:function(e,t){var n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,WO(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),SR(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){TR(this.options.scales||{},(function(e,t){e.id=t}))}},{key:"buildOrUpdateScales",value:function(){var e=this,t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((function(e,t){return e[t]=!1,e}),{}),a=[];n&&(a=a.concat(Object.keys(n).map((function(e){var t=n[e],r=QP(e,t),i="r"===r,a="x"===r;return{options:t,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}})))),TR(a,(function(n){var a=n.options,o=a.id,s=QP(o,a),l=wR(a.type,n.dtype);void 0!==a.position&&lN(a.position,s)===lN(n.dposition)||(a.position=n.dposition),i[o]=!0;var u=null;o in r&&r[o].type===l?u=r[o]:(u=new(VP.getScale(l))({id:o,type:l,ctx:e.ctx,chart:e}),r[u.id]=u);u.init(a,t)})),TR(i,(function(e,t){e||delete r[t]})),TR(r,(function(t){cP(e,t,t.options),lP(e,t)}))}},{key:"_updateMetasets",value:function(){var e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((function(e,t){return e.index-t.index})),n>t){for(var r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(uN("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var e=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach((function(t,r){0===n.filter((function(e){return e===t._dataset})).length&&e._destroyDatasetMeta(r)}))}},{key:"buildOrUpdateControllers",value:function(){var e,t,n=[],r=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=r.length;e<t;e++){var i=r[e],a=this.getDatasetMeta(e),o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(e),a=this.getDatasetMeta(e)),a.type=o,a.indexAxis=i.indexAxis||qP(o,this.options),a.order=i.order||0,a.index=e,a.label=""+i.label,a.visible=this.isDatasetVisible(e),a.controller)a.controller.updateIndex(e),a.controller.linkScales();else{var s=VP.getController(o),l=BC.datasets[o],u=l.datasetElementType,c=l.dataElementType;Object.assign(s,{dataElementType:VP.getElement(c),datasetElementType:u&&VP.getElement(u)}),a.controller=new s(this,e),n.push(a.controller)}}return this._updateMetasets(),n}},{key:"_resetElements",value:function(){var e=this;TR(this.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(e){var t=this.config;t.update();var n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})){var i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var a=0,o=0,s=this.data.datasets.length;o<s;o++){var l=this.getDatasetMeta(o).controller,u=!r&&-1===i.indexOf(l);l.buildOrUpdateElements(u),a=Math.max(+l.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||TR(i,(function(e){e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(uN("z","_idx"));var c=this._active,h=this._lastEvent;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;TR(this.scales,(function(t){uP(e,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);jR(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var e,t=this._hiddenIndices,n=A(this._getUniformDataChanges()||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.method,a=r.start,o=r.count;vN(t,a,"_removeElements"===i?-o:o)}}catch(s){n.e(s)}finally{n.f()}}},{key:"_getUniformDataChanges",value:function(){var e=this._dataChanges;if(e&&e.length){this._dataChanges=[];for(var t=this.data.datasets.length,n=function(t){return new Set(e.filter((function(e){return e[0]===t})).map((function(e,t){return t+","+e.splice(1).join(",")})))},r=n(0),i=1;i<t;i++)if(!jR(r,n(i)))return;return Array.from(r).map((function(e){return e.split(",")})).map((function(e){return{method:e[1],start:+e[2],count:+e[3]}}))}}},{key:"_updateLayout",value:function(e){var t=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){hP(this,this.width,this.height,e);var n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],TR(this.boxes,(function(e){var n;r&&"chartArea"===e.position||(e.configure&&e.configure(),(n=t._layers).push.apply(n,m(e._layers())))}),this),this._layers.forEach((function(e,t){e._idx=t})),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(var t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(var r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,FR(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}},{key:"_updateDataset",value:function(e,t){var n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(sI.has(this)?this.attached&&!sI.running(this)&&sI.start(this):(this.draw(),cN({chart:this})))}},{key:"draw",value:function(){var e;if(this._resizeBeforeDraw){var t=this._resizeBeforeDraw,n=t.width,r=t.height;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(e){var t,n,r=this._sortedMetasets,i=[];for(t=0,n=r.length;t<n;++t){var a=r[t];e&&!a.visible||i.push(a)}return i}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var e=this.getSortedVisibleDatasetMetas(),t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(e){var t=this.ctx,n=e._clip,r=!n.disabled,i=function(e){var t=e.xScale,n=e.yScale;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&YC(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&QC(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}},{key:"isPointInArea",value:function(e){return XC(e,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(e,t,n,r){var i=QI.modes[t];return"function"===typeof i?i(this,e,n,r):[]}},{key:"getDatasetMeta",value:function(e){var t=this.data.datasets[e],n=this._metasets,r=n.filter((function(e){return e&&e._dataset===t})).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}},{key:"getContext",value:function(){return this.$context||(this.$context=dO(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(e){var t=this.data.datasets[e];if(!t)return!1;var n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}},{key:"setDatasetVisibility",value:function(e,t){this.getDatasetMeta(e).hidden=!t}},{key:"toggleDataVisibility",value:function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}},{key:"getDataVisibility",value:function(e){return!this._hiddenIndices[e]}},{key:"_updateVisibility",value:function(e,t,n){var r=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);UR(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update((function(t){return t.datasetIndex===e?r:void 0})))}},{key:"hide",value:function(e,t){this._updateVisibility(e,t,!1)}},{key:"show",value:function(e,t){this._updateVisibility(e,t,!0)}},{key:"_destroyDatasetMeta",value:function(e){var t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}},{key:"_stop",value:function(){var e,t;for(this.stop(),sI.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var e=this.canvas,t=this.ctx;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),WC(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete fN[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var e=this,t=this._listeners,n=this.platform,r=function(t,n,r){t.offsetX=n,t.offsetY=r,e._eventHandler(t)};TR(this.options.events,(function(i){return function(r,i){n.addEventListener(e,r,i),t[r]=i}(i,r)}))}},{key:"bindResponsiveEvents",value:function(){var e=this;this._responsiveListeners||(this._responsiveListeners={});var t,n=this._responsiveListeners,r=this.platform,i=function(t,i){r.addEventListener(e,t,i),n[t]=i},a=function(t,i){n[t]&&(r.removeEventListener(e,t,i),delete n[t])},o=function(t,n){e.canvas&&e.resize(t,n)},s=function n(){a("attach",n),e.attached=!0,e.resize(),i("resize",o),i("detach",t)};t=function(){e.attached=!1,a("resize",o),e._stop(),e._resize(0,0),i("attach",s)},r.isAttached(this.canvas)?s():t()}},{key:"unbindEvents",value:function(){var e=this;TR(this._listeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._listeners={},TR(this._responsiveListeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(e,t,n){var r,i,a,o=n?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+o+"DatasetHoverStyle"](),i=0,a=e.length;i<a;++i){var s=(r=e[i])&&this.getDatasetMeta(r.datasetIndex).controller;s&&s[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e){var t=this,n=this._active||[],r=e.map((function(e){var n=e.datasetIndex,r=e.index,i=t.getDatasetMeta(n);if(!i)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:i.data[r],index:r}}));!MR(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}},{key:"notifyPlugins",value:function(e,t,n){return this._plugins.notify(this,e,t,n)}},{key:"isPluginEnabled",value:function(e){return 1===this._plugins._cache.filter((function(t){return t.plugin.id===e})).length}},{key:"_updateHoverStyles",value:function(e,t,n){var r=this.options.hover,i=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index}))}))},a=i(t,e),o=n?e:i(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}},{key:"_eventHandler",value:function(e,t){var n=this,r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=function(t){return(t.options.events||n.options.events).includes(e.native.type)};if(!1!==this.notifyPlugins("beforeEvent",r,i)){var a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}}},{key:"_handleEvent",value:function(e,t,n){var r=this._active,i=void 0===r?[]:r,a=this.options,o=t,s=this._getActiveElements(e,i,n,o),l=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),u=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,l);n&&(this._lastEvent=null,SR(a.onHover,[e,s,this],this),l&&SR(a.onClick,[e,s,this],this));var c=!MR(s,i);return(c||t)&&(this._active=s,this._updateHoverStyles(s,i,t)),this._lastEvent=u,c}},{key:"_getActiveElements",value:function(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;var i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}],[{key:"register",value:function(){VP.add.apply(VP,arguments),gN()}},{key:"unregister",value:function(){VP.remove.apply(VP,arguments),gN()}}]),e}();function gN(){return TR(mN.instances,(function(e){return e._plugins.invalidate()}))}function yN(e,t,n,r){var i=oO(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(n-t)/2,o=Math.min(a,r*t/2),s=function(e){var t=(n-Math.min(a,e))*r/2;return lC(e,0,Math.min(a,t))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:lC(i.innerStart,0,o),innerEnd:lC(i.innerEnd,0,o)}}function bN(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function xN(e,t,n,r,i,a){var o=t.x,s=t.y,l=t.startAngle,u=t.pixelMargin,c=t.innerRadius,h=Math.max(t.outerRadius+r+n-u,0),d=c>0?c+r+n+u:0,f=0,p=i-l;if(r){var v=((c>0?c-r:0)+(h>0?h-r:0))/2;f=(p-(0!==v?p*v/(v+r):p))/2}var m=(p-Math.max(.001,p*h-n/BR)/h)/2,g=l+m+f,y=i-m-f,b=yN(t,d,h,y-g),x=b.outerStart,_=b.outerEnd,w=b.innerStart,E=b.innerEnd,S=h-x,T=h-_,M=g+x/S,k=y-_/T,A=d+w,R=d+E,C=g+w/A,O=y-E/R;if(e.beginPath(),a){var I=(M+k)/2;if(e.arc(o,s,h,M,I),e.arc(o,s,h,I,k),_>0){var P=bN(T,k,o,s);e.arc(P.x,P.y,_,k,y+GR)}var N=bN(R,y,o,s);if(e.lineTo(N.x,N.y),E>0){var D=bN(R,O,o,s);e.arc(D.x,D.y,E,y+GR,O+Math.PI)}var L=(y-E/d+(g+w/d))/2;if(e.arc(o,s,d,y-E/d,L,!0),e.arc(o,s,d,L,g+w/d,!0),w>0){var U=bN(A,C,o,s);e.arc(U.x,U.y,w,C+Math.PI,g-GR)}var F=bN(S,g,o,s);if(e.lineTo(F.x,F.y),x>0){var j=bN(S,M,o,s);e.arc(j.x,j.y,x,g-GR,M)}}else{e.moveTo(o,s);var B=Math.cos(M)*h+o,z=Math.sin(M)*h+s;e.lineTo(B,z);var V=Math.cos(k)*h+o,H=Math.sin(k)*h+s;e.lineTo(V,H)}e.closePath()}function _N(e,t,n,r,i){var a=t.fullCircles,o=t.startAngle,s=t.circumference,l=t.options,u=l.borderWidth,c=l.borderJoinStyle,h=l.borderDash,d=l.borderDashOffset,f="inner"===l.borderAlign;if(u){e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*u,e.lineJoin=c||"round"):(e.lineWidth=u,e.lineJoin=c||"bevel");var p=t.endAngle;if(a){xN(e,t,n,r,p,i);for(var v=0;v<a;++v)e.stroke();isNaN(s)||(p=o+(s%zR||zR))}f&&function(e,t,n){var r=t.startAngle,i=t.pixelMargin,a=t.x,o=t.y,s=t.outerRadius,l=t.innerRadius,u=i/s;e.beginPath(),e.arc(a,o,s,r-u,n+u),l>i?(u=i/l,e.arc(a,o,l,n+u,r-u,!0)):e.arc(a,o,i,n+GR,r-GR),e.closePath(),e.clip()}(e,t,p),a||(xN(e,t,n,r,p,i),e.stroke())}}s(mN,"defaults",BC),s(mN,"instances",fN),s(mN,"overrides",DC),s(mN,"registry",VP),s(mN,"version","4.3.3"),s(mN,"getChart",pN);var wN=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),s(S(r=t.call(this)),"circumference",void 0),s(S(r),"endAngle",void 0),s(S(r),"fullCircles",void 0),s(S(r),"innerRadius",void 0),s(S(r),"outerRadius",void 0),s(S(r),"pixelMargin",void 0),s(S(r),"startAngle",void 0),r.options=void 0,r.circumference=void 0,r.startAngle=void 0,r.endAngle=void 0,r.innerRadius=void 0,r.outerRadius=void 0,r.pixelMargin=0,r.fullCircles=0,e&&Object.assign(S(r),e),r}return b(n,[{key:"inRange",value:function(e,t,n){var r=rC(this.getProps(["x","y"],n),{x:e,y:t}),i=r.angle,a=r.distance,o=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=o.startAngle,l=o.endAngle,u=o.innerRadius,c=o.outerRadius,h=o.circumference,d=(this.options.spacing+this.options.borderWidth)/2,f=wR(h,l-s)>=zR||sC(i,s,l),p=uC(a,u+d,c+d);return f&&p}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),n=t.x,r=t.y,i=t.startAngle,a=t.endAngle,o=t.innerRadius,s=t.outerRadius,l=this.options,u=l.offset,c=(i+a)/2,h=(o+s+l.spacing+u)/2;return{x:n+Math.cos(c)*h,y:r+Math.sin(c)*h}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(e){var t=this.options,n=this.circumference,r=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>zR?Math.floor(n/zR):0,!(0===n||this.innerRadius<0||this.outerRadius<0)){e.save();var o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*r,Math.sin(o)*r);var s=r*(1-Math.sin(Math.min(BR,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){var a=t.fullCircles,o=t.startAngle,s=t.circumference,l=t.endAngle;if(a){xN(e,t,n,r,l,i);for(var u=0;u<a;++u)e.fill();isNaN(s)||(l=o+(s%zR||zR))}xN(e,t,n,r,l,i),e.fill()}(e,this,s,i,a),_N(e,this,s,i,a),e.restore()}}}]),n}(RP);function EN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=wR(n.borderCapStyle,t.borderCapStyle),e.setLineDash(wR(n.borderDash,t.borderDash)),e.lineDashOffset=wR(n.borderDashOffset,t.borderDashOffset),e.lineJoin=wR(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=wR(n.borderWidth,t.borderWidth),e.strokeStyle=wR(n.borderColor,t.borderColor)}function SN(e,t,n){e.lineTo(n.x,n.y)}function TN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.length,i=n.start,a=void 0===i?0:i,o=n.end,s=void 0===o?r-1:o,l=t.start,u=t.end,c=Math.max(a,l),h=Math.min(s,u),d=a<l&&s<l||a>u&&s>u;return{count:r,start:c,loop:t.loop,ilen:h<c&&!d?r+h-c:h-c}}function MN(e,t,n,r){var i,a,o,s=t.points,l=t.options,u=TN(s,n,r),c=u.count,h=u.start,d=u.loop,f=u.ilen,p=function(e){return e.stepped?KC:e.tension||"monotone"===e.cubicInterpolationMode?$C:SN}(l),v=r||{},m=v.move,g=void 0===m||m,y=v.reverse;for(i=0;i<=f;++i)(a=s[(h+(y?f-i:i))%c]).skip||(g?(e.moveTo(a.x,a.y),g=!1):p(e,o,a,y,l.stepped),o=a);return d&&p(e,o,a=s[(h+(y?f:0))%c],y,l.stepped),!!d}function kN(e,t,n,r){var i,a,o,s,l,u,c=t.points,h=TN(c,n,r),d=h.count,f=h.start,p=h.ilen,v=r||{},m=v.move,g=void 0===m||m,y=v.reverse,b=0,x=0,_=function(e){return(f+(y?p-e:e))%d},w=function(){s!==l&&(e.lineTo(b,l),e.lineTo(b,s),e.lineTo(b,u))};for(g&&(a=c[_(0)],e.moveTo(a.x,a.y)),i=0;i<=p;++i)if(!(a=c[_(i)]).skip){var E=a.x,S=a.y,T=0|E;T===o?(S<s?s=S:S>l&&(l=S),b=(x*b+E)/++x):(w(),e.lineTo(E,S),o=T,x=0,s=l=S),u=S}w()}function AN(e){var t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?kN:MN}s(wN,"id","arc"),s(wN,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),s(wN,"defaultRoutes",{backgroundColor:"backgroundColor"}),s(wN,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e}});var RN="function"===typeof Path2D;function CN(e,t,n,r){RN&&!t.options.segment?function(e,t,n,r){var i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),EN(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){var i,a=t.segments,o=t.options,s=AN(t),l=A(a);try{for(l.s();!(i=l.n()).done;){var u=i.value;EN(e,o,u.style),e.beginPath(),s(e,t,u,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}}catch(c){l.e(c)}finally{l.f()}}(e,t,n,r)}var ON=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).animated=!0,r.options=void 0,r._chart=void 0,r._loop=void 0,r._fullLoop=void 0,r._path=void 0,r._points=void 0,r._segments=void 0,r._decimated=!1,r._pointsUpdated=!1,r._datasetIndex=void 0,e&&Object.assign(S(r),e),r}return b(n,[{key:"updateControlPoints",value:function(e,t){var n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){var r=n.spanGaps?this._loop:this._fullLoop;PO(this._points,n,e,r,t),this._pointsUpdated=!0}}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(e,t){var n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];var a=!!e._loop,o=function(e,t,n,r){var i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return{start:i,end:a%=t}}(n,i,a,r),s=o.start,l=o.end;return rI(e,!0===r?[{start:s,end:l,loop:a}]:function(e,t,n,r){var i,a=e.length,o=[],s=t,l=e[t];for(i=t+1;i<=n;++i){var u=e[i%a];u.skip||u.stop?l.skip||(r=!1,o.push({start:t%a,end:(i-1)%a,loop:r}),t=s=u.stop?i:null):(s=i,l.skip&&(t=i)),l=u}return null!==s&&o.push({start:t%a,end:s%a,loop:r}),o}(n,s,l<s?l+i:l,!!e._fullLoop&&0===s&&l===i-1),n,t)}(this,this.options.segment))}},{key:"first",value:function(){var e=this.segments,t=this.points;return e.length&&t[e[0].start]}},{key:"last",value:function(){var e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}},{key:"interpolate",value:function(e,t){var n=this.options,r=e[t],i=this.points,a=nI(this,{property:t,start:r,end:r});if(a.length){var o,s,l=[],u=function(e){return e.stepped?YO:e.tension||"monotone"===e.cubicInterpolationMode?QO:XO}(n);for(o=0,s=a.length;o<s;++o){var c=a[o],h=c.start,d=c.end,f=i[h],p=i[d];if(f!==p){var v=u(f,p,Math.abs((r-f[t])/(p[t]-f[t])),n.stepped);v[t]=e[t],l.push(v)}else l.push(f)}return 1===l.length?l[0]:l}}},{key:"pathSegment",value:function(e,t,n){return AN(this)(e,this,t,n)}},{key:"path",value:function(e,t,n){var r=this.segments,i=AN(this),a=this._loop;t=t||0,n=n||this.points.length-t;var o,s=A(r);try{for(s.s();!(o=s.n()).done;){a&=i(e,this,o.value,{start:t,end:t+n-1})}}catch(l){s.e(l)}finally{s.f()}return!!a}},{key:"draw",value:function(e,t,n,r){var i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),CN(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}]),n}(RP);function IN(e,t,n,r){var i=e.options,a=e.getProps([n],r)[n];return Math.abs(t-a)<i.radius+i.hitRadius}s(ON,"id","line"),s(ON,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),s(ON,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),s(ON,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e&&"fill"!==e}});var PN=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),s(S(r=t.call(this)),"parsed",void 0),s(S(r),"skip",void 0),s(S(r),"stop",void 0),r.options=void 0,r.parsed=void 0,r.skip=void 0,r.stop=void 0,e&&Object.assign(S(r),e),r}return b(n,[{key:"inRange",value:function(e,t,n){var r=this.options,i=this.getProps(["x","y"],n),a=i.x,o=i.y;return Math.pow(e-a,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}},{key:"inXRange",value:function(e,t){return IN(this,e,"x",t)}},{key:"inYRange",value:function(e,t){return IN(this,e,"y",t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"size",value:function(e){var t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))}},{key:"draw",value:function(e,t){var n=this.options;this.skip||n.radius<.1||!XC(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,GC(e,n,this.x,this.y))}},{key:"getRange",value:function(){var e=this.options||{};return e.radius+e.hitRadius}}]),n}(RP);function NN(e,t){var n,r,i,a,o,s=e.getProps(["x","y","base","width","height"],t),l=s.x,u=s.y,c=s.base,h=s.width,d=s.height;return e.horizontal?(o=d/2,n=Math.min(l,c),r=Math.max(l,c),i=u-o,a=u+o):(n=l-(o=h/2),r=l+o,i=Math.min(u,c),a=Math.max(u,c)),{left:n,top:i,right:r,bottom:a}}function DN(e,t,n,r){return e?0:lC(t,n,r)}function LN(e){var t=NN(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){var r=e.options.borderWidth,i=e.borderSkipped,a=sO(r);return{t:DN(i.top,a.top,0,n),r:DN(i.right,a.right,0,t),b:DN(i.bottom,a.bottom,0,n),l:DN(i.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){var r=e.getProps(["enableBorderRadius"]).enableBorderRadius,i=e.options.borderRadius,a=lO(i),o=Math.min(t,n),s=e.borderSkipped,l=r||bR(i);return{topLeft:DN(!l||s.top||s.left,a.topLeft,0,o),topRight:DN(!l||s.top||s.right,a.topRight,0,o),bottomLeft:DN(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:DN(!l||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function UN(e,t,n,r){var i=null===t,a=null===n,o=e&&!(i&&a)&&NN(e,r);return o&&(i||uC(t,o.left,o.right))&&(a||uC(n,o.top,o.bottom))}function FN(e,t){e.rect(t.x,t.y,t.w,t.h)}function jN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}s(PN,"id","point"),s(PN,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),s(PN,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var BN=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).options=void 0,r.horizontal=void 0,r.base=void 0,r.width=void 0,r.height=void 0,r.inflateAmount=void 0,e&&Object.assign(S(r),e),r}return b(n,[{key:"draw",value:function(e){var t,n=this.inflateAmount,r=this.options,i=r.borderColor,a=r.backgroundColor,o=LN(this),s=o.inner,l=o.outer,u=(t=l.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?tO:FN;e.save(),l.w===s.w&&l.h===s.h||(e.beginPath(),u(e,jN(l,n,s)),e.clip(),u(e,jN(s,-n,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,jN(s,n)),e.fillStyle=a,e.fill(),e.restore()}},{key:"inRange",value:function(e,t,n){return UN(this,e,t,n)}},{key:"inXRange",value:function(e,t){return UN(this,e,null,t)}},{key:"inYRange",value:function(e,t){return UN(this,null,e,t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","base","horizontal"],e),n=t.x,r=t.y,i=t.base,a=t.horizontal;return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}]),n}(RP);s(BN,"id","bar"),s(BN,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),s(BN,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var zN=Object.freeze({__proto__:null,ArcElement:wN,BarElement:BN,LineElement:ON,PointElement:PN}),VN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],HN=VN.map((function(e){return e.replace("rgb(","rgba(").replace(")",", 0.5)")}));function WN(e){return VN[e%VN.length]}function GN(e){return HN[e%HN.length]}function qN(e){var t=0;return function(n,r){var i=e.getDatasetMeta(r).controller;i instanceof NI?t=function(e,t){return e.backgroundColor=e.data.map((function(){return WN(t++)})),t}(n,t):i instanceof LI?t=function(e,t){return e.backgroundColor=e.data.map((function(){return GN(t++)})),t}(n,t):i&&(t=function(e,t){return e.borderColor=WN(t),e.backgroundColor=GN(t),++t}(n,t))}}function XN(e){var t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var YN={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout:function(e,t,n){if(n.enabled){var r=e.config,i=r.data.datasets,a=r.options,o=a.elements;if(n.forceOverride||!(XN(i)||(s=a,s&&(s.borderColor||s.backgroundColor))||o&&XN(o))){var s,l=qN(e);i.forEach(l)}}}};function QN(e){if(e._decimated){var t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function KN(e){e.data.datasets.forEach((function(e){QN(e)}))}var $N={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(e,t,n){if(n.enabled){var r=e.width;e.data.datasets.forEach((function(t,i){var a=t._data,o=t.indexAxis,s=e.getDatasetMeta(i),l=a||t.data;if("y"!==hO([o,e.options.indexAxis])&&s.controller.supportsDecimation){var c=e.scales[s.xAxisID];if(("linear"===c.type||"time"===c.type)&&!e.options.parsing){var h=function(e,t){var n=t.length,r=0,i=e.iScale,a=i.getUserBounds(),o=a.min,s=a.max,l=a.minDefined,u=a.maxDefined;return l&&(r=lC(hC(t,i.axis,o).lo,0,n-1)),{start:r,count:u?lC(hC(t,i.axis,s).hi+1,r,n)-r:n-r}}(s,l),d=h.start,f=h.count;if(f<=(n.threshold||4*r))QN(t);else{var p;switch(gR(a)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":p=function(e,t,n,r,i){var a=i.samples||r;if(a>=n)return e.slice(t,t+n);var o,s,l,u,c,h=[],d=(n-2)/(a-2),f=0,p=t+n-1,v=t;for(h[f++]=e[v],o=0;o<a-2;o++){var m=0,g=0,y=void 0,b=Math.floor((o+1)*d)+1+t,x=Math.min(Math.floor((o+2)*d)+1,n)+t,_=x-b;for(y=b;y<x;y++)m+=e[y].x,g+=e[y].y;m/=_,g/=_;var w=Math.floor(o*d)+1+t,E=Math.min(Math.floor((o+1)*d)+1,n)+t,S=e[v],T=S.x,M=S.y;for(l=u=-1,y=w;y<E;y++)(u=.5*Math.abs((T-m)*(e[y].y-M)-(T-e[y].x)*(g-M)))>l&&(l=u,s=e[y],c=y);h[f++]=s,v=c}return h[f++]=e[p],h}(l,d,f,r,n);break;case"min-max":p=function(e,t,n,r){var i,a,o,s,l,c,h,d,f,p,v=0,m=0,g=[],y=t+n-1,b=e[t].x,x=e[y].x-b;for(i=t;i<t+n;++i){o=((a=e[i]).x-b)/x*r,s=a.y;var _=0|o;if(_===l)s<f?(f=s,c=i):s>p&&(p=s,h=i),v=(m*v+a.x)/++m;else{var w=i-1;if(!gR(c)&&!gR(h)){var E=Math.min(c,h),S=Math.max(c,h);E!==d&&E!==w&&g.push(u(u({},e[E]),{},{x:v})),S!==d&&S!==w&&g.push(u(u({},e[S]),{},{x:v}))}i>0&&w!==d&&g.push(e[w]),g.push(a),l=_,m=0,f=p=s,c=h=d=i}}return g}(l,d,f,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=p}}}}))}else KN(e)},destroy:function(e){KN(e)}};function JN(e,t,n,r){if(!r){var i=t[e],a=n[e];return"angle"===e&&(i=oC(i),a=oC(a)),{property:e,start:i,end:a}}}function ZN(e,t,n){for(;t>e;t--){var r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function eD(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function tD(e,t){var n=[],r=!1;return yR(e)?(r=!0,n=e):n=function(e,t){var n=e||{},r=n.x,i=void 0===r?null:r,a=n.y,o=void 0===a?null:a,s=t.points,l=[];return t.segments.forEach((function(e){var t=e.start,n=e.end;n=ZN(t,n,s);var r=s[t],a=s[n];null!==o?(l.push({x:r.x,y:o}),l.push({x:a.x,y:o})):null!==i&&(l.push({x:i,y:r.y}),l.push({x:i,y:a.y}))})),l}(e,t),n.length?new ON({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function nD(e){return e&&!1!==e.fill}function rD(e,t,n){var r,i=e[t].fill,a=[t];if(!n)return i;for(;!1!==i&&-1===a.indexOf(i);){if(!xR(i))return i;if(!(r=e[i]))return!1;if(r.visible)return i;a.push(i),i=r.fill}return!1}function iD(e,t,n){var r=function(e){var t=e.options,n=t.fill,r=wR(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(bR(r))return!isNaN(r.value)&&r;var i=parseFloat(r);return xR(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function aD(e,t,n){for(var r=[],i=0;i<n.length;i++){var a=oD(n[i],t,"x"),o=a.first,s=a.last,l=a.point;if(!(!l||o&&s))if(o)r.unshift(l);else if(e.push(l),!s)break}e.push.apply(e,r)}function oD(e,t,n){var r=e.interpolate(t,n);if(!r)return{};for(var i=r[n],a=e.segments,o=e.points,s=!1,l=!1,u=0;u<a.length;u++){var c=a[u],h=o[c.start][n],d=o[c.end][n];if(uC(i,h,d)){s=i===h,l=i===d;break}}return{first:s,last:l,point:r}}var sD=function(){function e(t){g(this,e),this.x=t.x,this.y=t.y,this.radius=t.radius}return b(e,[{key:"pathSegment",value:function(e,t,n){var r=this.x,i=this.y,a=this.radius;return t=t||{start:0,end:zR},e.arc(r,i,a,t.end,t.start,!0),!n.bounds}},{key:"interpolate",value:function(e){var t=this.x,n=this.y,r=this.radius,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}]),e}();function lD(e){var t=e.chart,n=e.fill,r=e.line;if(xR(n))return function(e,t){var n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){var t=e.scale,n=e.index,r=e.line,i=[],a=r.segments,o=r.points,s=function(e,t){for(var n=[],r=e.getMatchingVisibleMetas("line"),i=0;i<r.length;i++){var a=r[i];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}(t,n);s.push(tD({x:null,y:t.bottom},r));for(var l=0;l<a.length;l++)for(var u=a[l],c=u.start;c<=u.end;c++)aD(i,o[c],s);return new ON({points:i,options:{}})}(e);if("shape"===n)return!0;var i=function(e){var t=e.scale||{};if(t.getPointPositionForValue)return function(e){var t=e.scale,n=e.fill,r=t.options,i=t.getLabels().length,a=r.reverse?t.max:t.min,o=function(e,t,n){return"start"===e?n:"end"===e?t.options.reverse?t.min:t.max:bR(e)?e.value:t.getBaseValue()}(n,t,a),s=[];if(r.grid.circular){var l=t.getPointPositionForValue(0,a);return new sD({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(var u=0;u<i;++u)s.push(t.getPointPositionForValue(u,o));return s}(e);return function(e){var t=e.scale,n=void 0===t?{}:t,r=e.fill,i=function(e,t){var n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:bR(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(r,n);if(xR(i)){var a=n.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}(e)}(e);return i instanceof sD?i:tD(i,r)}function uD(e,t,n){var r=lD(t),i=t.line,a=t.scale,o=t.axis,s=i.options,l=s.fill,u=s.backgroundColor,c=l||{},h=c.above,d=void 0===h?u:h,f=c.below,p=void 0===f?u:f;r&&i.points.length&&(YC(e,n),function(e,t){var n=t.line,r=t.target,i=t.above,a=t.below,o=t.area,s=t.scale,l=n._loop?"angle":t.axis;e.save(),"x"===l&&a!==i&&(cD(e,r,o.top),hD(e,{line:n,target:r,color:i,scale:s,property:l}),e.restore(),e.save(),cD(e,r,o.bottom));hD(e,{line:n,target:r,color:a,scale:s,property:l}),e.restore()}(e,{line:i,target:r,above:d,below:p,area:n,scale:a,axis:o}),QC(e))}function cD(e,t,n){var r=t.segments,i=t.points,a=!0,o=!1;e.beginPath();var s,l=A(r);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.start,h=u.end,d=i[c],f=i[ZN(c,h,i)];a?(e.moveTo(d.x,d.y),a=!1):(e.lineTo(d.x,n),e.lineTo(d.x,d.y)),(o=!!t.pathSegment(e,u,{move:o}))?e.closePath():e.lineTo(f.x,n)}}catch(p){l.e(p)}finally{l.f()}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function hD(e,t){var n,r=t.line,i=t.target,a=t.property,o=t.color,l=t.scale,u=function(e,t,n){var r,i=e.segments,a=e.points,o=t.points,l=[],u=A(i);try{for(u.s();!(r=u.n()).done;){var c=r.value,h=c.start,d=c.end;d=ZN(h,d,a);var f=JN(n,a[h],a[d],c.loop);if(t.segments){var p,v=A(nI(t,f));try{for(v.s();!(p=v.n()).done;){var m,g=p.value,y=JN(n,o[g.start],o[g.end],g.loop),b=A(tI(c,a,y));try{for(b.s();!(m=b.n()).done;){var x=m.value;l.push({source:x,target:g,start:s({},n,eD(f,y,"start",Math.max)),end:s({},n,eD(f,y,"end",Math.min))})}}catch(_){b.e(_)}finally{b.f()}}}catch(_){v.e(_)}finally{v.f()}}else l.push({source:c,target:f,start:a[h],end:a[d]})}}catch(_){u.e(_)}finally{u.f()}return l}(r,i,a),c=A(u);try{for(c.s();!(n=c.n()).done;){var h=n.value,d=h.source,f=h.target,p=h.start,v=h.end,m=d.style,g=(void 0===m?{}:m).backgroundColor,y=void 0===g?o:g,b=!0!==i;e.save(),e.fillStyle=y,dD(e,l,b&&JN(a,p,v)),e.beginPath();var x=!!r.pathSegment(e,d),_=void 0;if(b){x?e.closePath():fD(e,i,v,a);var w=!!i.pathSegment(e,f,{move:x,reverse:!0});(_=x&&w)||fD(e,i,p,a)}e.closePath(),e.fill(_?"evenodd":"nonzero"),e.restore()}}catch(E){c.e(E)}finally{c.f()}}function dD(e,t,n){var r=t.chart.chartArea,i=r.top,a=r.bottom,o=n||{},s=o.property,l=o.start,u=o.end;"x"===s&&(e.beginPath(),e.rect(l,i,u-l,a-i),e.clip())}function fD(e,t,n,r){var i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var pD={id:"filler",afterDatasetsUpdate:function(e,t,n){var r,i,a,o,s=(e.data.datasets||[]).length,l=[];for(i=0;i<s;++i)o=null,(a=(r=e.getDatasetMeta(i)).dataset)&&a.options&&a instanceof ON&&(o={visible:e.isDatasetVisible(i),index:i,fill:iD(a,i,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=o,l.push(o);for(i=0;i<s;++i)(o=l[i])&&!1!==o.fill&&(o.fill=rD(l,i,n.propagate))},beforeDraw:function(e,t,n){for(var r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),a=e.chartArea,o=i.length-1;o>=0;--o){var s=i[o].$filler;s&&(s.line.updateControlPoints(a,s.axis),r&&s.fill&&uD(e.ctx,s,a))}},beforeDatasetsDraw:function(e,t,n){if("beforeDatasetsDraw"===n.drawTime)for(var r=e.getSortedVisibleDatasetMetas(),i=r.length-1;i>=0;--i){var a=r[i].$filler;nD(a)&&uD(e.ctx,a,e.chartArea)}},beforeDatasetDraw:function(e,t,n){var r=t.meta.$filler;nD(r)&&"beforeDatasetDraw"===n.drawTime&&uD(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},vD=function(e,t){var n=e.boxHeight,r=void 0===n?t:n,i=e.boxWidth,a=void 0===i?t:i;return e.usePointStyle&&(r=Math.min(r,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:r,itemHeight:Math.max(t,r)}},mD=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this))._added=!1,r.legendHitBoxes=[],r._hoveredItem=null,r.doughnutMode=!1,r.chart=e.chart,r.options=e.options,r.ctx=e.ctx,r.legendItems=void 0,r.columnSizes=void 0,r.lineWidths=void 0,r.maxHeight=void 0,r.maxWidth=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.height=void 0,r.width=void 0,r._margins=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return b(n,[{key:"update",value:function(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var e=this,t=this.options.labels||{},n=SR(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),t.sort&&(n=n.sort((function(n,r){return t.sort(n,r,e.chart.data)}))),this.options.reverse&&n.reverse(),this.legendItems=n}},{key:"fit",value:function(){var e=this.options,t=this.ctx;if(e.display){var n,r,i=e.labels,a=cO(i.font),o=a.size,s=this._computeTitleHeight(),l=vD(i,o),u=l.boxWidth,c=l.itemHeight;t.font=a.string,this.isHorizontal()?(n=this.maxWidth,r=this._fitRows(s,o,u,c)+10):(r=this.maxHeight,n=this._fitCols(s,a,u,c)+10),this.width=Math.min(n,e.maxWidth||this.maxWidth),this.height=Math.min(r,e.maxHeight||this.maxHeight)}else this.width=this.height=0}},{key:"_fitRows",value:function(e,t,n,r){var i=this.ctx,a=this.maxWidth,o=this.options.labels.padding,s=this.legendHitBoxes=[],l=this.lineWidths=[0],u=r+o,c=e;i.textAlign="left",i.textBaseline="middle";var h=-1,d=-u;return this.legendItems.forEach((function(e,f){var p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*o>a)&&(c+=u,l[l.length-(f>0?0:1)]=0,d+=u,h++),s[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+o})),c}},{key:"_fitCols",value:function(e,t,n,r){var i=this.ctx,a=this.maxHeight,o=this.options.labels.padding,s=this.legendHitBoxes=[],l=this.columnSizes=[],u=a-e,c=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach((function(e,a){var v=function(e,t,n,r,i){var a=function(e,t,n,r){var i=e.text;i&&"string"!==typeof i&&(i=i.reduce((function(e,t){return e.length>t.length?e:t})));return t+n.size/2+r.measureText(i).width}(r,e,t,n),o=function(e,t,n){var r=e;"string"!==typeof t.text&&(r=gD(t,n));return r}(i,r,t.lineHeight);return{itemWidth:a,itemHeight:o}}(n,t,i,e,r),m=v.itemWidth,g=v.itemHeight;a>0&&d+g+2*o>u&&(c+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),s[a]={left:f,top:d,col:p,width:m,height:g},h=Math.max(h,m),d+=g+o})),c+=h,l.push({width:h,height:d}),c}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var e=this._computeTitleHeight(),t=this.legendHitBoxes,n=this.options,r=n.align,i=n.labels.padding,a=KO(n.rtl,this.left,this.width);if(this.isHorizontal()){var o,s=0,l=bC(r,this.left+i,this.right-this.lineWidths[s]),u=A(t);try{for(u.s();!(o=u.n()).done;){var c=o.value;s!==c.row&&(s=c.row,l=bC(r,this.left+i,this.right-this.lineWidths[s])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}}catch(m){u.e(m)}finally{u.f()}}else{var h,d=0,f=bC(r,this.top+e+i,this.bottom-this.columnSizes[d].height),p=A(t);try{for(p.s();!(h=p.n()).done;){var v=h.value;v.col!==d&&(d=v.col,f=bC(r,this.top+e+i,this.bottom-this.columnSizes[d].height)),v.top=f,v.left+=this.left+i,v.left=a.leftForLtr(a.x(v.left),v.width),f+=v.height+i}}catch(m){p.e(m)}finally{p.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var e=this.ctx;YC(e,this),this._draw(),QC(e)}}},{key:"_draw",value:function(){var e,t=this,n=this.options,r=this.columnSizes,i=this.lineWidths,a=this.ctx,o=n.align,s=n.labels,l=BC.color,u=KO(n.rtl,this.left,this.width),c=cO(s.font),h=s.padding,d=c.size,f=d/2;this.drawTitle(),a.textAlign=u.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=c.string;var p=vD(s,d),v=p.boxWidth,m=p.boxHeight,g=p.itemHeight,y=this.isHorizontal(),b=this._computeTitleHeight();e=y?{x:bC(o,this.left+h,this.right-i[0]),y:this.top+h+b,line:0}:{x:this.left+h,y:bC(o,this.top+b+h,this.bottom-r[0].height),line:0},$O(this.ctx,n.textDirection);var x=g+h;this.legendItems.forEach((function(p,_){a.strokeStyle=p.fontColor,a.fillStyle=p.fontColor;var w=a.measureText(p.text).width,E=u.textAlign(p.textAlign||(p.textAlign=s.textAlign)),S=v+f+w,T=e.x,M=e.y;if(u.setWidth(t.width),y?_>0&&T+S+h>t.right&&(M=e.y+=x,e.line++,T=e.x=bC(o,t.left+h,t.right-i[e.line])):_>0&&M+x>t.bottom&&(T=e.x=T+r[e.line].width+h,e.line++,M=e.y=bC(o,t.top+b+h,t.bottom-r[e.line].height)),function(e,t,n){if(!(isNaN(v)||v<=0||isNaN(m)||m<0)){a.save();var r=wR(n.lineWidth,1);if(a.fillStyle=wR(n.fillStyle,l),a.lineCap=wR(n.lineCap,"butt"),a.lineDashOffset=wR(n.lineDashOffset,0),a.lineJoin=wR(n.lineJoin,"miter"),a.lineWidth=r,a.strokeStyle=wR(n.strokeStyle,l),a.setLineDash(wR(n.lineDash,[])),s.usePointStyle){var i={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},o=u.xPlus(e,v/2);qC(a,i,o,t+f,s.pointStyleWidth&&v)}else{var c=t+Math.max((d-m)/2,0),h=u.leftForLtr(e,v),p=lO(n.borderRadius);a.beginPath(),Object.values(p).some((function(e){return 0!==e}))?tO(a,{x:h,y:c,w:v,h:m,radius:p}):a.rect(h,c,v,m),a.fill(),0!==r&&a.stroke()}a.restore()}}(u.x(T),M,p),T=function(e,t,n,r){return e===(r?"left":"right")?n:"center"===e?(t+n)/2:t}(E,T+v+f,y?T+S:t.right,n.rtl),function(e,t,n){eO(a,n.text,e,t+g/2,c,{strikethrough:n.hidden,textAlign:u.textAlign(n.textAlign)})}(u.x(T),M,p),y)e.x+=S+h;else if("string"!==typeof p.text){var k=c.lineHeight;e.y+=gD(p,k)+h}else e.y+=x})),JO(this.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var e=this.options,t=e.title,n=cO(t.font),r=uO(t.padding);if(t.display){var i,a=KO(e.rtl,this.left,this.width),o=this.ctx,s=t.position,l=n.size/2,u=r.top+l,c=this.left,h=this.width;if(this.isHorizontal())h=Math.max.apply(Math,m(this.lineWidths)),i=this.top+u,c=bC(e.align,c,this.right-h);else{var d=this.columnSizes.reduce((function(e,t){return Math.max(e,t.height)}),0);i=u+bC(e.align,this.top,this.bottom-d-e.labels.padding-this._computeTitleHeight())}var f=bC(s,c,c+h);o.textAlign=a.textAlign(yC(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,eO(o,t.text,f,i,n)}}},{key:"_computeTitleHeight",value:function(){var e=this.options.title,t=cO(e.font),n=uO(e.padding);return e.display?t.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(e,t){var n,r,i;if(uC(e,this.left,this.right)&&uC(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(uC(e,(r=i[n]).left,r.left+r.width)&&uC(t,r.top,r.top+r.height))return this.legendItems[n];return null}},{key:"handleEvent",value:function(e){var t=this.options;if(function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t)){var n,r,i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){var a=this._hoveredItem,o=(r=i,null!==(n=a)&&null!==r&&n.datasetIndex===r.datasetIndex&&n.index===r.index);a&&!o&&SR(t.onLeave,[e,a,this],this),this._hoveredItem=i,i&&!o&&SR(t.onHover,[e,i,this],this)}else i&&SR(t.onClick,[e,i,this],this)}}}]),n}(RP);function gD(e,t){return t*(e.text?e.text.length:0)}var yD={id:"legend",_element:mD,start:function(e,t,n){var r=e.legend=new mD({ctx:e.ctx,options:n,chart:e});cP(e,r,n),lP(e,r)},stop:function(e){uP(e,e.legend),delete e.legend},beforeUpdate:function(e,t,n){var r=e.legend;cP(e,r,n),r.options=n},afterUpdate:function(e){var t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent:function(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(e,t,n){var r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(e){return e.chart.options.color},boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.legend.options.labels,r=n.usePointStyle,i=n.pointStyle,a=n.textAlign,o=n.color,s=n.useBorderRadius,l=n.borderRadius;return e._getSortedDatasetMetas().map((function(e){var n=e.controller.getStyle(r?0:void 0),u=uO(n.borderWidth);return{text:t[e.index].label,fillStyle:n.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:n.borderColor,pointStyle:i||n.pointStyle,rotation:n.rotation,textAlign:a||n.textAlign,borderRadius:s&&(l||n.borderRadius),datasetIndex:e.index}}),this)}},title:{color:function(e){return e.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(e){return!e.startsWith("on")},labels:{_scriptable:function(e){return!["generateLabels","filter","sort"].includes(e)}}}},bD=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).chart=e.chart,r.options=e.options,r.ctx=e.ctx,r._padding=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return b(n,[{key:"update",value:function(e,t){var n=this.options;if(this.left=0,this.top=0,n.display){this.width=this.right=e,this.height=this.bottom=t;var r=yR(n.text)?n.text.length:1;this._padding=uO(n.padding);var i=r*cO(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}else this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var e=this.options.position;return"top"===e||"bottom"===e}},{key:"_drawArgs",value:function(e){var t,n,r,i=this.top,a=this.left,o=this.bottom,s=this.right,l=this.options,u=l.align,c=0;return this.isHorizontal()?(n=bC(u,a,s),r=i+e,t=s-a):("left"===l.position?(n=a+e,r=bC(u,o,i),c=-.5*BR):(n=s-e,r=bC(u,i,o),c=.5*BR),t=o-i),{titleX:n,titleY:r,maxWidth:t,rotation:c}}},{key:"draw",value:function(){var e=this.ctx,t=this.options;if(t.display){var n=cO(t.font),r=n.lineHeight/2+this._padding.top,i=this._drawArgs(r),a=i.titleX,o=i.titleY,s=i.maxWidth,l=i.rotation;eO(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:l,textAlign:yC(t.align),textBaseline:"middle",translation:[a,o]})}}}]),n}(RP);var xD={id:"title",_element:bD,start:function(e,t,n){!function(e,t){var n=new bD({ctx:e.ctx,options:t,chart:e});cP(e,n,t),lP(e,n),e.titleBlock=n}(e,n)},stop:function(e){var t=e.titleBlock;uP(e,t),delete e.titleBlock},beforeUpdate:function(e,t,n){var r=e.titleBlock;cP(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},_D=new WeakMap,wD={id:"subtitle",start:function(e,t,n){var r=new bD({ctx:e.ctx,options:n,chart:e});cP(e,r,n),lP(e,r),_D.set(e,r)},stop:function(e){uP(e,_D.get(e)),_D.delete(e)},beforeUpdate:function(e,t,n){var r=_D.get(e);cP(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ED={average:function(e){if(!e.length)return!1;var t,n,r=0,i=0,a=0;for(t=0,n=e.length;t<n;++t){var o=e[t].element;if(o&&o.hasValue()){var s=o.tooltipPosition();r+=s.x,i+=s.y,++a}}return{x:r/a,y:i/a}},nearest:function(e,t){if(!e.length)return!1;var n,r,i,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var l=e[n].element;if(l&&l.hasValue()){var u=iC(t,l.getCenterPoint());u<s&&(s=u,i=l)}}if(i){var c=i.tooltipPosition();a=c.x,o=c.y}return{x:a,y:o}}};function SD(e,t){return t&&(yR(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function TD(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function MD(e,t){var n=t.element,r=t.datasetIndex,i=t.index,a=e.getDatasetMeta(r).controller,o=a.getLabelAndValue(i),s=o.label,l=o.value;return{chart:e,label:s,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:l,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function kD(e,t){var n=e.chart.ctx,r=e.body,i=e.footer,a=e.title,o=t.boxWidth,s=t.boxHeight,l=cO(t.bodyFont),u=cO(t.titleFont),c=cO(t.footerFont),h=a.length,d=i.length,f=r.length,p=uO(t.padding),v=p.height,m=0,g=r.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);(g+=e.beforeBody.length+e.afterBody.length,h&&(v+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),g)&&(v+=f*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(g-f)*l.lineHeight+(g-1)*t.bodySpacing);d&&(v+=t.footerMarginTop+d*c.lineHeight+(d-1)*t.footerSpacing);var y=0,b=function(e){m=Math.max(m,n.measureText(e).width+y)};return n.save(),n.font=u.string,TR(e.title,b),n.font=l.string,TR(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?o+2+t.boxPadding:0,TR(r,(function(e){TR(e.before,b),TR(e.lines,b),TR(e.after,b)})),y=0,n.font=c.string,TR(e.footer,b),n.restore(),{width:m+=p.width,height:v}}function AD(e,t,n,r){var i=n.x,a=n.width,o=e.width,s=e.chartArea,l=s.left,u=s.right,c="center";return"center"===r?c=i<=(l+u)/2?"left":"right":i<=a/2?c="left":i>=o-a/2&&(c="right"),function(e,t,n,r){var i=r.x,a=r.width,o=n.caretSize+n.caretPadding;return"left"===e&&i+a+o>t.width||"right"===e&&i-a-o<0||void 0}(c,e,t,n)&&(c="center"),c}function RD(e,t,n){var r=n.yAlign||t.yAlign||function(e,t){var n=t.y,r=t.height;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||AD(e,t,n,r),yAlign:r}}function CD(e,t,n,r){var i=e.caretSize,a=e.caretPadding,o=e.cornerRadius,s=n.xAlign,l=n.yAlign,u=i+a,c=lO(o),h=c.topLeft,d=c.topRight,f=c.bottomLeft,p=c.bottomRight,v=function(e,t){var n=e.x,r=e.width;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,s),m=function(e,t,n){var r=e.y,i=e.height;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,u);return"center"===l?"left"===s?v+=u:"right"===s&&(v-=u):"left"===s?v-=Math.max(h,f)+i:"right"===s&&(v+=Math.max(d,p)+i),{x:lC(v,0,r.width-t.width),y:lC(m,0,r.height-t.height)}}function OD(e,t,n){var r=uO(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function ID(e){return SD([],TD(e))}function PD(e,t){var n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}var ND={beforeTitle:vR,title:function(e){if(e.length>0){var t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:vR,beforeBody:vR,beforeLabel:vR,label:function(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;var t=e.dataset.label||"";t&&(t+=": ");var n=e.formattedValue;return gR(n)||(t+=n),t},labelColor:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:vR,afterBody:vR,beforeFooter:vR,footer:vR,afterFooter:vR};function DD(e,t,n,r){var i=e[t].call(n,r);return"undefined"===typeof i?ND[t].call(n,r):i}var LD=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this)).opacity=0,r._active=[],r._eventPosition=void 0,r._size=void 0,r._cachedAnimations=void 0,r._tooltipItems=[],r.$animations=void 0,r.$context=void 0,r.chart=e.chart,r.options=e.options,r.dataPoints=void 0,r.title=void 0,r.beforeBody=void 0,r.body=void 0,r.afterBody=void 0,r.footer=void 0,r.xAlign=void 0,r.yAlign=void 0,r.x=void 0,r.y=void 0,r.height=void 0,r.width=void 0,r.caretX=void 0,r.caretY=void 0,r.labelColors=void 0,r.labelPointStyles=void 0,r.labelTextColors=void 0,r}return b(n,[{key:"initialize",value:function(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var e=this._cachedAnimations;if(e)return e;var t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new hI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}},{key:"getContext",value:function(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,dO(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}},{key:"getTitle",value:function(e,t){var n=t.callbacks,r=DD(n,"beforeTitle",this,e),i=DD(n,"title",this,e),a=DD(n,"afterTitle",this,e),o=[];return o=SD(o,TD(r)),o=SD(o,TD(i)),o=SD(o,TD(a))}},{key:"getBeforeBody",value:function(e,t){return ID(DD(t.callbacks,"beforeBody",this,e))}},{key:"getBody",value:function(e,t){var n=this,r=t.callbacks,i=[];return TR(e,(function(e){var t={before:[],lines:[],after:[]},a=PD(r,e);SD(t.before,TD(DD(a,"beforeLabel",n,e))),SD(t.lines,DD(a,"label",n,e)),SD(t.after,TD(DD(a,"afterLabel",n,e))),i.push(t)})),i}},{key:"getAfterBody",value:function(e,t){return ID(DD(t.callbacks,"afterBody",this,e))}},{key:"getFooter",value:function(e,t){var n=t.callbacks,r=DD(n,"beforeFooter",this,e),i=DD(n,"footer",this,e),a=DD(n,"afterFooter",this,e),o=[];return o=SD(o,TD(r)),o=SD(o,TD(i)),o=SD(o,TD(a))}},{key:"_createItems",value:function(e){var t,n,r=this,i=this._active,a=this.chart.data,o=[],s=[],l=[],u=[];for(t=0,n=i.length;t<n;++t)u.push(MD(this.chart,i[t]));return e.filter&&(u=u.filter((function(t,n,r){return e.filter(t,n,r,a)}))),e.itemSort&&(u=u.sort((function(t,n){return e.itemSort(t,n,a)}))),TR(u,(function(t){var n=PD(e.callbacks,t);o.push(DD(n,"labelColor",r,t)),s.push(DD(n,"labelPointStyle",r,t)),l.push(DD(n,"labelTextColor",r,t))})),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=l,this.dataPoints=u,u}},{key:"update",value:function(e,t){var n,r=this.options.setContext(this.getContext()),i=this._active,a=[];if(i.length){var o=ED[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);var s=this._size=kD(this,r),l=Object.assign({},o,s),u=RD(this.chart,r,l),c=CD(r,l,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,n={opacity:1,x:c.x,y:c.y,width:s.width,height:s.height,caretX:o.x,caretY:o.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=a,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}},{key:"drawCaret",value:function(e,t,n,r){var i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}},{key:"getCaretPosition",value:function(e,t,n){var r,i,a,o,s,l,u=this.xAlign,c=this.yAlign,h=n.caretSize,d=lO(n.cornerRadius),f=d.topLeft,p=d.topRight,v=d.bottomLeft,m=d.bottomRight,g=e.x,y=e.y,b=t.width,x=t.height;return"center"===c?(s=y+x/2,"left"===u?(i=(r=g)-h,o=s+h,l=s-h):(i=(r=g+b)+h,o=s-h,l=s+h),a=r):(i="left"===u?g+Math.max(f,v)+h:"right"===u?g+b-Math.max(p,m)-h:this.caretX,"top"===c?(s=(o=y)-h,r=i-h,a=i+h):(s=(o=y+x)+h,r=i+h,a=i-h),l=o),{x1:r,x2:i,x3:a,y1:o,y2:s,y3:l}}},{key:"drawTitle",value:function(e,t,n){var r,i,a,o=this.title,s=o.length;if(s){var l=KO(n.rtl,this.x,this.width);for(e.x=OD(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",r=cO(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,a=0;a<s;++a)t.fillText(o[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i,a+1===s&&(e.y+=n.titleMarginBottom-i)}}},{key:"_drawColorBox",value:function(e,t,n,r,i){var a=this.labelColors[n],o=this.labelPointStyles[n],s=i.boxHeight,l=i.boxWidth,u=cO(i.bodyFont),c=OD(this,"left",i),h=r.x(c),d=s<u.lineHeight?(u.lineHeight-s)/2:0,f=t.y+d;if(i.usePointStyle){var p={radius:Math.min(l,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=r.leftForLtr(h,l)+l/2,g=f+s/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,GC(e,p,v,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,GC(e,p,v,g)}else{e.lineWidth=bR(a.borderWidth)?Math.max.apply(Math,m(Object.values(a.borderWidth))):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;var y=r.leftForLtr(h,l),b=r.leftForLtr(r.xPlus(h,1),l-2),x=lO(a.borderRadius);Object.values(x).some((function(e){return 0!==e}))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,tO(e,{x:y,y:f,w:l,h:s,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),tO(e,{x:b,y:f+1,w:l-2,h:s-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,f,l,s),e.strokeRect(y,f,l,s),e.fillStyle=a.backgroundColor,e.fillRect(b,f+1,l-2,s-2))}e.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(e,t,n){var r,i,a,o,s,l,u,c=this.body,h=n.bodySpacing,d=n.bodyAlign,f=n.displayColors,p=n.boxHeight,v=n.boxWidth,m=n.boxPadding,g=cO(n.bodyFont),y=g.lineHeight,b=0,x=KO(n.rtl,this.x,this.width),_=function(n){t.fillText(n,x.x(e.x+b),e.y+y/2),e.y+=y+h},w=x.textAlign(d);for(t.textAlign=d,t.textBaseline="middle",t.font=g.string,e.x=OD(this,w,n),t.fillStyle=n.bodyColor,TR(this.beforeBody,_),b=f&&"right"!==w?"center"===d?v/2+m:v+2+m:0,o=0,l=c.length;o<l;++o){for(r=c[o],i=this.labelTextColors[o],t.fillStyle=i,TR(r.before,_),a=r.lines,f&&a.length&&(this._drawColorBox(t,e,o,x,n),y=Math.max(g.lineHeight,p)),s=0,u=a.length;s<u;++s)_(a[s]),y=g.lineHeight;TR(r.after,_)}b=0,y=g.lineHeight,TR(this.afterBody,_),e.y-=h}},{key:"drawFooter",value:function(e,t,n){var r,i,a=this.footer,o=a.length;if(o){var s=KO(n.rtl,this.x,this.width);for(e.x=OD(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",r=cO(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,i=0;i<o;++i)t.fillText(a[i],s.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(e,t,n,r){var i=this.xAlign,a=this.yAlign,o=e.x,s=e.y,l=n.width,u=n.height,c=lO(r.cornerRadius),h=c.topLeft,d=c.topRight,f=c.bottomLeft,p=c.bottomRight;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+h,s),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+l-d,s),t.quadraticCurveTo(o+l,s,o+l,s+d),"center"===a&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+l,s+u-p),t.quadraticCurveTo(o+l,s+u,o+l-p,s+u),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+f,s+u),t.quadraticCurveTo(o,s+u,o,s+u-f),"center"===a&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,s+h),t.quadraticCurveTo(o,s,o+h,s),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}},{key:"_updateAnimationTarget",value:function(e){var t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){var a=ED[e.position].call(this,this._active,this._eventPosition);if(!a)return;var o=this._size=kD(this,e),s=Object.assign({},a,this._size),l=RD(t,e,s),u=CD(e,s,l,t);r._to===u.x&&i._to===u.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(e){var t=this.options.setContext(this.getContext()),n=this.opacity;if(n){this._updateAnimationTarget(t);var r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;var a=uO(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),$O(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),JO(e,t.textDirection),e.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e,t){var n=this,r=this._active,i=e.map((function(e){var t=e.datasetIndex,r=e.index,i=n.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[r],index:r}})),a=!MR(r,i),o=this._positionChanged(i,t);(a||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var r=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),o=this._positionChanged(a,e),s=t||!MR(a,i)||o;return s&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}},{key:"_getActiveElements",value:function(e,t,n,r){var i=this.options;if("mouseout"===e.type)return[];if(!r)return t;var a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}},{key:"_positionChanged",value:function(e,t){var n=this.caretX,r=this.caretY,i=this.options,a=ED[i.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}]),n}(RP);s(LD,"positioners",ED);var UD={id:"tooltip",_element:LD,positioners:ED,afterInit:function(e,t,n){n&&(e.tooltip=new LD({chart:e,options:n}))},beforeUpdate:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw:function(e){var t=e.tooltip;if(t&&t._willRender()){var n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",u(u({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent:function(e,t){if(e.tooltip){var n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(e,t){return t.bodyFont.size},boxWidth:function(e,t){return t.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ND},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(e){return"filter"!==e&&"itemSort"!==e&&"external"!==e},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},FD=Object.freeze({__proto__:null,Colors:YN,Decimation:$N,Filler:pD,Legend:yD,SubTitle:wD,Title:xD,Tooltip:UD});function jD(e,t,n,r){var i=e.indexOf(t);return-1===i?function(e,t,n,r){return"string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n}(e,t,n,r):i!==e.lastIndexOf(t)?n:i}function BD(e){var t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var zD=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this,e))._startValue=void 0,r._valueRange=0,r._addedLabels=[],r}return b(n,[{key:"init",value:function(e){var t=this._addedLabels;if(t.length){var r,i=this.getLabels(),a=A(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.index,l=o.label;i[s]===l&&i.splice(s,1)}}catch(u){a.e(u)}finally{a.f()}this._addedLabels=[]}py(w(n.prototype),"init",this).call(this,e)}},{key:"parse",value:function(e,t){if(gR(e))return null;var n=this.getLabels();return function(e,t){return null===e?null:lC(Math.round(e),0,t)}(t=isFinite(t)&&n[t]===e?t:jD(n,e,wR(t,e),this._addedLabels),n.length-1)}},{key:"determineDataLimits",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.getMinMax(!0),i=r.min,a=r.max;"ticks"===this.options.bounds&&(t||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}},{key:"buildTicks",value:function(){var e=this.min,t=this.max,n=this.options.offset,r=[],i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(var a=e;a<=t;a++)r.push({value:a});return r}},{key:"getLabelForValue",value:function(e){return BD.call(this,e)}},{key:"configure",value:function(){py(w(n.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getValueForPixel",value:function(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(jP);function VD(e,t){var n,r,i,a,o=[],s=e.bounds,l=e.step,u=e.min,c=e.max,h=e.precision,d=e.count,f=e.maxTicks,p=e.maxDigits,v=e.includeBounds,m=l||1,g=f-1,y=t.min,b=t.max,x=!gR(u),_=!gR(c),w=!gR(d),E=(b-y)/(p+1),S=$R((b-y)/g/m)*m;if(S<1e-14&&!x&&!_)return[{value:y},{value:b}];(a=Math.ceil(b/S)-Math.floor(y/S))>g&&(S=$R(a*S/g/m)*m),gR(h)||(n=Math.pow(10,h),S=Math.ceil(S*n)/n),"ticks"===s?(r=Math.floor(y/S)*S,i=Math.ceil(b/S)*S):(r=y,i=b),x&&_&&l&&function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e}((c-u)/l,S/1e3)?(S=(c-u)/(a=Math.round(Math.min((c-u)/S,f))),r=u,i=c):w?S=((i=_?c:i)-(r=x?u:r))/(a=d-1):a=KR(a=(i-r)/S,Math.round(a),S/1e3)?Math.round(a):Math.ceil(a);var T=Math.max(nC(S),nC(r));n=Math.pow(10,gR(h)?T:h),r=Math.round(r*n)/n,i=Math.round(i*n)/n;var M=0;for(x&&(v&&r!==u?(o.push({value:u}),r<u&&M++,KR(Math.round((r+M*S)*n)/n,u,HD(u,E,e))&&M++):r<u&&M++);M<a;++M){var k=Math.round((r+M*S)*n)/n;if(_&&k>c)break;o.push({value:k})}return _&&v&&i!==c?o.length&&KR(o[o.length-1].value,c,HD(c,E,e))?o[o.length-1].value=c:o.push({value:c}):_&&i!==c||o.push({value:i}),o}function HD(e,t,n){var r=n.horizontal,i=eC(n.minRotation),a=(r?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}s(zD,"id","category"),s(zD,"defaults",{ticks:{callback:BD}});var WD=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._endValue=void 0,r._valueRange=0,r}return b(n,[{key:"parse",value:function(e,t){return gR(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var e=this.options.beginAtZero,t=this.getUserBounds(),n=t.minDefined,r=t.maxDefined,i=this.min,a=this.max,o=function(e){return i=n?i:e},s=function(e){return a=r?a:e};if(e){var l=QR(i),u=QR(a);l<0&&u<0?s(0):l>0&&u>0&&o(0)}if(i===a){var c=0===a?1:Math.abs(.05*a);s(a+c),e||o(i-c)}this.min=i,this.max=a}},{key:"getTickLimit",value:function(){var e,t=this.options.ticks,n=t.maxTicksLimit,r=t.stepSize;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var e=this.options,t=e.ticks,n=this.getTickLimit(),r=VD({maxTicks:n=Math.max(2,n),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&ZR(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}},{key:"configure",value:function(){var e=this.ticks,t=this.min,r=this.max;if(py(w(n.prototype),"configure",this).call(this),this.options.offset&&e.length){var i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}},{key:"getLabelForValue",value:function(e){return IC(e,this.chart.options.locale,this.options.ticks.format)}}]),n}(jP),GD=function(e){_(n,e);var t=T(n);function n(){return g(this,n),t.apply(this,arguments)}return b(n,[{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=xR(t)?t:0,this.max=xR(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var e=this.isHorizontal(),t=e?this.width:this.height,n=eC(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}]),n}(WD);s(GD,"id","linear"),s(GD,"defaults",{ticks:{callback:NC.formatters.numeric}});var qD=function(e){return Math.floor(YR(e))},XD=function(e,t){return Math.pow(10,qD(e)+t)};function YD(e){return 1===e/Math.pow(10,qD(e))}function QD(e,t,n){var r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function KD(e,t){var n=t.min,r=t.max;n=_R(e.min,n);for(var i=[],a=qD(n),o=function(e,t){for(var n=qD(t-e);QD(e,t,n)>10;)n++;for(;QD(e,t,n)<10;)n--;return Math.min(n,qD(e))}(n,r),s=o<0?Math.pow(10,Math.abs(o)):1,l=Math.pow(10,o),u=a>o?Math.pow(10,a):0,c=Math.round((n-u)*s)/s,h=Math.floor((n-u)/l/10)*l*10,d=Math.floor((c-h)/Math.pow(10,o)),f=_R(e.min,Math.round((u+h+d*Math.pow(10,o))*s)/s);f<r;)i.push({value:f,major:YD(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(d=2,s=++o>=0?1:s),f=Math.round((u+h+d*Math.pow(10,o))*s)/s;var p=_R(e.max,f);return i.push({value:p,major:YD(p),significand:d}),i}var $D=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._valueRange=0,r}return b(n,[{key:"parse",value:function(e,t){var n=WD.prototype.parse.apply(this,[e,t]);if(0!==n)return xR(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=xR(t)?Math.max(0,t):null,this.max=xR(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xR(this._userMin)&&(this.min=t===XD(this.min,0)?XD(this.min,-1):XD(this.min,0)),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.min,i=this.max,a=function(e){return r=t?r:e},o=function(e){return i=n?i:e};r===i&&(r<=0?(a(1),o(10)):(a(XD(r,-1)),o(XD(i,1)))),r<=0&&a(XD(i,-1)),i<=0&&o(XD(r,1)),this.min=r,this.max=i}},{key:"buildTicks",value:function(){var e=this.options,t=KD({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&ZR(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":IC(e,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var e=this.min;py(w(n.prototype),"configure",this).call(this),this._startValue=YR(e),this._valueRange=YR(this.max)-YR(e)}},{key:"getPixelForValue",value:function(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(YR(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){var t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}]),n}(jP);function JD(e){var t=e.ticks;if(t.display&&e.display){var n=uO(t.backdropPadding);return wR(t.font&&t.font.size,BC.font.size)+n.height}return 0}function ZD(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function eL(e){for(var t,n,r,i={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},a=Object.assign({},i),o=[],s=[],l=e._pointLabels.length,u=e.options.pointLabels,c=u.centerPointLabels?BR/l:0,h=0;h<l;h++){var d=u.setContext(e.getPointLabelContext(h));s[h]=d.padding;var f=e.getPointPosition(h,e.drawingArea+s[h],c),p=cO(d.font),v=(t=e.ctx,n=p,r=yR(r=e._pointLabels[h])?r:[r],{w:VC(t,n.string,r),h:r.length*n.lineHeight});o[h]=v;var m=oC(e.getIndexAngle(h)+c),g=Math.round(tC(m));tL(a,i,m,ZD(g,f.x,v.w,0,180),ZD(g,f.y,v.h,90,270))}e.setCenterPoint(i.l-a.l,a.r-i.r,i.t-a.t,a.b-i.b),e._pointLabelItems=function(e,t,n){for(var r,i=[],a=e._pointLabels.length,o=e.options,s=o.pointLabels,l=s.centerPointLabels,u=s.display,c={extra:JD(o)/2,additionalAngle:l?BR/a:0},h=0;h<a;h++){c.padding=n[h],c.size=t[h];var d=nL(e,h,c);i.push(d),"auto"===u&&(d.visible=rL(d,r),d.visible&&(r=d))}return i}(e,o,s)}function tL(e,t,n,r,i){var a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),s=0,l=0;r.start<t.l?(s=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),i.start<t.t?(l=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function nL(e,t,n){var r=e.drawingArea,i=n.extra,a=n.additionalAngle,o=n.padding,s=n.size,l=e.getPointPosition(t,r+i+o,a),u=Math.round(tC(oC(l.angle+GR))),c=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,s.h,u),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(u),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,s.w,h);return{visible:!0,x:l.x,y:c,textAlign:h,left:d,top:c,right:d+s.w,bottom:c+s.h}}function rL(e,t){if(!t)return!0;var n=e.left,r=e.top,i=e.right,a=e.bottom;return!(XC({x:n,y:r},t)||XC({x:n,y:a},t)||XC({x:i,y:r},t)||XC({x:i,y:a},t))}function iL(e,t,n){var r=n.left,i=n.top,a=n.right,o=n.bottom,s=t.backdropColor;if(!gR(s)){var l=lO(t.borderRadius),u=uO(t.backdropPadding);e.fillStyle=s;var c=r-u.left,h=i-u.top,d=a-r+u.width,f=o-i+u.height;Object.values(l).some((function(e){return 0!==e}))?(e.beginPath(),tO(e,{x:c,y:h,w:d,h:f,radius:l}),e.fill()):e.fillRect(c,h,d,f)}}function aL(e,t,n,r){var i=e.ctx;if(n)i.arc(e.xCenter,e.yCenter,t,0,zR);else{var a=e.getPointPosition(0,t);i.moveTo(a.x,a.y);for(var o=1;o<r;o++)a=e.getPointPosition(o,t),i.lineTo(a.x,a.y)}}s($D,"id","logarithmic"),s($D,"defaults",{ticks:{callback:NC.formatters.logarithmic,major:{enabled:!0}}});var oL=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).xCenter=void 0,r.yCenter=void 0,r.drawingArea=void 0,r._pointLabels=[],r._pointLabelItems=[],r}return b(n,[{key:"setDimensions",value:function(){var e=this._padding=uO(JD(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!1),t=e.min,n=e.max;this.min=xR(t)&&!isNaN(t)?t:0,this.max=xR(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/JD(this.options))}},{key:"generateTickLabels",value:function(e){var t=this;WD.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((function(e,n){var r=SR(t.options.pointLabels.callback,[e,n],t);return r||0===r?r:""})).filter((function(e,n){return t.chart.getDataVisibility(n)}))}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?eL(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}},{key:"getIndexAngle",value:function(e){return oC(e*(zR/(this._pointLabels.length||1))+eC(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(e){if(gR(e))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}},{key:"getValueForDistanceFromCenter",value:function(e){if(gR(e))return NaN;var t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}},{key:"getPointLabelContext",value:function(e){var t=this._pointLabels||[];if(e>=0&&e<t.length){var n=t[e];return function(e,t,n){return dO(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}},{key:"getPointPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getIndexAngle(e)-GR+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}},{key:"getPointPositionForValue",value:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(e){var t=this._pointLabelItems[e];return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"drawBackground",value:function(){var e=this.options,t=e.backgroundColor,n=e.grid.circular;if(t){var r=this.ctx;r.save(),r.beginPath(),aL(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}},{key:"drawGrid",value:function(){var e,t,n,r=this,i=this.ctx,a=this.options,o=a.angleLines,s=a.grid,l=a.border,u=this._pointLabels.length;if(a.pointLabels.display&&function(e,t){for(var n=e.ctx,r=e.options.pointLabels,i=t-1;i>=0;i--){var a=e._pointLabelItems[i];if(a.visible){var o=r.setContext(e.getPointLabelContext(i));iL(n,o,a);var s=cO(o.font),l=a.x,u=a.y,c=a.textAlign;eO(n,e._pointLabels[i],l,u+s.lineHeight/2,s,{color:o.color,textAlign:c,textBaseline:"middle"})}}}(this,u),s.display&&this.ticks.forEach((function(e,n){if(0!==n){t=r.getDistanceFromCenterForValue(e.value);var i=r.getContext(n),a=s.setContext(i),o=l.setContext(i);!function(e,t,n,r,i){var a=e.ctx,o=t.circular,s=t.color,l=t.lineWidth;!o&&!r||!s||!l||n<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(i.dash),a.lineDashOffset=i.dashOffset,a.beginPath(),aL(e,n,o,r),a.closePath(),a.stroke(),a.restore())}(r,a,t,u,o)}})),o.display){for(i.save(),e=u-1;e>=0;e--){var c=o.setContext(this.getPointLabelContext(e)),h=c.color,d=c.lineWidth;d&&h&&(i.lineWidth=d,i.strokeStyle=h,i.setLineDash(c.borderDash),i.lineDashOffset=c.borderDashOffset,t=this.getDistanceFromCenterForValue(a.ticks.reverse?this.min:this.max),n=this.getPointPosition(e,t),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(n.x,n.y),i.stroke())}i.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var e=this,t=this.ctx,n=this.options,r=n.ticks;if(r.display){var i,a,o=this.getIndexAngle(0);t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((function(o,s){if(0!==s||n.reverse){var l=r.setContext(e.getContext(s)),u=cO(l.font);if(i=e.getDistanceFromCenterForValue(e.ticks[s].value),l.showLabelBackdrop){t.font=u.string,a=t.measureText(o.label).width,t.fillStyle=l.backdropColor;var c=uO(l.backdropPadding);t.fillRect(-a/2-c.left,-i-u.size/2-c.top,a+c.width,u.size+c.height)}eO(t,o.label,0,-i,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}})),t.restore()}}},{key:"drawTitle",value:function(){}}]),n}(WD);s(oL,"id","radialLinear"),s(oL,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:NC.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(e){return e},padding:5,centerPointLabels:!1}}),s(oL,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),s(oL,"descriptors",{angleLines:{_fallback:"grid"}});var sL={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},lL=Object.keys(sL);function uL(e,t){return e-t}function cL(e,t){if(gR(t))return null;var n=e._adapter,r=e._parseOpts,i=r.parser,a=r.round,o=r.isoWeekday,s=t;return"function"===typeof i&&(s=i(s)),xR(s)||(s="string"===typeof i?n.parse(s,i):n.parse(s)),null===s?null:(a&&(s="week"!==a||!JR(o)&&!0!==o?n.startOf(s,a):n.startOf(s,"isoWeek",o)),+s)}function hL(e,t,n,r){for(var i=lL.length,a=lL.indexOf(e);a<i-1;++a){var o=sL[lL[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(s*o.size))<=r)return lL[a]}return lL[i-1]}function dL(e,t,n){if(n){if(n.length){var r=cC(n,t),i=r.lo,a=r.hi;e[n[i]>=t?n[i]:n[a]]=!0}}else e[t]=!0}function fL(e,t,n){var r,i,a=[],o={},s=t.length;for(r=0;r<s;++r)o[i=t[r]]=r,a.push({value:i,major:!1});return 0!==s&&n?function(e,t,n,r){var i,a,o=e._adapter,s=+o.startOf(t[0].value,r),l=t[t.length-1].value;for(i=s;i<=l;i=+o.add(i,1,r))(a=n[i])>=0&&(t[a].major=!0);return t}(e,a,o,n):a}var pL=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this,e))._cache={data:[],labels:[],all:[]},r._unit="day",r._majorUnit=void 0,r._offsets={},r._normalized=!1,r._parseOpts=void 0,r}return b(n,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.time||(e.time={}),i=this._adapter=new VI._date(e.adapters.date);i.init(t),OR(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},py(w(n.prototype),"init",this).call(this,e),this._normalized=t.normalized}},{key:"parse",value:function(e,t){return void 0===e?null:cL(this,e)}},{key:"beforeLayout",value:function(){py(w(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var e=this.options,t=this._adapter,n=e.time.unit||"day",r=this.getUserBounds(),i=r.min,a=r.max,o=r.minDefined,s=r.maxDefined;function l(e){o||isNaN(e.min)||(i=Math.min(i,e.min)),s||isNaN(e.max)||(a=Math.max(a,e.max))}o&&s||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),i=xR(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=xR(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}},{key:"_getLabelBounds",value:function(){var e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}},{key:"buildTicks",value:function(){var e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);var i=this.min,a=function(e,t,n){for(var r=0,i=e.length;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?hL(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(var a=lL.length-1;a>=lL.indexOf(n);a--){var o=lL[a];if(sL[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return lL[n?lL.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(var t=lL.indexOf(e)+1,n=lL.length;t<n;++t)if(sL[lL[t]].common)return lL[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),fL(this,a,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((function(e){return+e.value})))}},{key:"initOffsets",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);var a=n.length<3?.5:.25;r=lC(r,0,a),i=lC(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}},{key:"_generate",value:function(){var e,t,n=this._adapter,r=this.min,i=this.max,a=this.options,o=a.time,s=o.unit||hL(o.minUnit,r,i,this._getLabelCapacity(r)),l=wR(a.ticks.stepSize,1),u="week"===s&&o.isoWeekday,c=JR(u)||!0===u,h={},d=r;if(c&&(d=+n.startOf(d,"isoWeek",u)),d=+n.startOf(d,c?"day":s),n.diff(i,r,s)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+s);var f="data"===a.ticks.source&&this.getDataTimestamps();for(e=d,t=0;e<i;e=+n.add(e,l,s),t++)dL(h,e,f);return e!==i&&"ticks"!==a.bounds&&1!==t||dL(h,e,f),Object.keys(h).sort(uL).map((function(e){return+e}))}},{key:"getLabelForValue",value:function(e){var t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}},{key:"format",value:function(e,t){var n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}},{key:"_tickFormatFunction",value:function(e,t,n,r){var i=this.options,a=i.ticks.callback;if(a)return SR(a,[e,t,n],this);var o=i.time.displayFormats,s=this._unit,l=this._majorUnit,u=s&&o[s],c=l&&o[l],h=n[t],d=l&&c&&h&&h.major;return this._adapter.format(e,r||(d?c:u))}},{key:"generateTickLabels",value:function(e){var t,n,r;for(t=0,n=e.length;t<n;++t)(r=e[t]).label=this._tickFormatFunction(r.value,t,e)}},{key:"getDecimalForValue",value:function(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(e){var t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}},{key:"_getLabelSize",value:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,r=eC(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}},{key:"_getLabelCapacity",value:function(e){var t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,fL(this,[e],this._majorUnit),r),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}},{key:"getDataTimestamps",value:function(){var e,t,n=this._cache.data||[];if(n.length)return n;var r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}},{key:"getLabelTimestamps",value:function(){var e,t,n=this._cache.labels||[];if(n.length)return n;var r=this.getLabels();for(e=0,t=r.length;e<t;++e)n.push(cL(this,r[e]));return this._cache.labels=this._normalized?n:this.normalize(n)}},{key:"normalize",value:function(e){return vC(e.sort(uL))}}]),n}(jP);function vL(e,t,n){var r,i,a,o,s=0,l=e.length-1;if(n){if(t>=e[s].pos&&t<=e[l].pos){var u=hC(e,"pos",t);s=u.lo,l=u.hi}var c=e[s];r=c.pos,a=c.time;var h=e[l];i=h.pos,o=h.time}else{if(t>=e[s].time&&t<=e[l].time){var d=hC(e,"time",t);s=d.lo,l=d.hi}var f=e[s];r=f.time,a=f.pos;var p=e[l];i=p.time,o=p.pos}var v=i-r;return v?a+(o-a)*(t-r)/v:a}s(pL,"id","time"),s(pL,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});var mL=function(e){_(n,e);var t=T(n);function n(e){var r;return g(this,n),(r=t.call(this,e))._table=[],r._minPos=void 0,r._tableRange=void 0,r}return b(n,[{key:"initOffsets",value:function(){var e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=vL(t,this.min),this._tableRange=vL(t,this.max)-this._minPos,py(w(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(e){var t,n,r,i,a,o=this.min,s=this.max,l=[],u=[];for(t=0,n=e.length;t<n;++t)(i=e[t])>=o&&i<=s&&l.push(i);if(l.length<2)return[{time:o,pos:0},{time:s,pos:1}];for(t=0,n=l.length;t<n;++t)a=l[t+1],r=l[t-1],i=l[t],Math.round((a+r)/2)!==i&&u.push({time:i,pos:t/(n-1)});return u}},{key:"_generate",value:function(){var e=this.min,t=this.max,r=py(w(n.prototype),"getDataTimestamps",this).call(this);return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort((function(e,t){return e-t}))}},{key:"_getTimestampsForTable",value:function(){var e=this._cache.all||[];if(e.length)return e;var t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e}},{key:"getDecimalForValue",value:function(e){return(vL(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return vL(this._table,n*this._tableRange+this._minPos,!0)}}]),n}(pL);s(mL,"id","timeseries"),s(mL,"defaults",pL.defaults);var gL=[BI,zN,FD,Object.freeze({__proto__:null,CategoryScale:zD,LinearScale:GD,LogarithmicScale:$D,RadialLinearScale:oL,TimeScale:pL,TimeSeriesScale:mL})];mN.register.apply(mN,m(gL));var yL,bL=mN,xL=function(e){var n=e.orders,r=(0,t.useRef)(null),i=null===n||void 0===n?void 0:n.reduce((function(e,t){return e+=parseInt(t.total)}),0);return(0,t.useEffect)((function(){if(0!==n.length){var e=n.map((function(e){return{date:new Date(parseInt(e.purchaseDate)),total:parseInt(e.total)}})),t={};e.forEach((function(e){var n=e.date.getMonth(),r=e.date.getDate(),i="".concat(n,"-").concat(r);t[i]||(t[i]={date:e.date,total:0});var a=e.total/100;t[i].total+=a}));var a=r.current.getContext("2d"),o={type:"line",data:{labels:Object.values(t).map((function(e){return e.date.toDateString()})),datasets:[{label:"Total Sales",data:Object.values(t).map((function(e){return e.total})),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.3}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Total Gross: $".concat(i/100," "),color:"rgba(255, 60, 5, 0.7)"}},scales:{x:{display:!0,title:{display:!0,color:"rgba(255, 60, 5, 0.8)"},ticks:{color:"rgba(245, 245, 245, 0.8)"},grid:{color:"rgba(225, 225, 225, 0.4)"}},y:{display:!0,title:{display:!0,color:"rgba(255, 60, 5, 0.8)"},ticks:{color:"rgba(245, 245, 245, 0.8)"},grid:{color:"rgba(225, 225, 225, 0.4)"}}}}};r.current.chart&&r.current.chart.destroy(),r.current.chart=new bL(a,o)}}),[n]),(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{className:"container",style:{display:"block",position:"relative"},children:(0,El.jsx)("canvas",{style:{maxHeight:500,backgroundColor:"rgba(250,250,250,0.05)",zIndex:2,backdropFilter:"blur(20px)"},className:"rounded",ref:r,id:"lineChart"})})})},_L=function(){var e=localStorage.getItem("id_token");wl.isTokenExpired(e),pp();var t=Cl(lu),n=t.loading,r=t.data;if(n)return(0,El.jsx)("div",{className:"text-center mt-40",children:(0,El.jsxs)("div",{className:"lds-ring",children:[(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{}),(0,El.jsx)("div",{})]})});var i=new Date,a=i.getUTCFullYear(),o=i.getUTCMonth(),s=new Date(Date.UTC(a,o,1)),l=new Date(Date.UTC(a,o+1,1)),u=r.adminOrderView.filter((function(e){var t=new Date(1*e.purchaseDate);return console.log(t),t>=s&&t<l}));return console.log(u),wl.isAdmin()?(0,El.jsxs)(El.Fragment,{children:[(0,El.jsx)("h2",{className:"mt-20",style:{display:"grid",placeItems:"center"},children:"Overview"}),(0,El.jsx)("br",{}),(0,El.jsxs)("div",{children:[(0,El.jsx)("p",{className:"text-center",children:"".concat(s.toLocaleString("default",{month:"short"})," ").concat(s.getDate(),", ").concat(s.getFullYear()," - \n          ").concat(l.toLocaleString("default",{month:"short"})," ").concat(l.getDate(),", ").concat(l.getFullYear())}),(0,El.jsx)(xL,{orders:u})]})]}):(0,El.jsx)(El.Fragment,{children:(0,El.jsx)("div",{className:"center mt-20",children:(0,El.jsx)(dA,{children:(0,El.jsx)("h2",{children:" Err no auth to access this page."})})})})},wL=Nr({uri:"/graphql"}),EL=(yL=function(e,t){var n=t.headers,r=localStorage.getItem("id_token");return{headers:u(u({},n),{},{authorization:r?"Bearer ".concat(r):""})}},new Pn((function(e,t){var n=et(e,[]);return new on((function(r){var i,a=!1;return Promise.resolve(n).then((function(t){return yL(t,e.getContext())})).then(e.setContext).then((function(){a||(i=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}))})).catch(r.error.bind(r)),function(){a=!0,i&&i.unsubscribe()}}))}))),SL=new Fa({link:EL.concat(wL),cache:new Bo});var TL=function(){return(0,El.jsx)(Wo,{client:SL,children:(0,El.jsx)(Ge,{children:(0,El.jsx)("div",{children:(0,El.jsxs)(nu,{children:[(0,El.jsx)(DA,{}),(0,El.jsxs)(Fe,{children:[(0,El.jsx)(Le,{path:"/",element:(0,El.jsx)(Tl,{})}),(0,El.jsx)(Le,{path:"/home",element:(0,El.jsx)(oA,{})}),(0,El.jsx)(Le,{path:"/login",element:(0,El.jsx)(uA,{})}),(0,El.jsx)(Le,{path:"/signup",element:(0,El.jsx)(cA,{})}),(0,El.jsx)(Le,{path:"/success",element:(0,El.jsx)(mA,{})}),(0,El.jsx)(Le,{path:"/dashboard",element:(0,El.jsx)(_A,{})}),(0,El.jsx)(Le,{path:"/products/:id",element:(0,El.jsx)(sA,{})}),(0,El.jsx)(Le,{path:"/products/categories/:id",element:(0,El.jsx)(EA,{})}),(0,El.jsx)(Le,{path:"/search/:id",element:(0,El.jsx)(CA,{})}),(0,El.jsx)(Le,{path:"/resetLink",element:(0,El.jsx)(OA,{})}),(0,El.jsx)(Le,{path:"/checkout",element:(0,El.jsx)(IA,{})}),(0,El.jsx)(Le,{path:"/contact",element:(0,El.jsx)(SA,{})}),(0,El.jsx)(Le,{path:"Terms",element:(0,El.jsx)(TA,{})}),(0,El.jsx)(Le,{path:"privacypolicy",element:(0,El.jsx)(MA,{})}),(0,El.jsx)(Le,{path:"pointspolicy",element:(0,El.jsx)(kA,{})}),(0,El.jsx)(Le,{path:"lithiumionbatwarn",element:(0,El.jsx)(AA,{})}),(0,El.jsx)(Le,{path:"labres",element:(0,El.jsx)(RA,{})}),(0,El.jsx)(Le,{path:"/ManageProducts",element:(0,El.jsx)(pA,{})}),(0,El.jsx)(Le,{path:"/VerifUsers",element:(0,El.jsx)(vA,{})}),(0,El.jsx)(Le,{path:"/AdminOrderView",element:(0,El.jsx)(yA,{})}),(0,El.jsx)(Le,{path:"/Overview",element:(0,El.jsx)(_L,{})}),(0,El.jsx)(Le,{path:"*",element:(0,El.jsx)(lA,{})})]})]})})})})},ML=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function kL(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.render((0,El.jsx)(t.StrictMode,{children:(0,El.jsx)(TL,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ML?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):kL(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):kL(t,e)}))}}()}()}();
//# sourceMappingURL=main.89b18944.js.map